[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (103.7ms)[0m  [1m[35mCREATE DATABASE "onlibrary_development" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (226.0ms)[0m  [1m[35mCREATE DATABASE "onlibrary_test" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 00:55:05 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | GC: 0.0ms)
Completed 200 OK in 734ms (Views: 25.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-f7ef253f.css" for 127.0.0.1 at 2024-12-18 00:55:06 +0300
Started GET "/assets/application-0405dba2.js" for 127.0.0.1 at 2024-12-18 00:55:06 +0300
Started GET "/assets/application.tailwind-a734f247.css" for 127.0.0.1 at 2024-12-18 00:55:06 +0300
Started GET "/" for 127.0.0.1 at 2024-12-18 00:55:32 +0300
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 33.9ms | GC: 0.0ms)
Completed 200 OK in 300ms (Views: 36.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-db208ab9.css" for 127.0.0.1 at 2024-12-18 00:55:32 +0300
Started GET "/login" for 127.0.0.1 at 2024-12-18 00:55:34 +0300
  
ActionController::RoutingError (No route matches [GET] "/login"):
  
Started GET "/login" for 127.0.0.1 at 2024-12-18 00:55:36 +0300
  
ActionController::RoutingError (No route matches [GET] "/login"):
  
Started GET "/login" for 127.0.0.1 at 2024-12-18 00:55:39 +0300
  
ActionController::RoutingError (No route matches [GET] "/login"):
  
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 00:56:16 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | GC: 0.0ms)
Completed 200 OK in 565ms (Views: 22.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 00:56:18 +0300
  
ActionController::RoutingError (No route matches [GET] "/login"):
  
Started GET "/login" for 127.0.0.1 at 2024-12-18 00:56:19 +0300
  
ActionController::RoutingError (No route matches [GET] "/login"):
  
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 01:02:02 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | GC: 0.0ms)
Completed 200 OK in 553ms (Views: 22.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 01:02:04 +0300
  
ActionController::RoutingError (No route matches [GET] "/register"):
  
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 01:13:25 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | GC: 0.0ms)
Completed 200 OK in 549ms (Views: 22.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-cd426d64.css" for 127.0.0.1 at 2024-12-18 01:13:26 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-18 01:13:27 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 3.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 01:13:31 +0300
  
AbstractController::ActionNotFound (The action 'new' could not be found for SessionsController):
  
actionpack (8.0.1) lib/abstract_controller/base.rb:158:in `process'
actionview (8.0.1) lib/action_view/rendering.rb:40:in `process'
actionpack (8.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (8.0.1) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.1) lib/rails/engine/lazy_route_set.rb:68:in `call'
rack (3.1.8) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.8) lib/rack/etag.rb:29:in `call'
rack (3.1.8) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.8) lib/rack/head.rb:15:in `call'
actionpack (8.0.1) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (8.0.1) lib/action_dispatch/http/content_security_policy.rb:38:in `call'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:272:in `context'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:266:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/cookies.rb:706:in `call'
activerecord (8.0.1) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.8) lib/rack/method_override.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.5.0) lib/puma/configuration.rb:279:in `call'
puma (6.5.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.5.0) lib/puma/thread_pool.rb:389:in `with_force_shutdown'
puma (6.5.0) lib/puma/request.rb:98:in `handle_request'
puma (6.5.0) lib/puma/server.rb:468:in `process_client'
puma (6.5.0) lib/puma/server.rb:249:in `block in run'
puma (6.5.0) lib/puma/thread_pool.rb:166:in `block in spawn_thread'
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 01:14:45 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | GC: 0.0ms)
Completed 200 OK in 553ms (Views: 22.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 01:14:47 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 3.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 01:21:10 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 22.0ms | GC: 0.0ms)
Completed 200 OK in 568ms (Views: 28.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application.tailwind-a734f247.css" for 127.0.0.1 at 2024-12-18 01:21:11 +0300
Started GET "/assets/application-b2283233.css" for 127.0.0.1 at 2024-12-18 01:21:11 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-18 01:21:11 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 500 Internal Server Error in 260ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (Passed nil to the :model argument, expect an object or false)
Caused by: ArgumentError (Passed nil to the :model argument, expect an object or false)

Information for: ActionView::Template::Error (Passed nil to the :model argument, expect an object or false):
    2:   <div class="bg-white p-8 rounded-lg shadow-lg max-w-md w-full">
    3:     <h2 class="text-2xl font-bold mb-6 text-center">Регистрация</h2>
    4: 
    5:     <%= form_with model: @user, local: true do |form| %>
    6:       <% if @user.errors.any? %>
    7:         <div class="mb-4">
    8:           <ul>
  
app/views/users/new.html.erb:5

Information for cause: ArgumentError (Passed nil to the :model argument, expect an object or false):
  
app/views/users/new.html.erb:5
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 01:22:11 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | GC: 0.0ms)
Completed 200 OK in 546ms (Views: 21.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application.tailwind-a734f247.css" for 127.0.0.1 at 2024-12-18 01:22:12 +0300
Started GET "/assets/application-b2283233.css" for 127.0.0.1 at 2024-12-18 01:22:12 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-18 01:22:13 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 500 Internal Server Error in 255ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (Passed nil to the :model argument, expect an object or false)
Caused by: ArgumentError (Passed nil to the :model argument, expect an object or false)

Information for: ActionView::Template::Error (Passed nil to the :model argument, expect an object or false):
    2:   <div class="bg-white p-8 rounded-lg shadow-lg max-w-md w-full">
    3:     <h2 class="text-2xl font-bold mb-6 text-center">Регистрация</h2>
    4: 
    5:     <%= form_with model: @user, local: true do |form| %>
    6:       <% if @user.errors.any? %>
    7:         <div class="mb-4">
    8:           <ul>
  
app/views/users/new.html.erb:5

Information for cause: ArgumentError (Passed nil to the :model argument, expect an object or false):
  
app/views/users/new.html.erb:5
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 01:25:02 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | GC: 0.0ms)
Completed 200 OK in 547ms (Views: 22.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 01:25:03 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 500 Internal Server Error in 256ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (Passed nil to the :model argument, expect an object or false)
Caused by: ArgumentError (Passed nil to the :model argument, expect an object or false)

Information for: ActionView::Template::Error (Passed nil to the :model argument, expect an object or false):
    11: 
    12: <div class="bg-white p-8 rounded-lg shadow-md w-96">
    13:   <h2 class="text-2xl font-semibold text-center mb-6">Регистрация</h2>
    14:   <%= form_with(model: @user, local: true) do |form| %>
    15:     <div class="mb-4">
    16:       <%= form.label :username, class: "block text-sm font-medium text-gray-700" %>
    17:       <%= form.text_field :username, required: true, class: "mt-1 block w-full border border-gray-300 rounded-md p-2 focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50" %>
  
app/views/users/new.html.erb:14

Information for cause: ArgumentError (Passed nil to the :model argument, expect an object or false):
  
app/views/users/new.html.erb:14
Started GET "/register" for 127.0.0.1 at 2024-12-18 01:25:04 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 500 Internal Server Error in 268ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (Passed nil to the :model argument, expect an object or false)
Caused by: ArgumentError (Passed nil to the :model argument, expect an object or false)

Information for: ActionView::Template::Error (Passed nil to the :model argument, expect an object or false):
    11: 
    12: <div class="bg-white p-8 rounded-lg shadow-md w-96">
    13:   <h2 class="text-2xl font-semibold text-center mb-6">Регистрация</h2>
    14:   <%= form_with(model: @user, local: true) do |form| %>
    15:     <div class="mb-4">
    16:       <%= form.label :username, class: "block text-sm font-medium text-gray-700" %>
    17:       <%= form.text_field :username, required: true, class: "mt-1 block w-full border border-gray-300 rounded-md p-2 focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50" %>
  
app/views/users/new.html.erb:14

Information for cause: ArgumentError (Passed nil to the :model argument, expect an object or false):
  
app/views/users/new.html.erb:14
Started GET "/register" for 127.0.0.1 at 2024-12-18 01:26:17 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 500 Internal Server Error in 257ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `users_path' for an instance of #<Class:0x0000025b6beed7c0>)
Caused by: NameError (undefined local variable or method `users_path' for an instance of #<Class:0x0000025b6beed7c0>)

Information for: ActionView::Template::Error (undefined local variable or method `users_path' for an instance of #<Class:0x0000025b6beed7c0>):
    10: 
    11: <div class="bg-white p-8 rounded-lg shadow-md w-96">
    12:   <h2 class="text-2xl font-semibold text-center mb-6">Регистрация</h2>
    13:   <form action="<%= users_path %>" method="post">
    14:     <div class="mb-4">
    15:       <label for="user_username" class="block text-sm font-medium text-gray-700">Имя пользователя</label>
    16:       <input type="text" name="user[username]" id="user_username" required class="mt-1 block w-full border border-gray-300 rounded-md p-2 focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
  
app/views/users/new.html.erb:13

Information for cause: NameError (undefined local variable or method `users_path' for an instance of #<Class:0x0000025b6beed7c0>):
  
app/views/users/new.html.erb:13
Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-18 01:26:17 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/" for 127.0.0.1 at 2024-12-18 01:26:22 +0300
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 263ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 01:26:24 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 500 Internal Server Error in 263ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `users_path' for an instance of #<Class:0x0000025b6beed7c0>)
Caused by: NameError (undefined local variable or method `users_path' for an instance of #<Class:0x0000025b6beed7c0>)

Information for: ActionView::Template::Error (undefined local variable or method `users_path' for an instance of #<Class:0x0000025b6beed7c0>):
    10: 
    11: <div class="bg-white p-8 rounded-lg shadow-md w-96">
    12:   <h2 class="text-2xl font-semibold text-center mb-6">Регистрация</h2>
    13:   <form action="<%= users_path %>" method="post">
    14:     <div class="mb-4">
    15:       <label for="user_username" class="block text-sm font-medium text-gray-700">Имя пользователя</label>
    16:       <input type="text" name="user[username]" id="user_username" required class="mt-1 block w-full border border-gray-300 rounded-md p-2 focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
  
app/views/users/new.html.erb:13

Information for cause: NameError (undefined local variable or method `users_path' for an instance of #<Class:0x0000025b6beed7c0>):
  
app/views/users/new.html.erb:13
Started GET "/" for 127.0.0.1 at 2024-12-18 01:27:34 +0300
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 6.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-18 01:27:35 +0300
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 3.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 01:27:36 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 01:27:40 +0300
  
AbstractController::ActionNotFound (The action 'new' could not be found for SessionsController):
  
actionpack (8.0.1) lib/abstract_controller/base.rb:158:in `process'
actionview (8.0.1) lib/action_view/rendering.rb:40:in `process'
actionpack (8.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (8.0.1) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.1) lib/rails/engine/lazy_route_set.rb:68:in `call'
rack (3.1.8) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.8) lib/rack/etag.rb:29:in `call'
rack (3.1.8) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.8) lib/rack/head.rb:15:in `call'
actionpack (8.0.1) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (8.0.1) lib/action_dispatch/http/content_security_policy.rb:38:in `call'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:272:in `context'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:266:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/cookies.rb:706:in `call'
activerecord (8.0.1) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.8) lib/rack/method_override.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.5.0) lib/puma/configuration.rb:279:in `call'
puma (6.5.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.5.0) lib/puma/thread_pool.rb:389:in `with_force_shutdown'
puma (6.5.0) lib/puma/request.rb:98:in `handle_request'
puma (6.5.0) lib/puma/server.rb:468:in `process_client'
puma (6.5.0) lib/puma/server.rb:249:in `block in run'
puma (6.5.0) lib/puma/thread_pool.rb:166:in `block in spawn_thread'
Started GET "/register" for 127.0.0.1 at 2024-12-18 01:27:43 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 01:32:06 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 17.3ms | GC: 0.0ms)
Completed 200 OK in 553ms (Views: 24.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-c8f704e6.css" for 127.0.0.1 at 2024-12-18 01:32:07 +0300
Started GET "/assets/application.tailwind-a734f247.css" for 127.0.0.1 at 2024-12-18 01:32:07 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-18 01:32:08 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 15.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.2ms | GC: 0.0ms)
Completed 200 OK in 273ms (Views: 18.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 01:32:09 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 01:32:15 +0300
  
AbstractController::ActionNotFound (The action 'new' could not be found for SessionsController):
  
actionpack (8.0.1) lib/abstract_controller/base.rb:158:in `process'
actionview (8.0.1) lib/action_view/rendering.rb:40:in `process'
actionpack (8.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (8.0.1) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.1) lib/rails/engine/lazy_route_set.rb:68:in `call'
rack (3.1.8) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.8) lib/rack/etag.rb:29:in `call'
rack (3.1.8) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.8) lib/rack/head.rb:15:in `call'
actionpack (8.0.1) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (8.0.1) lib/action_dispatch/http/content_security_policy.rb:38:in `call'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:272:in `context'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:266:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/cookies.rb:706:in `call'
activerecord (8.0.1) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.8) lib/rack/method_override.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.5.0) lib/puma/configuration.rb:279:in `call'
puma (6.5.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.5.0) lib/puma/thread_pool.rb:389:in `with_force_shutdown'
puma (6.5.0) lib/puma/request.rb:98:in `handle_request'
puma (6.5.0) lib/puma/server.rb:468:in `process_client'
puma (6.5.0) lib/puma/server.rb:249:in `block in run'
puma (6.5.0) lib/puma/thread_pool.rb:166:in `block in spawn_thread'
Started GET "/register" for 127.0.0.1 at 2024-12-18 01:32:17 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 01:36:29 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 500 Internal Server Error in 259ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `users_path' for an instance of #<Class:0x000001c74a47faa0>)
Caused by: NameError (undefined local variable or method `users_path' for an instance of #<Class:0x000001c74a47faa0>)

Information for: ActionView::Template::Error (undefined local variable or method `users_path' for an instance of #<Class:0x000001c74a47faa0>):
    10: 
    11: <div class="bg-white p-8 rounded-lg shadow-md w-96">
    12:   <h2 class="text-2xl font-semibold text-center mb-6">Регистрация</h2>
    13:   <%= form_for @user, url: users_path, html: { method: :post } do |f| %>
    14:     <div class="mb-4">
    15:       <%= f.label :username, class: "block text-sm font-medium text-gray-700" %>
    16:       <%= f.text_field :username, required: true, class: "mt-1 block w-full border border-gray-300 rounded-md p-2 focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50" %>
  
app/views/users/new.html.erb:13

Information for cause: NameError (undefined local variable or method `users_path' for an instance of #<Class:0x000001c74a47faa0>):
  
app/views/users/new.html.erb:13
Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-18 01:36:30 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/register" for 127.0.0.1 at 2024-12-18 01:36:52 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 276ms (Views: 6.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-c8f704e6.css" for 127.0.0.1 at 2024-12-18 01:36:52 +0300
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 02:00:36 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20241217224518_create_users.rb


):
  
activerecord (8.0.1) lib/active_record/migration.rb:743:in `check_pending_migrations'
activerecord (8.0.1) lib/active_record/migration.rb:660:in `block (2 levels) in call'
activesupport (8.0.1) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (8.0.1) lib/active_record/migration.rb:665:in `block in call'
activerecord (8.0.1) lib/active_record/migration.rb:657:in `synchronize'
activerecord (8.0.1) lib/active_record/migration.rb:657:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.8) lib/rack/method_override.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.5.0) lib/puma/configuration.rb:279:in `call'
puma (6.5.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.5.0) lib/puma/thread_pool.rb:389:in `with_force_shutdown'
puma (6.5.0) lib/puma/request.rb:98:in `handle_request'
puma (6.5.0) lib/puma/server.rb:468:in `process_client'
puma (6.5.0) lib/puma/server.rb:249:in `block in run'
puma (6.5.0) lib/puma/thread_pool.rb:166:in `block in spawn_thread'
Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-18 02:00:36 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20241217224518_create_users.rb


):
  
activerecord (8.0.1) lib/active_record/migration.rb:743:in `check_pending_migrations'
activerecord (8.0.1) lib/active_record/migration.rb:660:in `block (2 levels) in call'
activesupport (8.0.1) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (8.0.1) lib/active_record/migration.rb:665:in `block in call'
activerecord (8.0.1) lib/active_record/migration.rb:657:in `synchronize'
activerecord (8.0.1) lib/active_record/migration.rb:657:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.8) lib/rack/method_override.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.5.0) lib/puma/configuration.rb:279:in `call'
puma (6.5.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.5.0) lib/puma/thread_pool.rb:389:in `with_force_shutdown'
puma (6.5.0) lib/puma/request.rb:98:in `handle_request'
puma (6.5.0) lib/puma/server.rb:468:in `process_client'
puma (6.5.0) lib/puma/server.rb:249:in `block in run'
puma (6.5.0) lib/puma/thread_pool.rb:166:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/b669f2d071c497a8ad5dcf62afc349d5/trace" for 127.0.0.1 at 2024-12-18 02:01:10 +0300
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 02:07:36 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20241217224518_create_users.rb


):
  
activerecord (8.0.1) lib/active_record/migration.rb:743:in `check_pending_migrations'
activerecord (8.0.1) lib/active_record/migration.rb:660:in `block (2 levels) in call'
activesupport (8.0.1) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (8.0.1) lib/active_record/migration.rb:665:in `block in call'
activerecord (8.0.1) lib/active_record/migration.rb:657:in `synchronize'
activerecord (8.0.1) lib/active_record/migration.rb:657:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.8) lib/rack/method_override.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.5.0) lib/puma/configuration.rb:279:in `call'
puma (6.5.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.5.0) lib/puma/thread_pool.rb:389:in `with_force_shutdown'
puma (6.5.0) lib/puma/request.rb:98:in `handle_request'
puma (6.5.0) lib/puma/server.rb:468:in `process_client'
puma (6.5.0) lib/puma/server.rb:249:in `block in run'
puma (6.5.0) lib/puma/thread_pool.rb:166:in `block in spawn_thread'
Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-18 02:07:36 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20241217224518_create_users.rb


):
  
activerecord (8.0.1) lib/active_record/migration.rb:743:in `check_pending_migrations'
activerecord (8.0.1) lib/active_record/migration.rb:660:in `block (2 levels) in call'
activesupport (8.0.1) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (8.0.1) lib/active_record/migration.rb:665:in `block in call'
activerecord (8.0.1) lib/active_record/migration.rb:657:in `synchronize'
activerecord (8.0.1) lib/active_record/migration.rb:657:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.8) lib/rack/method_override.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.5.0) lib/puma/configuration.rb:279:in `call'
puma (6.5.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.5.0) lib/puma/thread_pool.rb:389:in `with_force_shutdown'
puma (6.5.0) lib/puma/request.rb:98:in `handle_request'
puma (6.5.0) lib/puma/server.rb:468:in `process_client'
puma (6.5.0) lib/puma/server.rb:249:in `block in run'
puma (6.5.0) lib/puma/thread_pool.rb:166:in `block in spawn_thread'
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mUser Load (93.7ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for pp */ LIMIT 11 /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (112.3ms)[0m  [1m[35mCREATE DATABASE "onlibrary_development" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (113.3ms)[0m  [1m[35mCREATE DATABASE "onlibrary_test" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to CreateUsers (20241217224518)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Onlibrary'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username") /*application='Onlibrary'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241217224518') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 02:16:46 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | GC: 0.0ms)
Completed 200 OK in 562ms (Views: 23.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-a3b889f2.css" for 127.0.0.1 at 2024-12-18 02:16:47 +0300
Started GET "/assets/application.tailwind-a734f247.css" for 127.0.0.1 at 2024-12-18 02:16:47 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-18 02:16:48 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 6.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | GC: 0.0ms)
Completed 200 OK in 266ms (Views: 9.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/register" for 127.0.0.1 at 2024-12-18 02:17:10 +0300
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"123", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрироваться"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (3.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = '123' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."password" = '123' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
Completed 500 Internal Server Error in 591ms (ActiveRecord: 15.9ms (3 queries, 0 cached) | GC: 0.2ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
)
Caused by: PG::UndefinedColumn (ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
)

Information for: ActiveRecord::StatementInvalid (PG::UndefinedColumn: ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
):
  

Information for cause: PG::UndefinedColumn (ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
):
  
app/controllers/users_controller.rb:7:in `create'
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (95.3ms)[0m  [1m[35mCREATE DATABASE "onlibrary_development" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (204.5ms)[0m  [1m[35mCREATE DATABASE "onlibrary_test" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (299.8ms)[0m  [1m[35mCREATE DATABASE "onlibrary_development" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (115.9ms)[0m  [1m[35mCREATE DATABASE "onlibrary_test" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 11:47:54 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 74.9ms | GC: 0.0ms)
Completed 200 OK in 861ms (Views: 132.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 11:47:56 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 45.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 46.3ms | GC: 0.0ms)
Completed 200 OK in 280ms (Views: 48.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/register" for 127.0.0.1 at 2024-12-18 11:48:03 +0300
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"123", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрироваться"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (2.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = '123' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (10.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."password" = '123' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
Completed 500 Internal Server Error in 764ms (ActiveRecord: 23.4ms (3 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
)
Caused by: PG::UndefinedColumn (ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
)

Information for: ActiveRecord::StatementInvalid (PG::UndefinedColumn: ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
):
  

Information for cause: PG::UndefinedColumn (ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
):
  
app/controllers/users_controller.rb:7:in `create'
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 11:54:13 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 74.3ms | GC: 0.0ms)
Completed 200 OK in 844ms (Views: 133.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 11:54:16 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 45.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 45.7ms | GC: 0.0ms)
Completed 200 OK in 278ms (Views: 47.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/register" for 127.0.0.1 at 2024-12-18 11:54:24 +0300
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"123", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрироваться"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (3.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = '123' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."password" = '123' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
Completed 500 Internal Server Error in 659ms (ActiveRecord: 16.4ms (3 queries, 0 cached) | GC: 0.2ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
)
Caused by: PG::UndefinedColumn (ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
)

Information for: ActiveRecord::StatementInvalid (PG::UndefinedColumn: ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
):
  

Information for cause: PG::UndefinedColumn (ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
):
  
app/controllers/users_controller.rb:7:in `create'
Started GET "/" for 127.0.0.1 at 2024-12-18 11:59:28 +0300
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 220ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 11:59:31 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 12:08:19 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | GC: 0.0ms)
Completed 200 OK in 466ms (Views: 21.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 12:08:20 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 6.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | GC: 0.0ms)
Completed 200 OK in 240ms (Views: 8.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/register" for 127.0.0.1 at 2024-12-18 12:08:25 +0300
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"123", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрироваться"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (3.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = '123' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES ('123', '123@mail.ru', '$2a$12$jXJpAagyQXCnh/hbxHPLLuGb6wsuJMfiRJ4N4lz7/0dutmquTWuWG', '2024-12-18 09:08:25.661298', '2024-12-18 09:08:25.661298') RETURNING "id" /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
Redirected to http://127.0.0.1:3000/dashboard
Completed 302 Found in 541ms (ActiveRecord: 17.0ms (3 queries, 0 cached) | GC: 0.2ms)


Started GET "/dashboard" for 127.0.0.1 at 2024-12-18 12:08:25 +0300
Processing by DashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 224ms (Views: 3.3ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 12:10:44 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | GC: 0.0ms)
Completed 200 OK in 480ms (Views: 20.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 12:10:45 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 5.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | GC: 0.0ms)
Completed 200 OK in 222ms (Views: 8.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 12:10:47 +0300
Processing by SessionsController#new as HTML
Completed 406 Not Acceptable in 212ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionController::MissingExactTemplate (SessionsController#new is missing a template for request formats: text/html):
  
actionpack (8.0.1) lib/action_controller/metal/implicit_render.rb:49:in `default_render'
actionpack (8.0.1) lib/action_controller/metal/basic_implicit_render.rb:9:in `send_action'
actionpack (8.0.1) lib/abstract_controller/base.rb:226:in `process_action'
actionpack (8.0.1) lib/action_controller/metal/rendering.rb:193:in `process_action'
actionpack (8.0.1) lib/abstract_controller/callbacks.rb:261:in `block in process_action'
activesupport (8.0.1) lib/active_support/callbacks.rb:120:in `block in run_callbacks'
turbo-rails (2.0.11) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.11) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (8.0.1) lib/active_support/callbacks.rb:129:in `block in run_callbacks'
actiontext (8.0.1) lib/action_text/rendering.rb:25:in `with_renderer'
actiontext (8.0.1) lib/action_text/engine.rb:71:in `block (4 levels) in <class:Engine>'
activesupport (8.0.1) lib/active_support/callbacks.rb:129:in `instance_exec'
activesupport (8.0.1) lib/active_support/callbacks.rb:129:in `block in run_callbacks'
activesupport (8.0.1) lib/active_support/callbacks.rb:140:in `run_callbacks'
actionpack (8.0.1) lib/abstract_controller/callbacks.rb:260:in `process_action'
actionpack (8.0.1) lib/action_controller/metal/rescue.rb:27:in `process_action'
actionpack (8.0.1) lib/action_controller/metal/instrumentation.rb:76:in `block in process_action'
activesupport (8.0.1) lib/active_support/notifications.rb:210:in `block in instrument'
activesupport (8.0.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (8.0.1) lib/active_support/notifications.rb:210:in `instrument'
actionpack (8.0.1) lib/action_controller/metal/instrumentation.rb:75:in `process_action'
actionpack (8.0.1) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (8.0.1) lib/active_record/railties/controller_runtime.rb:39:in `process_action'
actionpack (8.0.1) lib/abstract_controller/base.rb:163:in `process'
actionview (8.0.1) lib/action_view/rendering.rb:40:in `process'
actionpack (8.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (8.0.1) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.1) lib/rails/engine/lazy_route_set.rb:68:in `call'
rack (3.1.8) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.8) lib/rack/etag.rb:29:in `call'
rack (3.1.8) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.8) lib/rack/head.rb:15:in `call'
actionpack (8.0.1) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (8.0.1) lib/action_dispatch/http/content_security_policy.rb:38:in `call'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:272:in `context'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:266:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/cookies.rb:706:in `call'
activerecord (8.0.1) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.8) lib/rack/method_override.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.5.0) lib/puma/configuration.rb:279:in `call'
puma (6.5.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.5.0) lib/puma/thread_pool.rb:389:in `with_force_shutdown'
puma (6.5.0) lib/puma/request.rb:98:in `handle_request'
puma (6.5.0) lib/puma/server.rb:468:in `process_client'
puma (6.5.0) lib/puma/server.rb:249:in `block in run'
puma (6.5.0) lib/puma/thread_pool.rb:166:in `block in spawn_thread'
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 12:23:49 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 23.5ms | GC: 0.0ms)
Completed 200 OK in 476ms (Views: 29.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-0070574f.css" for 127.0.0.1 at 2024-12-18 12:23:50 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-18 12:23:51 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 6.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | GC: 0.0ms)
Completed 200 OK in 219ms (Views: 8.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 12:23:53 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/register" for 127.0.0.1 at 2024-12-18 12:24:10 +0300
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"123", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрироваться"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (3.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = '123' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = '123@aaa.com' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
Redirected to http://127.0.0.1:3000/register
Completed 302 Found in 655ms (ActiveRecord: 14.7ms (2 queries, 0 cached) | GC: 0.2ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 12:24:10 +0300
Processing by UsersController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 221ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 12:24:34 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 500 Internal Server Error in 219ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>)
Caused by: NameError (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>)

Information for: ActionView::Template::Error (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>):
    21:     </div>
    22:     <%= f.submit "Войти", class: "w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 rounded-md" %>
    23:   <% end %>
    24:   <p class="mt-4 text-center text-sm text-gray-600">Нет аккаунта? <%= link_to 'Зарегистрироваться', signup_path, class: "text-blue-600 hover:underline" %></p>
    25: </div>
    26: 
    27: </body>
  
app/views/sessions/new.html.erb:24

Information for cause: NameError (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>):
  
app/views/sessions/new.html.erb:24
Started POST "/register" for 127.0.0.1 at 2024-12-18 12:24:47 +0300
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"1234", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрироваться"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = '1234' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES ('1234', '1234@mail.ru', '$2a$12$GVX7LbzTCuyngoDkjMGqr.IAezzg81EiY4SIxW5TXvwZCNv.T8IZu', '2024-12-18 09:24:48.293330', '2024-12-18 09:24:48.293330') RETURNING "id" /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
Redirected to http://127.0.0.1:3000/dashboard
Completed 302 Found in 437ms (ActiveRecord: 5.2ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/dashboard" for 127.0.0.1 at 2024-12-18 12:24:48 +0300
Processing by DashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='index',application='Onlibrary',controller='dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 221ms (Views: 3.2ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 12:24:52 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 500 Internal Server Error in 211ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>)
Caused by: NameError (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>)

Information for: ActionView::Template::Error (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>):
    21:     </div>
    22:     <%= f.submit "Войти", class: "w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 rounded-md" %>
    23:   <% end %>
    24:   <p class="mt-4 text-center text-sm text-gray-600">Нет аккаунта? <%= link_to 'Зарегистрироваться', signup_path, class: "text-blue-600 hover:underline" %></p>
    25: </div>
    26: 
    27: </body>
  
app/views/sessions/new.html.erb:24

Information for cause: NameError (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>):
  
app/views/sessions/new.html.erb:24
Started GET "/login" for 127.0.0.1 at 2024-12-18 12:24:58 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 500 Internal Server Error in 218ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>)
Caused by: NameError (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>)

Information for: ActionView::Template::Error (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>):
    21:     </div>
    22:     <%= f.submit "Войти", class: "w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 rounded-md" %>
    23:   <% end %>
    24:   <p class="mt-4 text-center text-sm text-gray-600">Нет аккаунта? <%= link_to 'Зарегистрироваться', signup_path, class: "text-blue-600 hover:underline" %></p>
    25: </div>
    26: 
    27: </body>
  
app/views/sessions/new.html.erb:24

Information for cause: NameError (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>):
  
app/views/sessions/new.html.erb:24
Started GET "/login" for 127.0.0.1 at 2024-12-18 12:24:58 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 500 Internal Server Error in 261ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)


  
ActionView::Template::Error (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>)
Caused by: NameError (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>)

Information for: ActionView::Template::Error (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>):
    21:     </div>
    22:     <%= f.submit "Войти", class: "w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 rounded-md" %>
    23:   <% end %>
    24:   <p class="mt-4 text-center text-sm text-gray-600">Нет аккаунта? <%= link_to 'Зарегистрироваться', signup_path, class: "text-blue-600 hover:underline" %></p>
    25: </div>
    26: 
    27: </body>
  
app/views/sessions/new.html.erb:24

Information for cause: NameError (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>):
  
app/views/sessions/new.html.erb:24
Started GET "/register" for 127.0.0.1 at 2024-12-18 12:25:01 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 3.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 12:27:38 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 213ms (Views: 5.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 12:27:39 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 3.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 217ms (Views: 6.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 12:27:40 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.1ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.2ms)
Completed 200 OK in 215ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 12:27:41 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 5.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 12:27:42 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 5.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | GC: 0.0ms)
Completed 200 OK in 214ms (Views: 7.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 12:27:43 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 209ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-18 12:27:52 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
[31mUnpermitted parameters: :authenticity_token, :session, :commit. Context: { controller: SessionsController, action: create, request: #<ActionDispatch::Request:0x000001bf26011d78>, params: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти", "controller"=>"sessions", "action"=>"create"} }[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 212ms (ActiveRecord: 1.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 12:27:52 +0300
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-18 12:32:33 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
[31mUnpermitted parameters: :authenticity_token, :session, :commit. Context: { controller: SessionsController, action: create, request: #<ActionDispatch::Request:0x000001bf255e20a0>, params: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти", "controller"=>"sessions", "action"=>"create"} }[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 215ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 12:32:33 +0300
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 12:32:38 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 213ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 12:32:38 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-18 12:32:51 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
[31mUnpermitted parameters: :authenticity_token, :session, :commit. Context: { controller: SessionsController, action: create, request: #<ActionDispatch::Request:0x000001bf26518a38>, params: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти", "controller"=>"sessions", "action"=>"create"} }[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 213ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 12:32:51 +0300
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 12:33:04 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | GC: 0.0ms)
Completed 200 OK in 466ms (Views: 21.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 12:33:09 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 6.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | GC: 0.0ms)
Completed 200 OK in 218ms (Views: 8.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 12:33:10 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 214ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-18 12:33:18 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
[31mUnpermitted parameters: :authenticity_token, :session, :commit. Context: { controller: SessionsController, action: create, request: #<ActionDispatch::Request:0x0000019655f592f8>, params: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти", "controller"=>"sessions", "action"=>"create"} }[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 442ms (ActiveRecord: 7.7ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 12:33:18 +0300
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 217ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 14:43:21 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 107.4ms | GC: 0.0ms)
Completed 200 OK in 882ms (Views: 161.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 14:43:25 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 49.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 50.2ms | GC: 0.0ms)
Completed 200 OK in 297ms (Views: 52.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 14:43:27 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 233ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-18 14:43:44 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
[31mUnpermitted parameters: :authenticity_token, :session, :commit. Context: { controller: SessionsController, action: create, request: #<ActionDispatch::Request:0x0000016643b8da30>, params: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти", "controller"=>"sessions", "action"=>"create"} }[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 517ms (ActiveRecord: 11.0ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 14:43:45 +0300
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started POST "/login" for 127.0.0.1 at 2024-12-18 14:50:24 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/dashboard
Completed 302 Found in 779ms (ActiveRecord: 11.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/dashboard" for 127.0.0.1 at 2024-12-18 14:50:25 +0300
Processing by DashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | GC: 0.0ms)
Completed 200 OK in 263ms (Views: 17.9ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:50:48 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 217ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:50:49 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 222ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 14:50:50 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 60.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 61.5ms | GC: 0.0ms)
Completed 200 OK in 283ms (Views: 63.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:50:51 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 206ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:50:52 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 210ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:50:52 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 209ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:50:53 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 208ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:50:53 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 209ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:50:53 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 211ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:50:54 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 210ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:50:54 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 209ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:52:52 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 213ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/dashboard" for 127.0.0.1 at 2024-12-18 14:52:54 +0300
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1 /*action='index',application='Onlibrary',controller='dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
Redirected to http://127.0.0.1:3000/login
Filter chain halted as :authenticate_user rendered or redirected
Completed 302 Found in 222ms (ActiveRecord: 1.1ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 14:52:54 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 5.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-18 14:53:03 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/dashboard
Completed 302 Found in 409ms (ActiveRecord: 1.6ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/dashboard" for 127.0.0.1 at 2024-12-18 14:53:04 +0300
Processing by DashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 225ms (Views: 4.2ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/" for 127.0.0.1 at 2024-12-18 14:53:05 +0300
  
ActionController::RoutingError (No route matches [DELETE] "/"):
  
Started GET "/dashboard" for 127.0.0.1 at 2024-12-18 14:53:06 +0300
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 244ms (Views: 1.4ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/" for 127.0.0.1 at 2024-12-18 14:53:08 +0300
  
ActionController::RoutingError (No route matches [DELETE] "/"):
  
Started GET "/dashboard" for 127.0.0.1 at 2024-12-18 14:53:08 +0300
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 2.1ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/" for 127.0.0.1 at 2024-12-18 14:53:10 +0300
  
ActionController::RoutingError (No route matches [DELETE] "/"):
  
Started GET "/dashboard" for 127.0.0.1 at 2024-12-18 14:53:10 +0300
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 209ms (Views: 1.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/dashboard" for 127.0.0.1 at 2024-12-18 14:59:15 +0300
Processing by DashboardController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 302ms (Views: 4.5ms | ActiveRecord: 5.7ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:59:16 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 211ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:59:18 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 210ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 15:01:10 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 233ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-18 15:01:11 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 230ms (Views: 5.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 15:01:12 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 4.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 0.0ms)
Completed 200 OK in 216ms (Views: 6.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 15:01:14 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 227ms (Views: 3.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 15:01:20 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 214ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 15:01:23 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-18 15:01:32 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/dashboard
Completed 302 Found in 420ms (ActiveRecord: 6.7ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/dashboard" for 127.0.0.1 at 2024-12-18 15:01:33 +0300
Processing by DashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 222ms (Views: 5.9ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 15:01:37 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 206ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-18 15:01:37 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 209ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 15:01:38 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 210ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 15:01:39 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 209ms (Views: 2.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 15:01:39 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 213ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 15:01:40 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-18 15:01:48 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '122@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 227ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 15:01:48 +0300
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (104.4ms)[0m  [1m[35mCREATE DATABASE "onlibrary_development" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (93.4ms)[0m  [1m[35mCREATE DATABASE "onlibrary_test" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (330.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "onlibrary_development" /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (239.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "onlibrary_test" /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (212.9ms)[0m  [1m[35mCREATE DATABASE "onlibrary_development" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (224.1ms)[0m  [1m[35mCREATE DATABASE "onlibrary_test" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE /*application='Onlibrary'*/[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Onlibrary'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Onlibrary'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username") /*application='Onlibrary'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20241217224518) /*application='Onlibrary'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-12-22 10:39:31.876355', '2024-12-22 10:39:31.876357') RETURNING "key" /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8e5ca99c8d43196c1d110a7e8cd75db4240fa1de', '2024-12-22 10:39:31.880390', '2024-12-22 10:39:31.880391') RETURNING "key" /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (204.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "onlibrary_development" /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (121.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "onlibrary_test" /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (331.4ms)[0m  [1m[35mCREATE DATABASE "onlibrary_development" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
  [1m[35mSQL (1.0ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (343.3ms)[0m  [1m[35mCREATE DATABASE "onlibrary_test" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE /*application='Onlibrary'*/[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Onlibrary'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Onlibrary'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username") /*application='Onlibrary'*/[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20241217224518) /*application='Onlibrary'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-12-22 10:40:25.742535', '2024-12-22 10:40:25.742538') RETURNING "key" /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8e5ca99c8d43196c1d110a7e8cd75db4240fa1de', '2024-12-22 10:40:25.746613', '2024-12-22 10:40:25.746614') RETURNING "key" /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to AddRoleToUsers (20241222104326)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "users" ADD "role" character varying /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241222104326') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-22 14:07:07 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 71.0ms | GC: 0.0ms)
Completed 200 OK in 839ms (Views: 130.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-99c071b5.css" for 127.0.0.1 at 2024-12-22 14:07:09 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-22 14:07:10 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 48.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 49.1ms | GC: 0.0ms)
Completed 200 OK in 287ms (Views: 51.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:07:11 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 231ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:07:19 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 570ms (ActiveRecord: 9.6ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:07:20 +0300
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:07:23 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 224ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/register" for 127.0.0.1 at 2024-12-22 14:07:38 +0300
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"1234", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрироваться"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = '1234' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at", "role") VALUES ('1234', '1234@mail.ru', '$2a$12$10Kjx2Eha4XJr5dl7yDrQOk4ilRacSLRryhwwrSnNAFDahLYyf7gi', '2024-12-22 11:07:39.215082', '2024-12-22 11:07:39.215082', 'user') RETURNING "id" /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
Completed 500 Internal Server Error in 418ms (ActiveRecord: 7.5ms (3 queries, 0 cached) | GC: 0.0ms)


  
NameError (undefined local variable or method `dashboard_path' for an instance of UsersController):
  
app/controllers/users_controller.rb:14:in `create'
Started GET "/register" for 127.0.0.1 at 2024-12-22 14:07:59 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 5.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:08:02 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 214ms (Views: 6.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:08:02 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 206ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:08:13 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 474ms (ActiveRecord: 2.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-22 14:08:14 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 234ms (Views: 3.4ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-22 14:09:49 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 218ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-22 14:09:50 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 217ms (Views: 3.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:09:50 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:09:51 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 216ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:10:00 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Completed 500 Internal Server Error in 214ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


  
BCrypt::Errors::InvalidHash (invalid hash):
  
app/controllers/sessions_controller.rb:7:in `create'
Started GET "/login" for 127.0.0.1 at 2024-12-22 14:10:40 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 209ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:10:52 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 397ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-22 14:10:53 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 1.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[36mUser Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = '123' LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at", "role") VALUES ('123', '123@mail.ru', '$2a$12$A1OkRw0/J04/clWSVQeIlu2LnvYIgg1W0JEWTq5OPa6by/TfHDksC', '2024-12-22 11:16:05.302795', '2024-12-22 11:16:05.302795', NULL) RETURNING "id" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
Started DELETE "/logout" for 127.0.0.1 at 2024-12-22 14:16:45 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 203ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-22 14:16:46 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 0.0ms)
Completed 200 OK in 208ms (Views: 6.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:16:46 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.2ms)
Completed 200 OK in 207ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:16:49 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.4ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.2ms)
Completed 200 OK in 210ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:16:56 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 600ms (ActiveRecord: 5.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:16:56 +0300
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:17:41 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
Started GET "/register" for 127.0.0.1 at 2024-12-22 14:17:41 +0300
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Processing by UsersController#new as HTML
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 424ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:17:42 +0300
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 227ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-22 14:27:49 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | GC: 0.0ms)
Completed 200 OK in 502ms (Views: 25.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-99c071b5.css" for 127.0.0.1 at 2024-12-22 14:27:50 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-22 14:27:50 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 6.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | GC: 0.0ms)
Completed 200 OK in 214ms (Views: 8.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:27:52 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 208ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:28:02 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
Started GET "/register" for 127.0.0.1 at 2024-12-22 14:28:02 +0300
Processing by UsersController#new as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 234ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 654ms (ActiveRecord: 16.8ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:28:03 +0300
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 221ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:30:35 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
Started GET "/register" for 127.0.0.1 at 2024-12-22 14:30:35 +0300
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 31500ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Processing by UsersController#new as HTML
Completed   in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-22 14:31:59 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | GC: 0.0ms)
Completed 200 OK in 452ms (Views: 21.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:32:00 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 5.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | GC: 0.0ms)
Completed 200 OK in 207ms (Views: 8.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:32:01 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 207ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:32:02 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 3.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:32:12 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
Started GET "/register" for 127.0.0.1 at 2024-12-22 14:32:12 +0300
Processing by UsersController#new as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 10089ms (Views: 3.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)


Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 10311ms (ActiveRecord: 14.9ms (1 query, 0 cached) | GC: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:32:22 +0300
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 227ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-22 14:32:28 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | GC: 0.0ms)
Completed 200 OK in 450ms (Views: 22.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:32:31 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 6.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | GC: 0.0ms)
Completed 200 OK in 216ms (Views: 8.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:32:32 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:32:38 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 49802ms (ActiveRecord: 11.0ms (1 query, 0 cached) | GC: 0.2ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started POST "/login" for 127.0.0.1 at 2024-12-22 14:33:33 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 39327ms (ActiveRecord: 12.4ms (1 query, 0 cached) | GC: 0.3ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-22 14:35:53 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | GC: 0.0ms)
Completed 200 OK in 447ms (Views: 21.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-99c071b5.css" for 127.0.0.1 at 2024-12-22 14:35:53 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-22 14:35:54 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 6.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 8.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:35:56 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 3.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:36:05 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 634ms (ActiveRecord: 12.9ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-22 14:36:06 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 219ms (Views: 3.1ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-22 14:36:09 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 203ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-22 14:36:09 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 207ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:36:14 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 206ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:36:15 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 200ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:36:16 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 206ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:36:23 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 403ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-22 14:36:24 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 218ms (Views: 1.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-22 14:36:29 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 210ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-22 14:36:29 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:36:47 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.0ms)
Completed 200 OK in 229ms (Views: 6.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:36:48 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 213ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:36:55 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 403ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-22 14:36:56 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 217ms (Views: 1.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-22 14:38:57 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 205ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-22 14:38:57 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 209ms (Views: 5.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:38:58 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 209ms (Views: 4.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:38:58 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 7.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 8.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:38:59 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 210ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:39:07 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 402ms (ActiveRecord: 2.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 14:39:07 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 207ms (Views: 3.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-22 14:39:12 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти (админ)"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 204ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-22 14:39:12 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 204ms (Views: 1.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:39:20 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 213ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:39:20 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 217ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:39:29 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 401ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:39:29 +0300
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 210ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = '$2a$12$CBBZTzmyLWvXkkXHHaOHZuKzBhRtdSCH1rlKKbvHDm/0zA8bsyNiS', "updated_at" = '2024-12-22 11:45:33.863432' WHERE "users"."id" = 2 /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = '$2a$12$AdS8Zoa/sm/D28ODv/NxheAbHo7BR98m6Ny6n0gF2U9bwY/PcnZmi', "updated_at" = '2024-12-22 11:46:58.943045' WHERE "users"."id" = 2 /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
Started POST "/login" for 127.0.0.1 at 2024-12-22 14:47:20 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 514ms (ActiveRecord: 5.8ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 14:47:21 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.0ms)
Completed 200 OK in 234ms (Views: 5.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-22 14:47:23 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти (админ)"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 204ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-22 14:47:23 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 205ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:47:24 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 200ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:47:26 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 208ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:47:35 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 395ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 14:47:35 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 208ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-22 14:47:37 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти (админ)"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 205ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-22 14:47:37 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 206ms (Views: 1.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:47:54 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 217ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:47:55 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:48:04 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 396ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 14:48:05 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-22 14:48:07 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти (админ)"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 210ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-22 14:48:07 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 207ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:48:11 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 207ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:48:12 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 206ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:48:20 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 407ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-22 14:48:21 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 224ms (Views: 3.1ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to CreateBooks (20241222133613)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE "books" ("id" bigserial primary key, "name" character varying, "author" character varying, "count" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241222133613') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
Migrating to CreateOperation (20241222135104)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "operations" ("id" bigserial primary key, "user" bigint NOT NULL, "book" bigint NOT NULL, "took" timestamp NOT NULL, "returned" timestamp) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241222135104') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-22 17:18:53 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | GC: 0.0ms)
Completed 200 OK in 610ms (Views: 23.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-81e0f86f.css" for 127.0.0.1 at 2024-12-22 17:18:54 +0300
Started GET "/assets/application.tailwind-a734f247.css" for 127.0.0.1 at 2024-12-22 17:18:54 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-22 17:18:55 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 6.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | GC: 0.0ms)
Completed 200 OK in 289ms (Views: 9.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 17:18:56 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 4.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 17:19:04 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 590ms (ActiveRecord: 11.0ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 17:19:05 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 6.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 0.0ms)
Completed 500 Internal Server Error in 275ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `books_path' for an instance of #<Class:0x0000020225906860>)
Caused by: NameError (undefined local variable or method `books_path' for an instance of #<Class:0x0000020225906860>)

Information for: ActionView::Template::Error (undefined local variable or method `books_path' for an instance of #<Class:0x0000020225906860>):
     8: 
     9:     <%= button_to 'Добавить книги в базу данных', admin_dashboard_new_book_path, method: :get, class: 'px-6 py-3 text-white bg-blue-600 rounded-lg shadow hover:bg-blue-700 transition' %>
    10: 
    11:     <%= button_to 'Посмотреть книги из базы данных', books_path, method: :get, class: 'px-6 py-3 text-white bg-green-600 rounded-lg shadow hover:bg-green-700 transition' %>
    12: 
    13:     <%= button_to 'Выдать книгу пользователю', issue_book_path, method: :get, class: 'px-6 py-3 text-white bg-yellow-600 rounded-lg shadow hover:bg-yellow-700 transition' %>
    14: 
  
app/views/admin_dashboard/index.html.erb:11

Information for cause: NameError (undefined local variable or method `books_path' for an instance of #<Class:0x0000020225906860>):
  
app/views/admin_dashboard/index.html.erb:11
Started GET "/register" for 127.0.0.1 at 2024-12-22 17:19:11 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 2.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 17:19:11 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 17:20:20 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 6.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 17:20:26 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 460ms (ActiveRecord: 2.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 17:20:27 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 500 Internal Server Error in 256ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `books_path' for an instance of #<Class:0x0000020225d0f970>)
Caused by: NameError (undefined local variable or method `books_path' for an instance of #<Class:0x0000020225d0f970>)

Information for: ActionView::Template::Error (undefined local variable or method `books_path' for an instance of #<Class:0x0000020225d0f970>):
     8: 
     9:     <%= button_to 'Добавить книги в базу данных', admin_dashboard_new_book_path, method: :get, class: 'px-6 py-3 text-white bg-blue-600 rounded-lg shadow hover:bg-blue-700 transition' %>
    10: 
    11:     <!-- <%= button_to 'Посмотреть книги из базы данных', books_path, method: :get, class: 'px-6 py-3 text-white bg-green-600 rounded-lg shadow hover:bg-green-700 transition' %>
    12: 
    13:     <%= button_to 'Выдать книгу пользователю', issue_book_path, method: :get, class: 'px-6 py-3 text-white bg-yellow-600 rounded-lg shadow hover:bg-yellow-700 transition' %>-->
    14: 
  
app/views/admin_dashboard/index.html.erb:11

Information for cause: NameError (undefined local variable or method `books_path' for an instance of #<Class:0x0000020225d0f970>):
  
app/views/admin_dashboard/index.html.erb:11
Started GET "/login" for 127.0.0.1 at 2024-12-22 17:21:15 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 5.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 17:21:23 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 462ms (ActiveRecord: 2.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 17:21:24 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 500 Internal Server Error in 265ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <%# app/views/admin/index.html.erb %>

<div class="flex flex-col items-center justify-center h-screen bg-gray-50">

  <h1 class="text-4xl font-bold mb-10">Администраторская панель</h1>

  <div class="space-y-4">

    <%= button_to 'Добавить книги в базу данных', admin_dashboard_new_book_path, method: :get, class: 'px-6 py-3 text-white bg-blue-600 rounded-lg shadow hover:bg-blue-700 transition' %>

    <%=# button_to 'Посмотреть книги из базы данных', books_path, method: :get, class: 'px-6 py-3 text-white bg-green-600 rounded-lg shadow hover:bg-green-700 transition' %>

    <%= #button_to 'Выдать книгу пользователю', issue_book_path, method: :get, class: 'px-6 py-3 text-white bg-yellow-600 rounded-lg shadow hover:bg-yellow-700 transition' %>

    <%= button_to 'Выйти из аккаунта', logout_path, method: :delete, class: 'px-6 py-3 text-white bg-red-600 rounded-lg shadow hover:bg-red-700 transition' %>

  </div>

</div>
)
Caused by: ActiveSupport::SyntaxErrorProxy (C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:13: syntax error, unexpected constant, expecting ')'
...pend=( #button_to 'Выдать книгу пользова...
...                   ^~~~~~~~~~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:15: syntax error, unexpected constant, expecting ')'
....append=( button_to 'Выйти из аккаунта', logo...
...                     ^~~~~~~~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:17: syntax error, unexpected '<'
  </div>
  ^
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:19: unknown regexp options - dv
</div>'.freeze;
 ^~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:21: unterminated string meets end of file
          end
             ^
)

Information for: ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <%# app/views/admin/index.html.erb %>

<div class="flex flex-col items-center justify-center h-screen bg-gray-50">

  <h1 class="text-4xl font-bold mb-10">Администраторская панель</h1>

  <div class="space-y-4">

    <%= button_to 'Добавить книги в базу данных', admin_dashboard_new_book_path, method: :get, class: 'px-6 py-3 text-white bg-blue-600 rounded-lg shadow hover:bg-blue-700 transition' %>

    <%=# button_to 'Посмотреть книги из базы данных', books_path, method: :get, class: 'px-6 py-3 text-white bg-green-600 rounded-lg shadow hover:bg-green-700 transition' %>

    <%= #button_to 'Выдать книгу пользователю', issue_book_path, method: :get, class: 'px-6 py-3 text-white bg-yellow-600 rounded-lg shadow hover:bg-yellow-700 transition' %>

    <%= button_to 'Выйти из аккаунта', logout_path, method: :delete, class: 'px-6 py-3 text-white bg-red-600 rounded-lg shadow hover:bg-red-700 transition' %>

  </div>

</div>
):
1:    <%# app/views/admin/index.html.erb %>
2:    
3:    <div class="flex flex-col items-center justify-center h-screen bg-gray-50">
4:    
5:      <h1 class="text-4xl font-bold mb-10">Администраторская панель</h1>
6:    
7:      <div class="space-y-4">
8:    
9:        <%= button_to 'Добавить книги в базу данных', admin_dashboard_new_book_path, method: :get, class: 'px-6 py-3 text-white bg-blue-600 rounded-lg shadow hover:bg-blue-700 transition' %>
10:    
11:        <%=# button_to 'Посмотреть книги из базы данных', books_path, method: :get, class: 'px-6 py-3 text-white bg-green-600 rounded-lg shadow hover:bg-green-700 transition' %>
12:    
13:        <%= #button_to 'Выдать книгу пользователю', issue_book_path, method: :get, class: 'px-6 py-3 text-white bg-yellow-600 rounded-lg shadow hover:bg-yellow-700 transition' %>
14:    
15:        <%= button_to 'Выйти из аккаунта', logout_path, method: :delete, class: 'px-6 py-3 text-white bg-red-600 rounded-lg shadow hover:bg-red-700 transition' %>
16:    
17:      </div>
18:    
19:    </div>
  
app/views/admin_dashboard/index.html.erb:13: syntax error, unexpected constant, expecting ')'
app/views/admin_dashboard/index.html.erb:15: syntax error, unexpected constant, expecting ')'
app/views/admin_dashboard/index.html.erb:17: syntax error, unexpected '<'
app/views/admin_dashboard/index.html.erb:19: unknown regexp options - dv
app/views/admin_dashboard/index.html.erb:21: unterminated string meets end of file

Information for cause: ActiveSupport::SyntaxErrorProxy (C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:13: syntax error, unexpected constant, expecting ')'
...pend=( #button_to 'Выдать книгу пользова...
...                   ^~~~~~~~~~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:15: syntax error, unexpected constant, expecting ')'
....append=( button_to 'Выйти из аккаунта', logo...
...                     ^~~~~~~~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:17: syntax error, unexpected '<'
  </div>
  ^
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:19: unknown regexp options - dv
</div>'.freeze;
 ^~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:21: unterminated string meets end of file
          end
             ^
):
  
app/views/admin_dashboard/index.html.erb:13: syntax error, unexpected constant, expecting ')'
app/views/admin_dashboard/index.html.erb:15: syntax error, unexpected constant, expecting ')'
app/views/admin_dashboard/index.html.erb:17: syntax error, unexpected '<'
app/views/admin_dashboard/index.html.erb:19: unknown regexp options - dv
app/views/admin_dashboard/index.html.erb:21: unterminated string meets end of file
Started GET "/login" for 127.0.0.1 at 2024-12-22 17:21:59 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 5.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 17:22:03 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
Started GET "/register" for 127.0.0.1 at 2024-12-22 17:22:03 +0300
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 478ms (ActiveRecord: 3.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 17:22:03 +0300
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 282ms (Views: 6.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 500 Internal Server Error in 259ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div class="flex flex-col items-center justify-center h-screen bg-gray-50">

  <h1 class="text-4xl font-bold mb-10">Администраторская панель</h1>

  <div class="space-y-4">

    <%= button_to 'Добавить книги в базу данных', admin_dashboard_new_book_path, method: :get, class: 'px-6 py-3 text-white bg-blue-600 rounded-lg shadow hover:bg-blue-700 transition' %>

    <%=# button_to 'Посмотреть книги из базы данных', books_path, method: :get, class: 'px-6 py-3 text-white bg-green-600 rounded-lg shadow hover:bg-green-700 transition' %>

    <%= #button_to 'Выдать книгу пользователю', issue_book_path, method: :get, class: 'px-6 py-3 text-white bg-yellow-600 rounded-lg shadow hover:bg-yellow-700 transition' %>

    <%= button_to 'Выйти из аккаунта', logout_path, method: :delete, class: 'px-6 py-3 text-white bg-red-600 rounded-lg shadow hover:bg-red-700 transition' %>

  </div>

</div>
)
Caused by: ActiveSupport::SyntaxErrorProxy (C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:11: syntax error, unexpected constant, expecting ')'
...pend=( #button_to 'Выдать книгу пользова...
...                   ^~~~~~~~~~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:13: syntax error, unexpected constant, expecting ')'
....append=( button_to 'Выйти из аккаунта', logo...
...                     ^~~~~~~~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:15: syntax error, unexpected '<'
  </div>
  ^
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:17: unknown regexp options - dv
</div>'.freeze;
 ^~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:19: unterminated string meets end of file
          end
             ^
)

Information for: ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div class="flex flex-col items-center justify-center h-screen bg-gray-50">

  <h1 class="text-4xl font-bold mb-10">Администраторская панель</h1>

  <div class="space-y-4">

    <%= button_to 'Добавить книги в базу данных', admin_dashboard_new_book_path, method: :get, class: 'px-6 py-3 text-white bg-blue-600 rounded-lg shadow hover:bg-blue-700 transition' %>

    <%=# button_to 'Посмотреть книги из базы данных', books_path, method: :get, class: 'px-6 py-3 text-white bg-green-600 rounded-lg shadow hover:bg-green-700 transition' %>

    <%= #button_to 'Выдать книгу пользователю', issue_book_path, method: :get, class: 'px-6 py-3 text-white bg-yellow-600 rounded-lg shadow hover:bg-yellow-700 transition' %>

    <%= button_to 'Выйти из аккаунта', logout_path, method: :delete, class: 'px-6 py-3 text-white bg-red-600 rounded-lg shadow hover:bg-red-700 transition' %>

  </div>

</div>
):
1:    <div class="flex flex-col items-center justify-center h-screen bg-gray-50">
2:    
3:      <h1 class="text-4xl font-bold mb-10">Администраторская панель</h1>
4:    
5:      <div class="space-y-4">
6:    
7:        <%= button_to 'Добавить книги в базу данных', admin_dashboard_new_book_path, method: :get, class: 'px-6 py-3 text-white bg-blue-600 rounded-lg shadow hover:bg-blue-700 transition' %>
8:    
9:        <%=# button_to 'Посмотреть книги из базы данных', books_path, method: :get, class: 'px-6 py-3 text-white bg-green-600 rounded-lg shadow hover:bg-green-700 transition' %>
10:    
11:        <%= #button_to 'Выдать книгу пользователю', issue_book_path, method: :get, class: 'px-6 py-3 text-white bg-yellow-600 rounded-lg shadow hover:bg-yellow-700 transition' %>
12:    
13:        <%= button_to 'Выйти из аккаунта', logout_path, method: :delete, class: 'px-6 py-3 text-white bg-red-600 rounded-lg shadow hover:bg-red-700 transition' %>
14:    
15:      </div>
16:    
17:    </div>
  
app/views/admin_dashboard/index.html.erb:11: syntax error, unexpected constant, expecting ')'
app/views/admin_dashboard/index.html.erb:13: syntax error, unexpected constant, expecting ')'
app/views/admin_dashboard/index.html.erb:15: syntax error, unexpected '<'
app/views/admin_dashboard/index.html.erb:17: unknown regexp options - dv
app/views/admin_dashboard/index.html.erb:19: unterminated string meets end of file

Information for cause: ActiveSupport::SyntaxErrorProxy (C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:11: syntax error, unexpected constant, expecting ')'
...pend=( #button_to 'Выдать книгу пользова...
...                   ^~~~~~~~~~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:13: syntax error, unexpected constant, expecting ')'
....append=( button_to 'Выйти из аккаунта', logo...
...                     ^~~~~~~~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:15: syntax error, unexpected '<'
  </div>
  ^
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:17: unknown regexp options - dv
</div>'.freeze;
 ^~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:19: unterminated string meets end of file
          end
             ^
):
  
app/views/admin_dashboard/index.html.erb:11: syntax error, unexpected constant, expecting ')'
app/views/admin_dashboard/index.html.erb:13: syntax error, unexpected constant, expecting ')'
app/views/admin_dashboard/index.html.erb:15: syntax error, unexpected '<'
app/views/admin_dashboard/index.html.erb:17: unknown regexp options - dv
app/views/admin_dashboard/index.html.erb:19: unterminated string meets end of file
Started GET "/login" for 127.0.0.1 at 2024-12-22 17:23:02 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 5.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 17:23:05 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 17:23:07 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 444ms (ActiveRecord: 2.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 17:23:07 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 5.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 17:23:11 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 17:23:24 +0300
Processing by BooksController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Война и мир", "author"=>"Лев Толстой", "count"=>"100"}, "commit"=>"Добавить книгу"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:10:in `create'
  [1m[36mBook Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' LIMIT 1 /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:10:in `create'
  [1m[36mBook Create (0.6ms)[0m  [1m[32mINSERT INTO "books" ("name", "author", "count", "created_at", "updated_at") VALUES ('Война и мир', 'Лев Толстой', 100, '2024-12-22 14:23:25.175883', '2024-12-22 14:23:25.175883') RETURNING "id" /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:10:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:10:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 283ms (ActiveRecord: 5.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 17:23:25 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 270ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 17:30:30 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | GC: 0.0ms)
Completed 200 OK in 265ms (Views: 9.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-a98210fc.css" for 127.0.0.1 at 2024-12-22 17:30:30 +0300
Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 17:30:31 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (97.7ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 101.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 102.2ms | GC: 0.0ms)
Completed 500 Internal Server Error in 357ms (ActiveRecord: 101.8ms (1 query, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method `title' for an instance of Book)
Caused by: NoMethodError (undefined method `title' for an instance of Book)

Information for: ActionView::Template::Error (undefined method `title' for an instance of Book):
    18:     <tbody>
    19:     <% @books.each do |book| %>
    20:       <tr class="border-b hover:bg-gray-100">
    21:         <td class="py-2 px-4"><%= book.title %></td>
    22:         <td class="py-2 px-4"><%= book.author %></td>
    23:         <td class="py-2 px-4"><%= book.isbn %></td>
    24:         <td class="py-2 px-4">
  
app/views/books/index.html.erb:21
app/views/books/index.html.erb:19

Information for cause: NoMethodError (undefined method `title' for an instance of Book):
  
app/views/books/index.html.erb:21
app/views/books/index.html.erb:19
Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 17:30:58 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 4.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 17:30:59 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 11.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 6.7ms | ActiveRecord: 7.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 17:31:45 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 9.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | GC: 0.0ms)
Completed 200 OK in 272ms (Views: 12.2ms | ActiveRecord: 2.6ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 17:31:47 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.0ms)
Completed 200 OK in 250ms (Views: 5.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 17:31:48 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 6.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 17:31:49 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 17:32:14 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 5.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 17:32:15 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 3.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 19:20:32 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (89.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 101.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 102.8ms | GC: 0.0ms)
Completed 200 OK in 371ms (Views: 5.4ms | ActiveRecord: 101.0ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 19:20:37 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 2.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 19:20:38 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 19:21:46 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 5.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | GC: 0.0ms)
Completed 200 OK in 265ms (Views: 7.8ms | ActiveRecord: 2.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 19:29:40 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | GC: 0.0ms)
Completed 200 OK in 312ms (Views: 16.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 19:29:41 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 286ms (Views: 5.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 19:29:41 +0300
Processing by AdminDashboardController#index as HTML
Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 19:29:41 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 336ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-94f39faf.css" for 127.0.0.1 at 2024-12-22 19:29:42 +0300
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 338ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 19:29:45 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 19:30:12 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 5.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book" for 127.0.0.1 at 2024-12-22 19:30:13 +0300
Processing by OperationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 19:31:09 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (88.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 92.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 93.8ms | GC: 0.0ms)
Completed 200 OK in 356ms (Views: 3.0ms | ActiveRecord: 92.9ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 19:42:31 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (103.7ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 108.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 109.8ms | GC: 0.0ms)
Completed 200 OK in 370ms (Views: 5.0ms | ActiveRecord: 107.8ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books.1" for 127.0.0.1 at 2024-12-22 19:42:33 +0300
Processing by BooksController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 3.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 19:42:34 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 2.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books.1" for 127.0.0.1 at 2024-12-22 19:42:37 +0300
Processing by BooksController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 3.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books.1" for 127.0.0.1 at 2024-12-22 19:42:38 +0300
Processing by BooksController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 3.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books.1" for 127.0.0.1 at 2024-12-22 19:43:01 +0300
Processing by BooksController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 10.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | GC: 0.0ms)
Completed 500 Internal Server Error in 270ms (ActiveRecord: 6.8ms (1 query, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method `id' for an instance of Symbol)
Caused by: NoMethodError (undefined method `id' for an instance of Symbol)

Information for: ActionView::Template::Error (undefined method `id' for an instance of Symbol):
    22:         <td class="py-2 px-4"><%= book.author %></td>
    23:         <td class="py-2 px-4"><%= book.count %></td>
    24:         <td class="py-2 px-4">
    25:           <%= link_to 'Выдать', admin_dashboard_all_books_path(:book.id), class: 'text-blue-600 hover:underline' %>
    26:           <%#link_to 'Удалить', book, method: :delete, data: { confirm: 'Вы уверены?' }, class: 'ml-2 text-red-600 hover:underline' %>
    27:         </td>
    28:       </tr>
  
app/views/books/index.html.erb:25
app/views/books/index.html.erb:19

Information for cause: NoMethodError (undefined method `id' for an instance of Symbol):
  
app/views/books/index.html.erb:25
app/views/books/index.html.erb:19
Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-22 19:43:02 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 19:43:17 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 5.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 19:43:19 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 6.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 7.2ms | ActiveRecord: 2.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books.1" for 127.0.0.1 at 2024-12-22 19:43:20 +0300
Processing by BooksController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 3.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books.1" for 127.0.0.1 at 2024-12-22 19:43:22 +0300
Processing by BooksController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 2.9ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books.1" for 127.0.0.1 at 2024-12-22 19:43:30 +0300
Processing by BooksController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 3.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books.1" for 127.0.0.1 at 2024-12-22 19:54:21 +0300
Processing by BooksController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (82.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 86.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 87.8ms | GC: 0.0ms)
Completed 200 OK in 343ms (Views: 4.2ms | ActiveRecord: 86.7ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/operations/1/give_out_book" for 127.0.0.1 at 2024-12-22 19:54:23 +0300
Processing by OperationsController#new as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 4.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/operations/1/give_out_book" for 127.0.0.1 at 2024-12-22 19:54:33 +0300
Processing by OperationsController#new as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 272ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/operations/1/give_out_book" for 127.0.0.1 at 2024-12-22 19:58:59 +0300
  
ActionController::RoutingError (No route matches [GET] "/operations/1/give_out_book"):
  
Started GET "/admin_dashboard/all_books.1" for 127.0.0.1 at 2024-12-22 19:59:04 +0300
Processing by BooksController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 10.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | GC: 0.0ms)
Completed 200 OK in 268ms (Views: 7.9ms | ActiveRecord: 6.9ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 19:59:32 +0300
Processing by OperationsController#new as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 5.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:15:00 +0300
Processing by OperationsController#new as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 359ms (Views: 6.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:15:08 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `create'
Completed 500 Internal Server Error in 461ms (ActiveRecord: 11.6ms (1 query, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `id' for nil):
  
app/controllers/operations_controller.rb:11:in `create'
Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:16:16 +0300
Processing by OperationsController#new as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 266ms (Views: 5.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:16:20 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `create'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
Completed 500 Internal Server Error in 263ms (ActiveRecord: 5.2ms (2 queries, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `id' for nil):
  
app/controllers/operations_controller.rb:12:in `create'
Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:20:28 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 276ms (Views: 6.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:20:29 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `create'
Completed 500 Internal Server Error in 286ms (ActiveRecord: 2.1ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActionController::UrlGenerationError (No route matches {:action=>"new", :book_id=>nil, :controller=>"operations"}, missing required keys: [:book_id]):
  
app/controllers/operations_controller.rb:14:in `create'
Started GET "/admin_dashboard/all_books.1" for 127.0.0.1 at 2024-12-22 20:22:16 +0300
Processing by BooksController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 9.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | GC: 0.0ms)
Completed 200 OK in 270ms (Views: 9.2ms | ActiveRecord: 4.9ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books.1" for 127.0.0.1 at 2024-12-22 20:22:16 +0300
Processing by BooksController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 3.5ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:22:18 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 4.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:22:21 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `create'
Completed 500 Internal Server Error in 258ms (ActiveRecord: 1.2ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActionController::UrlGenerationError (No route matches {:action=>"new", :book_id=>nil, :controller=>"operations"}, missing required keys: [:book_id]):
  
app/controllers/operations_controller.rb:14:in `create'
Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:23:57 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 275ms (Views: 5.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:24:02 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `create'
  [1m[36mBook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `create'
  [1m[36mOperation Create (3.5ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 17:24:02.464967', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 279ms (ActiveRecord: 13.1ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:24:02 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 5.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:24:07 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 2.9ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 20:24:29 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 2.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:24:30 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:24:31 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 500 Internal Server Error in 250ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `id' for nil):
  
app/controllers/operations_controller.rb:18:in `create'
Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:24:35 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 3.5ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:24:35 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 2.9ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:25:01 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 5.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:25:02 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 302 Found in 264ms (ActiveRecord: 3.1ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:25:02 +0300
Processing by OperationsController#new as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 4.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:25:03 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 302 Found in 258ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:25:04 +0300
Processing by OperationsController#new as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:25:36 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:24:in `create'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:24:in `create'
  [1m[36mBook Update (0.3ms)[0m  [1m[33mUPDATE "books" SET "count" = 99, "updated_at" = '2024-12-22 17:25:36.757181' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:25:in `create'
  [1m[36mOperation Create (1.5ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 17:25:36.752644', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:25:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 276ms (ActiveRecord: 9.9ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:25:36 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 7.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:25:41 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 20:25:49 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:27:27 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 6.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.2ms)
Completed 200 OK in 294ms (Views: 9.1ms | ActiveRecord: 2.4ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:27:29 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 4.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:27:53 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 263ms (Views: 3.2ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:27:56 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:29:23 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 6.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 8.1ms | ActiveRecord: 2.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:29:26 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 3.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:29:26 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:29:29 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:29:30 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-22 20:29:42 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.9ms | GC: 0.0ms)
Completed 200 OK in 561ms (Views: 26.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-94f39faf.css" for 127.0.0.1 at 2024-12-22 20:29:43 +0300
Started GET "/assets/application.tailwind-a734f247.css" for 127.0.0.1 at 2024-12-22 20:29:43 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-22 20:29:44 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 7.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | GC: 0.0ms)
Completed 200 OK in 265ms (Views: 10.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 20:29:46 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 5.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 20:29:52 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 580ms (ActiveRecord: 12.9ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 20:29:53 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 271ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:29:55 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 7.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | GC: 0.0ms)
Completed 200 OK in 263ms (Views: 7.3ms | ActiveRecord: 2.6ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:29:58 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:29:58 +0300
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 273ms (Views: 5.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 20:29:59 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:31:16 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 6.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.2ms | GC: 0.0ms)
Completed 200 OK in 286ms (Views: 19.0ms | ActiveRecord: 2.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-137c7d0a.css" for 127.0.0.1 at 2024-12-22 20:31:16 +0300
Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:31:27 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 2.9ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:28 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 270ms (Views: 4.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:33 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 275ms (ActiveRecord: 3.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:36 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 263ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:40 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 254ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:41 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 252ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:41 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 257ms (ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:41 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 256ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:42 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 267ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:43 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:47 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 250ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:53 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 253ms (ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:54 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 251ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:54 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 253ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:58 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '12345@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 302 Found in 256ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:59 +0300
Processing by OperationsController#new as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:59 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 302 Found in 254ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:59 +0300
Processing by OperationsController#new as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:32:06 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 262ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:32:07 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 265ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:32:28 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 264ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:32:40 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 3.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-137c7d0a.css" for 127.0.0.1 at 2024-12-22 20:32:40 +0300
Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:32:41 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:32:48 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 264ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:33:04 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 289ms (Views: 5.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:33:08 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:24:in `create'
  [1m[36mBook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:24:in `create'
  [1m[36mBook Update (0.3ms)[0m  [1m[33mUPDATE "books" SET "count" = 0, "updated_at" = '2024-12-22 17:33:09.149583' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:25:in `create'
  [1m[36mOperation Create (1.9ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 17:33:09.144055', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:25:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 282ms (ActiveRecord: 13.0ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:33:09 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 5.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-22 22:26:27 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  
ArgumentError (Route path not specified):
  
config/routes.rb:30:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-22 22:26:28 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/" for 127.0.0.1 at 2024-12-22 22:26:39 +0300
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | GC: 0.0ms)
Completed 200 OK in 586ms (Views: 14.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-867bc3ae.css" for 127.0.0.1 at 2024-12-22 22:26:39 +0300
Started GET "/assets/application.tailwind-a734f247.css" for 127.0.0.1 at 2024-12-22 22:26:39 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-22 22:26:40 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 8.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | GC: 0.0ms)
Completed 200 OK in 286ms (Views: 12.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 22:26:42 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 4.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 22:26:50 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 595ms (ActiveRecord: 13.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 22:26:50 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 22:26:58 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 6.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | GC: 0.0ms)
Completed 200 OK in 270ms (Views: 7.1ms | ActiveRecord: 2.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 22:27:28 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 6.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | GC: 0.0ms)
Completed 200 OK in 320ms (Views: 18.0ms | ActiveRecord: 2.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-137c7d0a.css" for 127.0.0.1 at 2024-12-22 22:27:29 +0300
Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 23:23:15 +0300
  
ArgumentError (Invalid route name, already in use: 'admin_dashboard_take_book' 
You may have defined two routes with the same name using the `:as` option, or you may be overriding a route already defined by a resource with the same naming. For the latter, you can restrict the routes created with `resources` as explained here: 
https://guides.rubyonrails.org/routing.html#restricting-the-routes-created):
  
config/routes.rb:33:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-22 23:23:15 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 23:24:01 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (92.1ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 96.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 101.4ms | GC: 0.0ms)
Completed 200 OK in 375ms (Views: 8.1ms | ActiveRecord: 96.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-71f9a0a0.css" for 127.0.0.1 at 2024-12-22 23:24:02 +0300
Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:24:03 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `show'
Completed 500 Internal Server Error in 264ms (ActiveRecord: 5.7ms (1 query, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `map' for an instance of Operation):
  
app/controllers/operations_controller.rb:11:in `show'
Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:26:47 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (3.8ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book_id" = '1' /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
Completed 500 Internal Server Error in 258ms (ActiveRecord: 4.8ms (1 query, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ОШИБКА:  столбец operations.book_id не существует
LINE 1: ...ELECT "operations"."user" FROM "operations" WHERE "operation...
                                                             ^
HINT:  Возможно, предполагалась ссылка на столбец "operations.book".
)
Caused by: PG::UndefinedColumn (ОШИБКА:  столбец operations.book_id не существует
LINE 1: ...ELECT "operations"."user" FROM "operations" WHERE "operation...
                                                             ^
HINT:  Возможно, предполагалась ссылка на столбец "operations.book".
)

Information for: ActiveRecord::StatementInvalid (PG::UndefinedColumn: ОШИБКА:  столбец operations.book_id не существует
LINE 1: ...ELECT "operations"."user" FROM "operations" WHERE "operation...
                                                             ^
HINT:  Возможно, предполагалась ссылка на столбец "operations.book".
):
  

Information for cause: PG::UndefinedColumn (ОШИБКА:  столбец operations.book_id не существует
LINE 1: ...ELECT "operations"."user" FROM "operations" WHERE "operation...
                                                             ^
HINT:  Возможно, предполагалась ссылка на столбец "operations.book".
):
  
app/controllers/operations_controller.rb:15:in `show'
Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-22 23:26:48 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:27:14 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.1ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  Rendered operations/show.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 500 Internal Server Error in 303ms (ActiveRecord: 4.0ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method `title' for an instance of Book)
Caused by: NoMethodError (undefined method `title' for an instance of Book)

Information for: ActionView::Template::Error (undefined method `title' for an instance of Book):
    1: <div class="container mx-auto p-4">
    2:   <h1 class="text-4xl font-bold mb-4"><%= @book.title %></h1>
    3:   <p class="text-xl text-gray-700 mb-6">Автор: <%= @book.author %></p>
    4: 
    5:   <h2 class="text-2xl font-semibold mb-2">Пользователи, взявшие книгу:</h2>
  
app/views/operations/show.html.erb:2

Information for cause: NoMethodError (undefined method `title' for an instance of Book):
  
app/views/operations/show.html.erb:2
Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-22 23:27:15 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:27:33 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 5.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | GC: 0.0ms)
Completed 500 Internal Server Error in 284ms (ActiveRecord: 5.4ms (3 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method `name' for an instance of User)
Caused by: NoMethodError (undefined method `name' for an instance of User)

Information for: ActionView::Template::Error (undefined method `name' for an instance of User):
    15:       <% @users.each do |user| %>
    16:         <tr>
    17:           <td class="px-6 py-4 whitespace-nowrap">
    18:             <div class="text-sm text-gray-900"><%= user.name %></div>
    19:           </td>
    20:           <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
    21:             <%= button_to 'Принять книгу', admin_dashboard_take_book_path(@book.id, user.id), method: :post, class: 'bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded' %>
  
app/views/operations/show.html.erb:18
app/views/operations/show.html.erb:15

Information for cause: NoMethodError (undefined method `name' for an instance of User):
  
app/views/operations/show.html.erb:18
app/views/operations/show.html.erb:15
Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:27:51 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.1ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 5.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.0ms)
Completed 200 OK in 295ms (Views: 7.8ms | ActiveRecord: 4.8ms (3 queries, 0 cached) | GC: 0.2ms)


Started POST "/admin_dashboard/take_book/1.1" for 127.0.0.1 at 2024-12-22 23:27:57 +0300
  
ActionController::RoutingError (No route matches [POST] "/admin_dashboard/take_book/1.1"):
  
Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:27:57 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 2.6ms | ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/take_book/1.1" for 127.0.0.1 at 2024-12-22 23:29:32 +0300
  
ActionController::RoutingError (No route matches [POST] "/admin_dashboard/take_book/1.1"):
  
Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:29:32 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 2.7ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/take_book/1.1" for 127.0.0.1 at 2024-12-22 23:29:46 +0300
  
ActionController::RoutingError (No route matches [POST] "/admin_dashboard/take_book/1.1"):
  
Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:29:46 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 2.9ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/take_book/1.1" for 127.0.0.1 at 2024-12-22 23:30:44 +0300
  
ActionController::RoutingError (No route matches [POST] "/admin_dashboard/take_book/1.1"):
  
Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:30:44 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.1ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.0ms)
Completed 200 OK in 280ms (Views: 8.1ms | ActiveRecord: 4.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:31:03 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 2.6ms | ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-22 23:31:05 +0300
  
ActionController::RoutingError (No route matches [POST] "/admin_dashboard/take_book/1/1"):
  
Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:31:05 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 2.4ms | ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:31:40 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 4.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.0ms)
Completed 200 OK in 270ms (Views: 7.1ms | ActiveRecord: 4.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-22 23:31:41 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:21:in `index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 2.3ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-22 23:31:46 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:26:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:27:in `update'
Completed 500 Internal Server Error in 264ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `returned=' for an instance of ActiveRecord::Relation):
  
app/controllers/operations_controller.rb:38:in `update'
Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-22 23:32:38 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:21:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 287ms (Views: 4.8ms | ActiveRecord: 4.1ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-22 23:32:40 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:26:in `update'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:27:in `update'
Completed 500 Internal Server Error in 259ms (ActiveRecord: 1.5ms (2 queries, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `returned=' for an instance of ActiveRecord::Relation):
  
app/controllers/operations_controller.rb:38:in `update'
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to AddUniqueIndexToOperations (20241222205220)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_operations_on_book_and_user" ON "operations" ("book", "user") /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241222205220') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-22 23:55:08 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:21:in `index'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 354ms (Views: 5.0ms | ActiveRecord: 6.0ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-22 23:55:10 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:26:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:27:in `update'
Completed 500 Internal Server Error in 252ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `returned=' for an instance of ActiveRecord::Relation):
  
app/controllers/operations_controller.rb:38:in `update'
Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-22 23:56:00 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:21:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 273ms (Views: 5.2ms | ActiveRecord: 9.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-22 23:56:16 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:26:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:27:in `update'
  [1m[36mOperation Load (1.1ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user" = 1 AND "operations"."book" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:39:in `block in update'
  [1m[36mOperation Update (2.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 20:56:16.575389' WHERE "operations"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:39:in `block in update'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:39:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:41:in `update'
  [1m[36mBook Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:41:in `update'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 1, "updated_at" = '2024-12-22 20:56:16.595711' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:41:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:41:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:42:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:42:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/take_book/1
Completed 302 Found in 367ms (ActiveRecord: 18.9ms (6 queries, 0 cached) | GC: 0.3ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:56:16 +0300
Processing by OperationsController#show as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | GC: 0.0ms)
Completed 200 OK in 265ms (Views: 7.4ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:56:16 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 290ms (Views: 3.0ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-b0e38560.css" for 127.0.0.1 at 2024-12-22 23:56:17 +0300
Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:57:16 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  Rendered operations/show.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 269ms (Views: 4.4ms | ActiveRecord: 3.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 23:57:47 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 5.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 23:57:50 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 6.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 7.2ms | ActiveRecord: 2.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 23:57:54 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 23:57:59 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 0, "updated_at" = '2024-12-22 20:57:59.626995' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
  [1m[36mOperation Create (4.7ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 20:57:59.619675', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
Completed 500 Internal Server Error in 289ms (ActiveRecord: 12.8ms (5 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
)
Caused by: PG::UniqueViolation (ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
)

Information for: ActiveRecord::RecordNotUnique (PG::UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
):
  

Information for cause: PG::UniqueViolation (ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
):
  
app/controllers/operations_controller.rb:59:in `create'
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to AddUniqueIndexToOperations (20241222210446)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to AddUniqueIndexToOperations (20241222210446)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_operations_on_book_and_user_where_returned_nil" ON "operations" ("book", "user") WHERE returned IS NULL /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241222210446') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to RemoveIndexFromOperations (20241222210935)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_operations_on_book_and_user" /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241222210935') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:11:27 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 5.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:11:35 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 376ms (ActiveRecord: 6.6ms (2 queries, 0 cached) | GC: 0.2ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:12:06 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 297ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.2ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:12:07 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | GC: 0.0ms)
Completed 200 OK in 282ms (Views: 5.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:12:08 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 270ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:12:10 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 259ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:12:10 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 253ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:12:11 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 262ms (ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:12:11 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 267ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-23 00:12:38 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | GC: 0.0ms)
Completed 200 OK in 576ms (Views: 23.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-b0e38560.css" for 127.0.0.1 at 2024-12-23 00:12:39 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-23 00:12:52 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 6.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | GC: 0.0ms)
Completed 200 OK in 276ms (Views: 9.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-23 00:12:54 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 269ms (Views: 4.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-23 00:12:54 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | GC: 0.2ms)
Completed 200 OK in 272ms (Views: 10.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started POST "/login" for 127.0.0.1 at 2024-12-23 00:13:02 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 569ms (ActiveRecord: 10.9ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-23 00:13:03 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 266ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:13:06 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 6.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 6.9ms | ActiveRecord: 2.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:13:12 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.9ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  Rendered operations/show.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 3.3ms | ActiveRecord: 1.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:13:25 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 2.9ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-23 00:13:28 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:13:28 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:13:32 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Update (0.3ms)[0m  [1m[33mUPDATE "books" SET "count" = 99, "updated_at" = '2024-12-22 21:13:32.839955' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
  [1m[36mOperation Create (1.7ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:13:32.834149', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 270ms (ActiveRecord: 9.6ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:13:32 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 2.8ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:13:35 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 263ms (Views: 2.7ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-23 00:13:42 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:13:43 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:13:46 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 98, "updated_at" = '2024-12-22 21:13:47.182897' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
  [1m[36mOperation Create (3.0ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:13:47.179229', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
Completed 500 Internal Server Error in 263ms (ActiveRecord: 7.1ms (5 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
)
Caused by: PG::UniqueViolation (ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
)

Information for: ActiveRecord::RecordNotUnique (PG::UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
):
  

Information for cause: PG::UniqueViolation (ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
):
  
app/controllers/operations_controller.rb:59:in `create'
Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:13:49 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 3.2ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:13:49 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 3.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:14:03 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:14:10 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 267ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:15:54 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
  [1m[36mOperation Create (2.0ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:15:55.387674', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
Completed 500 Internal Server Error in 276ms (ActiveRecord: 9.7ms (4 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
)
Caused by: PG::UniqueViolation (ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
)

Information for: ActiveRecord::RecordNotUnique (PG::UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
):
  

Information for cause: PG::UniqueViolation (ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
):
  
app/controllers/operations_controller.rb:59:in `create'
Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:15:56 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 6.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:15:56 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 2.9ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:16:01 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 267ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:16:16 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-23 00:16:32 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 266ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:16:33 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:16:36 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
  [1m[36mOperation Create (1.8ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:16:37.264471', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
Completed 500 Internal Server Error in 262ms (ActiveRecord: 4.5ms (4 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
)
Caused by: PG::UniqueViolation (ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
)

Information for: ActiveRecord::RecordNotUnique (PG::UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
):
  

Information for cause: PG::UniqueViolation (ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
):
  
app/controllers/operations_controller.rb:59:in `create'
Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:20:25 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 284ms (Views: 5.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:20:29 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:63:in `create'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:63:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:63:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:64:in `create'
  [1m[36mOperation Create (1.9ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:20:29.312896', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:64:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:64:in `create'
Completed 500 Internal Server Error in 276ms (ActiveRecord: 10.1ms (4 queries, 0 cached) | GC: 0.2ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
)
Caused by: PG::UniqueViolation (ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
)

Information for: ActiveRecord::RecordNotUnique (PG::UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
):
  

Information for cause: PG::UniqueViolation (ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
):
  
app/controllers/operations_controller.rb:64:in `create'
Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:21:35 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 265ms (Views: 5.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:21:37 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:63:in `create'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:63:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:63:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:65:in `create'
  [1m[36mOperation Create (1.9ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:21:37.752884', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:65:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:65:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 302 Found in 278ms (ActiveRecord: 9.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:21:37 +0300
Processing by OperationsController#new as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:21:52 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (1.8ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:21:52.976897', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 302 Found in 276ms (ActiveRecord: 9.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:21:53 +0300
Processing by OperationsController#new as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 5.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:22:30 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (1.8ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:22:30.920222', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 302 Found in 275ms (ActiveRecord: 9.7ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:22:30 +0300
Processing by OperationsController#new as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 5.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:22:54 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 3.1ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.2ms)
Completed 200 OK in 263ms (Views: 5.8ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:22:56 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 3.2ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:22:58 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 1.7ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:22:59 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `update'
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user" = 1 AND "operations"."book" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:22:59.634921' WHERE "operations"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:22:59.640775' WHERE "operations"."id" = 5 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Exists? (4.2ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 99, "updated_at" = '2024-12-22 21:22:59.652041' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/take_book/1
Completed 302 Found in 278ms (ActiveRecord: 13.1ms (7 queries, 0 cached) | GC: 0.2ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:22:59 +0300
Processing by OperationsController#show as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  Rendered operations/show.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 1.2ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:23:01 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 250ms (Views: 1.7ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/" for 127.0.0.1 at 2024-12-23 00:23:21 +0300
  
ActionController::RoutingError (No route matches [GET] "/admin_dashboard/take_book"):
  
Started GET "/admin_dashboard/" for 127.0.0.1 at 2024-12-23 00:23:24 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 4.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:23:26 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 3.9ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:23:27 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 3.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:23:28 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  Rendered operations/show.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 2.9ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:23:32 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:23:48 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (1.6ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:23:48.736942', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 273ms (ActiveRecord: 5.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:23:48 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 273ms (Views: 3.3ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:23:58 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:23:59 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 2.8ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:24:00 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 1.4ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:24:01 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `update'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `update'
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user" = 1 AND "operations"."book" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:24:01.933339' WHERE "operations"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:24:01.939173' WHERE "operations"."id" = 5 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:24:01.943214' WHERE "operations"."id" = 13 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "count" = 100, "updated_at" = '2024-12-22 21:24:01.950745' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/take_book/1
Completed 302 Found in 275ms (ActiveRecord: 9.7ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:24:01 +0300
Processing by OperationsController#show as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  Rendered operations/show.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 1.2ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:25:13 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  Rendered operations/show.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 267ms (Views: 4.8ms | ActiveRecord: 3.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:25:15 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 1.8ms | ActiveRecord: 1.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:25:17 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 5.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:25:23 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:25:28 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (1.5ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:25:28.435086', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 263ms (ActiveRecord: 5.5ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:25:28 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 3.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:25:34 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:25:42 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 269ms (Views: 3.1ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:25:44 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 1.4ms | ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:25:45 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/admin_dashboard/take_book/1"):
  
Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:25:45 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 1.5ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:25:47 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/admin_dashboard/take_book/1"):
  
Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:25:47 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 1.4ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:25:48 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/admin_dashboard/take_book/1"):
  
Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:25:48 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 250ms (Views: 1.4ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:25:48 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/admin_dashboard/take_book/1"):
  
Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:25:49 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 1.5ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:26:34 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 265ms (Views: 2.5ms | ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:26:35 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 3.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:26:57 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 268ms (Views: 5.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:27:00 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (2.3ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:27:00.699418', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 302 Found in 278ms (ActiveRecord: 10.5ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:27:00 +0300
Processing by OperationsController#new as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:27:03 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 5.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:27:05 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 4.0ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:27:06 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 1.7ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:27:07 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/admin_dashboard/all_books"):
  
Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:27:07 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
Started PATCH "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:27:07 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/admin_dashboard/all_books"):
  
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 297ms (Views: 2.1ms | ActiveRecord: 1.8ms (2 queries, 0 cached) | GC: 0.2ms)


Started PATCH "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:27:09 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/admin_dashboard/all_books"):
  
Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:27:09 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 1.4ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:27:24 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/admin_dashboard/all_books"):
  
Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:27:25 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 1.8ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:28:22 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/admin_dashboard/all_books"):
  
Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:28:22 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 269ms (Views: 4.9ms | ActiveRecord: 3.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:28:45 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `update'
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user" = 1 AND "operations"."book" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:28:45.609581' WHERE "operations"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:28:45.615590' WHERE "operations"."id" = 5 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.5ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:28:45.619697' WHERE "operations"."id" = 13 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:28:45.624103' WHERE "operations"."id" = 14 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "count" = 101, "updated_at" = '2024-12-22 21:28:45.632248' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 287ms (ActiveRecord: 16.3ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:28:45 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 5.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:28:50 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:28:55 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (1.5ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:28:55.545806', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 268ms (ActiveRecord: 6.2ms (4 queries, 0 cached) | GC: 0.2ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:28:55 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 2.9ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-23 00:29:25 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 294ms (Views: 6.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:29:25 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 4.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.0ms)
Completed 200 OK in 303ms (Views: 6.3ms | ActiveRecord: 5.0ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:29:27 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 1.8ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:29:27 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `update'
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user" = 1 AND "operations"."book" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:29:28.221368' WHERE "operations"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:29:28.225779' WHERE "operations"."id" = 5 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.8ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:29:28.230442' WHERE "operations"."id" = 13 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:29:28.238570' WHERE "operations"."id" = 14 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:29:28.242661' WHERE "operations"."id" = 16 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "count" = 102, "updated_at" = '2024-12-22 21:29:28.251054' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 294ms (ActiveRecord: 17.3ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:29:28 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 266ms (Views: 3.6ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:29:29 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:29:30 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:29:34 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (1.6ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:29:34.427469', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 272ms (ActiveRecord: 5.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:29:34 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 3.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:30:14 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 6.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | GC: 0.0ms)
Completed 200 OK in 318ms (Views: 10.3ms | ActiveRecord: 4.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:30:16 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 1.8ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:30:18 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `update'
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user" = 1 AND "operations"."book" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:18.651034' WHERE "operations"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:18.656961' WHERE "operations"."id" = 5 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:18.661352' WHERE "operations"."id" = 13 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:18.665463' WHERE "operations"."id" = 14 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (2.3ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:18.669454' WHERE "operations"."id" = 16 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:18.674154' WHERE "operations"."id" = 17 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "count" = 103, "updated_at" = '2024-12-22 21:30:18.688861' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 301ms (ActiveRecord: 26.3ms (11 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:30:18 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 5.3ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-23 00:30:19 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 5.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:30:21 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:30:24 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (1.6ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:30:24.706144', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "count" = 102, "updated_at" = '2024-12-22 21:30:24.715227' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 265ms (ActiveRecord: 5.9ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:30:24 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 3.2ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:30:27 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 2.9ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:30:28 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 1.5ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:30:29 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `update'
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user" = 1 AND "operations"."book" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:29.701403' WHERE "operations"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:29.707229' WHERE "operations"."id" = 5 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (4.1ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:29.711384' WHERE "operations"."id" = 13 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (4.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:29.718079' WHERE "operations"."id" = 14 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:29.727251' WHERE "operations"."id" = 16 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:29.731230' WHERE "operations"."id" = 17 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.9ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:29.735225' WHERE "operations"."id" = 18 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "count" = 103, "updated_at" = '2024-12-22 21:30:29.743010' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 298ms (ActiveRecord: 22.8ms (12 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:30:29 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 3.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:30:30 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:30:33 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (1.7ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:30:33.304718', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 102, "updated_at" = '2024-12-22 21:30:33.314125' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 268ms (ActiveRecord: 6.1ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:30:33 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 3.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:30:44 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 2.5ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-b0e38560.css" for 127.0.0.1 at 2024-12-23 00:30:48 +0300
Started GET "/admin_dashboard/" for 127.0.0.1 at 2024-12-23 00:30:51 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 3.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-23 00:30:54 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 248ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-23 00:30:56 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:30:57 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 3.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-23 00:31:00 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:31:44 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 4.3ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:32:17 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 6.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 8.0ms | ActiveRecord: 2.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:33:03 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 6.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | GC: 0.0ms)
Completed 200 OK in 273ms (Views: 8.4ms | ActiveRecord: 2.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-23 00:33:05 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 3.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:33:06 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 3.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-23 00:33:07 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 4.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-23 00:33:08 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 3.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-23 00:33:09 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:33:10 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 2.9ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:33:11 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:33:16 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-23 00:33:19 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 266ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:33:20 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 3.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.0ms)
Completed 200 OK in 263ms (Views: 3.9ms | ActiveRecord: 2.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:33:23 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 2.4ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:33:24 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 4.3ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:33:25 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `update'
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user" = 1 AND "operations"."book" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (3.0ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:33:25.908164' WHERE "operations"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (4.3ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:33:25.924223' WHERE "operations"."id" = 5 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:33:25.937127' WHERE "operations"."id" = 13 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.8ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:33:25.945836' WHERE "operations"."id" = 14 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.8ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:33:25.951001' WHERE "operations"."id" = 16 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.8ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:33:25.955926' WHERE "operations"."id" = 17 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.9ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:33:25.960663' WHERE "operations"."id" = 18 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.8ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:33:25.966416' WHERE "operations"."id" = 19 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 103, "updated_at" = '2024-12-22 21:33:25.976027' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 343ms (ActiveRecord: 32.6ms (13 queries, 0 cached) | GC: 0.3ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:33:26 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 3.3ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:33:27 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  Rendered operations/show.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 1.2ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:33:29 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:33:35 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (1.6ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:33:35.431518', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 102, "updated_at" = '2024-12-22 21:33:35.439399' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 266ms (ActiveRecord: 4.6ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:33:35 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 3.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-23 00:33:37 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


