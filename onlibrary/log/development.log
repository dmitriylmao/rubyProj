[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (103.7ms)[0m  [1m[35mCREATE DATABASE "onlibrary_development" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (226.0ms)[0m  [1m[35mCREATE DATABASE "onlibrary_test" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 00:55:05 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | GC: 0.0ms)
Completed 200 OK in 734ms (Views: 25.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-f7ef253f.css" for 127.0.0.1 at 2024-12-18 00:55:06 +0300
Started GET "/assets/application-0405dba2.js" for 127.0.0.1 at 2024-12-18 00:55:06 +0300
Started GET "/assets/application.tailwind-a734f247.css" for 127.0.0.1 at 2024-12-18 00:55:06 +0300
Started GET "/" for 127.0.0.1 at 2024-12-18 00:55:32 +0300
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 33.9ms | GC: 0.0ms)
Completed 200 OK in 300ms (Views: 36.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-db208ab9.css" for 127.0.0.1 at 2024-12-18 00:55:32 +0300
Started GET "/login" for 127.0.0.1 at 2024-12-18 00:55:34 +0300
  
ActionController::RoutingError (No route matches [GET] "/login"):
  
Started GET "/login" for 127.0.0.1 at 2024-12-18 00:55:36 +0300
  
ActionController::RoutingError (No route matches [GET] "/login"):
  
Started GET "/login" for 127.0.0.1 at 2024-12-18 00:55:39 +0300
  
ActionController::RoutingError (No route matches [GET] "/login"):
  
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 00:56:16 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | GC: 0.0ms)
Completed 200 OK in 565ms (Views: 22.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 00:56:18 +0300
  
ActionController::RoutingError (No route matches [GET] "/login"):
  
Started GET "/login" for 127.0.0.1 at 2024-12-18 00:56:19 +0300
  
ActionController::RoutingError (No route matches [GET] "/login"):
  
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 01:02:02 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | GC: 0.0ms)
Completed 200 OK in 553ms (Views: 22.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 01:02:04 +0300
  
ActionController::RoutingError (No route matches [GET] "/register"):
  
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 01:13:25 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | GC: 0.0ms)
Completed 200 OK in 549ms (Views: 22.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-cd426d64.css" for 127.0.0.1 at 2024-12-18 01:13:26 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-18 01:13:27 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 3.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 01:13:31 +0300
  
AbstractController::ActionNotFound (The action 'new' could not be found for SessionsController):
  
actionpack (8.0.1) lib/abstract_controller/base.rb:158:in `process'
actionview (8.0.1) lib/action_view/rendering.rb:40:in `process'
actionpack (8.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (8.0.1) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.1) lib/rails/engine/lazy_route_set.rb:68:in `call'
rack (3.1.8) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.8) lib/rack/etag.rb:29:in `call'
rack (3.1.8) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.8) lib/rack/head.rb:15:in `call'
actionpack (8.0.1) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (8.0.1) lib/action_dispatch/http/content_security_policy.rb:38:in `call'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:272:in `context'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:266:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/cookies.rb:706:in `call'
activerecord (8.0.1) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.8) lib/rack/method_override.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.5.0) lib/puma/configuration.rb:279:in `call'
puma (6.5.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.5.0) lib/puma/thread_pool.rb:389:in `with_force_shutdown'
puma (6.5.0) lib/puma/request.rb:98:in `handle_request'
puma (6.5.0) lib/puma/server.rb:468:in `process_client'
puma (6.5.0) lib/puma/server.rb:249:in `block in run'
puma (6.5.0) lib/puma/thread_pool.rb:166:in `block in spawn_thread'
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 01:14:45 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | GC: 0.0ms)
Completed 200 OK in 553ms (Views: 22.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 01:14:47 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 3.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 01:21:10 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 22.0ms | GC: 0.0ms)
Completed 200 OK in 568ms (Views: 28.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application.tailwind-a734f247.css" for 127.0.0.1 at 2024-12-18 01:21:11 +0300
Started GET "/assets/application-b2283233.css" for 127.0.0.1 at 2024-12-18 01:21:11 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-18 01:21:11 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 500 Internal Server Error in 260ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (Passed nil to the :model argument, expect an object or false)
Caused by: ArgumentError (Passed nil to the :model argument, expect an object or false)

Information for: ActionView::Template::Error (Passed nil to the :model argument, expect an object or false):
    2:   <div class="bg-white p-8 rounded-lg shadow-lg max-w-md w-full">
    3:     <h2 class="text-2xl font-bold mb-6 text-center">Регистрация</h2>
    4: 
    5:     <%= form_with model: @user, local: true do |form| %>
    6:       <% if @user.errors.any? %>
    7:         <div class="mb-4">
    8:           <ul>
  
app/views/users/new.html.erb:5

Information for cause: ArgumentError (Passed nil to the :model argument, expect an object or false):
  
app/views/users/new.html.erb:5
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 01:22:11 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | GC: 0.0ms)
Completed 200 OK in 546ms (Views: 21.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application.tailwind-a734f247.css" for 127.0.0.1 at 2024-12-18 01:22:12 +0300
Started GET "/assets/application-b2283233.css" for 127.0.0.1 at 2024-12-18 01:22:12 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-18 01:22:13 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 500 Internal Server Error in 255ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (Passed nil to the :model argument, expect an object or false)
Caused by: ArgumentError (Passed nil to the :model argument, expect an object or false)

Information for: ActionView::Template::Error (Passed nil to the :model argument, expect an object or false):
    2:   <div class="bg-white p-8 rounded-lg shadow-lg max-w-md w-full">
    3:     <h2 class="text-2xl font-bold mb-6 text-center">Регистрация</h2>
    4: 
    5:     <%= form_with model: @user, local: true do |form| %>
    6:       <% if @user.errors.any? %>
    7:         <div class="mb-4">
    8:           <ul>
  
app/views/users/new.html.erb:5

Information for cause: ArgumentError (Passed nil to the :model argument, expect an object or false):
  
app/views/users/new.html.erb:5
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 01:25:02 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | GC: 0.0ms)
Completed 200 OK in 547ms (Views: 22.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 01:25:03 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 500 Internal Server Error in 256ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (Passed nil to the :model argument, expect an object or false)
Caused by: ArgumentError (Passed nil to the :model argument, expect an object or false)

Information for: ActionView::Template::Error (Passed nil to the :model argument, expect an object or false):
    11: 
    12: <div class="bg-white p-8 rounded-lg shadow-md w-96">
    13:   <h2 class="text-2xl font-semibold text-center mb-6">Регистрация</h2>
    14:   <%= form_with(model: @user, local: true) do |form| %>
    15:     <div class="mb-4">
    16:       <%= form.label :username, class: "block text-sm font-medium text-gray-700" %>
    17:       <%= form.text_field :username, required: true, class: "mt-1 block w-full border border-gray-300 rounded-md p-2 focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50" %>
  
app/views/users/new.html.erb:14

Information for cause: ArgumentError (Passed nil to the :model argument, expect an object or false):
  
app/views/users/new.html.erb:14
Started GET "/register" for 127.0.0.1 at 2024-12-18 01:25:04 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 500 Internal Server Error in 268ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (Passed nil to the :model argument, expect an object or false)
Caused by: ArgumentError (Passed nil to the :model argument, expect an object or false)

Information for: ActionView::Template::Error (Passed nil to the :model argument, expect an object or false):
    11: 
    12: <div class="bg-white p-8 rounded-lg shadow-md w-96">
    13:   <h2 class="text-2xl font-semibold text-center mb-6">Регистрация</h2>
    14:   <%= form_with(model: @user, local: true) do |form| %>
    15:     <div class="mb-4">
    16:       <%= form.label :username, class: "block text-sm font-medium text-gray-700" %>
    17:       <%= form.text_field :username, required: true, class: "mt-1 block w-full border border-gray-300 rounded-md p-2 focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50" %>
  
app/views/users/new.html.erb:14

Information for cause: ArgumentError (Passed nil to the :model argument, expect an object or false):
  
app/views/users/new.html.erb:14
Started GET "/register" for 127.0.0.1 at 2024-12-18 01:26:17 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 500 Internal Server Error in 257ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `users_path' for an instance of #<Class:0x0000025b6beed7c0>)
Caused by: NameError (undefined local variable or method `users_path' for an instance of #<Class:0x0000025b6beed7c0>)

Information for: ActionView::Template::Error (undefined local variable or method `users_path' for an instance of #<Class:0x0000025b6beed7c0>):
    10: 
    11: <div class="bg-white p-8 rounded-lg shadow-md w-96">
    12:   <h2 class="text-2xl font-semibold text-center mb-6">Регистрация</h2>
    13:   <form action="<%= users_path %>" method="post">
    14:     <div class="mb-4">
    15:       <label for="user_username" class="block text-sm font-medium text-gray-700">Имя пользователя</label>
    16:       <input type="text" name="user[username]" id="user_username" required class="mt-1 block w-full border border-gray-300 rounded-md p-2 focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
  
app/views/users/new.html.erb:13

Information for cause: NameError (undefined local variable or method `users_path' for an instance of #<Class:0x0000025b6beed7c0>):
  
app/views/users/new.html.erb:13
Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-18 01:26:17 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/" for 127.0.0.1 at 2024-12-18 01:26:22 +0300
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 263ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 01:26:24 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 500 Internal Server Error in 263ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `users_path' for an instance of #<Class:0x0000025b6beed7c0>)
Caused by: NameError (undefined local variable or method `users_path' for an instance of #<Class:0x0000025b6beed7c0>)

Information for: ActionView::Template::Error (undefined local variable or method `users_path' for an instance of #<Class:0x0000025b6beed7c0>):
    10: 
    11: <div class="bg-white p-8 rounded-lg shadow-md w-96">
    12:   <h2 class="text-2xl font-semibold text-center mb-6">Регистрация</h2>
    13:   <form action="<%= users_path %>" method="post">
    14:     <div class="mb-4">
    15:       <label for="user_username" class="block text-sm font-medium text-gray-700">Имя пользователя</label>
    16:       <input type="text" name="user[username]" id="user_username" required class="mt-1 block w-full border border-gray-300 rounded-md p-2 focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
  
app/views/users/new.html.erb:13

Information for cause: NameError (undefined local variable or method `users_path' for an instance of #<Class:0x0000025b6beed7c0>):
  
app/views/users/new.html.erb:13
Started GET "/" for 127.0.0.1 at 2024-12-18 01:27:34 +0300
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 6.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-18 01:27:35 +0300
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 3.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 01:27:36 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 01:27:40 +0300
  
AbstractController::ActionNotFound (The action 'new' could not be found for SessionsController):
  
actionpack (8.0.1) lib/abstract_controller/base.rb:158:in `process'
actionview (8.0.1) lib/action_view/rendering.rb:40:in `process'
actionpack (8.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (8.0.1) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.1) lib/rails/engine/lazy_route_set.rb:68:in `call'
rack (3.1.8) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.8) lib/rack/etag.rb:29:in `call'
rack (3.1.8) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.8) lib/rack/head.rb:15:in `call'
actionpack (8.0.1) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (8.0.1) lib/action_dispatch/http/content_security_policy.rb:38:in `call'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:272:in `context'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:266:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/cookies.rb:706:in `call'
activerecord (8.0.1) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.8) lib/rack/method_override.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.5.0) lib/puma/configuration.rb:279:in `call'
puma (6.5.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.5.0) lib/puma/thread_pool.rb:389:in `with_force_shutdown'
puma (6.5.0) lib/puma/request.rb:98:in `handle_request'
puma (6.5.0) lib/puma/server.rb:468:in `process_client'
puma (6.5.0) lib/puma/server.rb:249:in `block in run'
puma (6.5.0) lib/puma/thread_pool.rb:166:in `block in spawn_thread'
Started GET "/register" for 127.0.0.1 at 2024-12-18 01:27:43 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 01:32:06 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 17.3ms | GC: 0.0ms)
Completed 200 OK in 553ms (Views: 24.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-c8f704e6.css" for 127.0.0.1 at 2024-12-18 01:32:07 +0300
Started GET "/assets/application.tailwind-a734f247.css" for 127.0.0.1 at 2024-12-18 01:32:07 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-18 01:32:08 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 15.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.2ms | GC: 0.0ms)
Completed 200 OK in 273ms (Views: 18.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 01:32:09 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 01:32:15 +0300
  
AbstractController::ActionNotFound (The action 'new' could not be found for SessionsController):
  
actionpack (8.0.1) lib/abstract_controller/base.rb:158:in `process'
actionview (8.0.1) lib/action_view/rendering.rb:40:in `process'
actionpack (8.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (8.0.1) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.1) lib/rails/engine/lazy_route_set.rb:68:in `call'
rack (3.1.8) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.8) lib/rack/etag.rb:29:in `call'
rack (3.1.8) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.8) lib/rack/head.rb:15:in `call'
actionpack (8.0.1) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (8.0.1) lib/action_dispatch/http/content_security_policy.rb:38:in `call'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:272:in `context'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:266:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/cookies.rb:706:in `call'
activerecord (8.0.1) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.8) lib/rack/method_override.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.5.0) lib/puma/configuration.rb:279:in `call'
puma (6.5.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.5.0) lib/puma/thread_pool.rb:389:in `with_force_shutdown'
puma (6.5.0) lib/puma/request.rb:98:in `handle_request'
puma (6.5.0) lib/puma/server.rb:468:in `process_client'
puma (6.5.0) lib/puma/server.rb:249:in `block in run'
puma (6.5.0) lib/puma/thread_pool.rb:166:in `block in spawn_thread'
Started GET "/register" for 127.0.0.1 at 2024-12-18 01:32:17 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 01:36:29 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 500 Internal Server Error in 259ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `users_path' for an instance of #<Class:0x000001c74a47faa0>)
Caused by: NameError (undefined local variable or method `users_path' for an instance of #<Class:0x000001c74a47faa0>)

Information for: ActionView::Template::Error (undefined local variable or method `users_path' for an instance of #<Class:0x000001c74a47faa0>):
    10: 
    11: <div class="bg-white p-8 rounded-lg shadow-md w-96">
    12:   <h2 class="text-2xl font-semibold text-center mb-6">Регистрация</h2>
    13:   <%= form_for @user, url: users_path, html: { method: :post } do |f| %>
    14:     <div class="mb-4">
    15:       <%= f.label :username, class: "block text-sm font-medium text-gray-700" %>
    16:       <%= f.text_field :username, required: true, class: "mt-1 block w-full border border-gray-300 rounded-md p-2 focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50" %>
  
app/views/users/new.html.erb:13

Information for cause: NameError (undefined local variable or method `users_path' for an instance of #<Class:0x000001c74a47faa0>):
  
app/views/users/new.html.erb:13
Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-18 01:36:30 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/register" for 127.0.0.1 at 2024-12-18 01:36:52 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 276ms (Views: 6.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-c8f704e6.css" for 127.0.0.1 at 2024-12-18 01:36:52 +0300
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 02:00:36 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20241217224518_create_users.rb


):
  
activerecord (8.0.1) lib/active_record/migration.rb:743:in `check_pending_migrations'
activerecord (8.0.1) lib/active_record/migration.rb:660:in `block (2 levels) in call'
activesupport (8.0.1) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (8.0.1) lib/active_record/migration.rb:665:in `block in call'
activerecord (8.0.1) lib/active_record/migration.rb:657:in `synchronize'
activerecord (8.0.1) lib/active_record/migration.rb:657:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.8) lib/rack/method_override.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.5.0) lib/puma/configuration.rb:279:in `call'
puma (6.5.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.5.0) lib/puma/thread_pool.rb:389:in `with_force_shutdown'
puma (6.5.0) lib/puma/request.rb:98:in `handle_request'
puma (6.5.0) lib/puma/server.rb:468:in `process_client'
puma (6.5.0) lib/puma/server.rb:249:in `block in run'
puma (6.5.0) lib/puma/thread_pool.rb:166:in `block in spawn_thread'
Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-18 02:00:36 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20241217224518_create_users.rb


):
  
activerecord (8.0.1) lib/active_record/migration.rb:743:in `check_pending_migrations'
activerecord (8.0.1) lib/active_record/migration.rb:660:in `block (2 levels) in call'
activesupport (8.0.1) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (8.0.1) lib/active_record/migration.rb:665:in `block in call'
activerecord (8.0.1) lib/active_record/migration.rb:657:in `synchronize'
activerecord (8.0.1) lib/active_record/migration.rb:657:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.8) lib/rack/method_override.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.5.0) lib/puma/configuration.rb:279:in `call'
puma (6.5.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.5.0) lib/puma/thread_pool.rb:389:in `with_force_shutdown'
puma (6.5.0) lib/puma/request.rb:98:in `handle_request'
puma (6.5.0) lib/puma/server.rb:468:in `process_client'
puma (6.5.0) lib/puma/server.rb:249:in `block in run'
puma (6.5.0) lib/puma/thread_pool.rb:166:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/b669f2d071c497a8ad5dcf62afc349d5/trace" for 127.0.0.1 at 2024-12-18 02:01:10 +0300
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 02:07:36 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20241217224518_create_users.rb


):
  
activerecord (8.0.1) lib/active_record/migration.rb:743:in `check_pending_migrations'
activerecord (8.0.1) lib/active_record/migration.rb:660:in `block (2 levels) in call'
activesupport (8.0.1) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (8.0.1) lib/active_record/migration.rb:665:in `block in call'
activerecord (8.0.1) lib/active_record/migration.rb:657:in `synchronize'
activerecord (8.0.1) lib/active_record/migration.rb:657:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.8) lib/rack/method_override.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.5.0) lib/puma/configuration.rb:279:in `call'
puma (6.5.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.5.0) lib/puma/thread_pool.rb:389:in `with_force_shutdown'
puma (6.5.0) lib/puma/request.rb:98:in `handle_request'
puma (6.5.0) lib/puma/server.rb:468:in `process_client'
puma (6.5.0) lib/puma/server.rb:249:in `block in run'
puma (6.5.0) lib/puma/thread_pool.rb:166:in `block in spawn_thread'
Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-18 02:07:36 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20241217224518_create_users.rb


):
  
activerecord (8.0.1) lib/active_record/migration.rb:743:in `check_pending_migrations'
activerecord (8.0.1) lib/active_record/migration.rb:660:in `block (2 levels) in call'
activesupport (8.0.1) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (8.0.1) lib/active_record/migration.rb:665:in `block in call'
activerecord (8.0.1) lib/active_record/migration.rb:657:in `synchronize'
activerecord (8.0.1) lib/active_record/migration.rb:657:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.8) lib/rack/method_override.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.5.0) lib/puma/configuration.rb:279:in `call'
puma (6.5.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.5.0) lib/puma/thread_pool.rb:389:in `with_force_shutdown'
puma (6.5.0) lib/puma/request.rb:98:in `handle_request'
puma (6.5.0) lib/puma/server.rb:468:in `process_client'
puma (6.5.0) lib/puma/server.rb:249:in `block in run'
puma (6.5.0) lib/puma/thread_pool.rb:166:in `block in spawn_thread'
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mUser Load (93.7ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for pp */ LIMIT 11 /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (112.3ms)[0m  [1m[35mCREATE DATABASE "onlibrary_development" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (113.3ms)[0m  [1m[35mCREATE DATABASE "onlibrary_test" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to CreateUsers (20241217224518)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Onlibrary'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username") /*application='Onlibrary'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241217224518') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 02:16:46 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | GC: 0.0ms)
Completed 200 OK in 562ms (Views: 23.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-a3b889f2.css" for 127.0.0.1 at 2024-12-18 02:16:47 +0300
Started GET "/assets/application.tailwind-a734f247.css" for 127.0.0.1 at 2024-12-18 02:16:47 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-18 02:16:48 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 6.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | GC: 0.0ms)
Completed 200 OK in 266ms (Views: 9.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/register" for 127.0.0.1 at 2024-12-18 02:17:10 +0300
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"123", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрироваться"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (3.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = '123' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."password" = '123' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
Completed 500 Internal Server Error in 591ms (ActiveRecord: 15.9ms (3 queries, 0 cached) | GC: 0.2ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
)
Caused by: PG::UndefinedColumn (ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
)

Information for: ActiveRecord::StatementInvalid (PG::UndefinedColumn: ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
):
  

Information for cause: PG::UndefinedColumn (ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
):
  
app/controllers/users_controller.rb:7:in `create'
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (95.3ms)[0m  [1m[35mCREATE DATABASE "onlibrary_development" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (204.5ms)[0m  [1m[35mCREATE DATABASE "onlibrary_test" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (299.8ms)[0m  [1m[35mCREATE DATABASE "onlibrary_development" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (115.9ms)[0m  [1m[35mCREATE DATABASE "onlibrary_test" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 11:47:54 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 74.9ms | GC: 0.0ms)
Completed 200 OK in 861ms (Views: 132.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 11:47:56 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 45.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 46.3ms | GC: 0.0ms)
Completed 200 OK in 280ms (Views: 48.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/register" for 127.0.0.1 at 2024-12-18 11:48:03 +0300
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"123", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрироваться"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (2.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = '123' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (10.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."password" = '123' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
Completed 500 Internal Server Error in 764ms (ActiveRecord: 23.4ms (3 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
)
Caused by: PG::UndefinedColumn (ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
)

Information for: ActiveRecord::StatementInvalid (PG::UndefinedColumn: ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
):
  

Information for cause: PG::UndefinedColumn (ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
):
  
app/controllers/users_controller.rb:7:in `create'
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 11:54:13 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 74.3ms | GC: 0.0ms)
Completed 200 OK in 844ms (Views: 133.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 11:54:16 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 45.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 45.7ms | GC: 0.0ms)
Completed 200 OK in 278ms (Views: 47.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/register" for 127.0.0.1 at 2024-12-18 11:54:24 +0300
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"123", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрироваться"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (3.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = '123' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."password" = '123' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
Completed 500 Internal Server Error in 659ms (ActiveRecord: 16.4ms (3 queries, 0 cached) | GC: 0.2ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
)
Caused by: PG::UndefinedColumn (ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
)

Information for: ActiveRecord::StatementInvalid (PG::UndefinedColumn: ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
):
  

Information for cause: PG::UndefinedColumn (ОШИБКА:  столбец users.password не существует
LINE 1: SELECT 1 AS one FROM "users" WHERE "users"."password" = '123...
                                           ^
):
  
app/controllers/users_controller.rb:7:in `create'
Started GET "/" for 127.0.0.1 at 2024-12-18 11:59:28 +0300
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 220ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 11:59:31 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 12:08:19 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | GC: 0.0ms)
Completed 200 OK in 466ms (Views: 21.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 12:08:20 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 6.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | GC: 0.0ms)
Completed 200 OK in 240ms (Views: 8.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/register" for 127.0.0.1 at 2024-12-18 12:08:25 +0300
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"123", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрироваться"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (3.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = '123' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES ('123', '123@mail.ru', '$2a$12$jXJpAagyQXCnh/hbxHPLLuGb6wsuJMfiRJ4N4lz7/0dutmquTWuWG', '2024-12-18 09:08:25.661298', '2024-12-18 09:08:25.661298') RETURNING "id" /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
Redirected to http://127.0.0.1:3000/dashboard
Completed 302 Found in 541ms (ActiveRecord: 17.0ms (3 queries, 0 cached) | GC: 0.2ms)


Started GET "/dashboard" for 127.0.0.1 at 2024-12-18 12:08:25 +0300
Processing by DashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 224ms (Views: 3.3ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 12:10:44 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | GC: 0.0ms)
Completed 200 OK in 480ms (Views: 20.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 12:10:45 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 5.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | GC: 0.0ms)
Completed 200 OK in 222ms (Views: 8.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 12:10:47 +0300
Processing by SessionsController#new as HTML
Completed 406 Not Acceptable in 212ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionController::MissingExactTemplate (SessionsController#new is missing a template for request formats: text/html):
  
actionpack (8.0.1) lib/action_controller/metal/implicit_render.rb:49:in `default_render'
actionpack (8.0.1) lib/action_controller/metal/basic_implicit_render.rb:9:in `send_action'
actionpack (8.0.1) lib/abstract_controller/base.rb:226:in `process_action'
actionpack (8.0.1) lib/action_controller/metal/rendering.rb:193:in `process_action'
actionpack (8.0.1) lib/abstract_controller/callbacks.rb:261:in `block in process_action'
activesupport (8.0.1) lib/active_support/callbacks.rb:120:in `block in run_callbacks'
turbo-rails (2.0.11) lib/turbo-rails.rb:24:in `with_request_id'
turbo-rails (2.0.11) app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
activesupport (8.0.1) lib/active_support/callbacks.rb:129:in `block in run_callbacks'
actiontext (8.0.1) lib/action_text/rendering.rb:25:in `with_renderer'
actiontext (8.0.1) lib/action_text/engine.rb:71:in `block (4 levels) in <class:Engine>'
activesupport (8.0.1) lib/active_support/callbacks.rb:129:in `instance_exec'
activesupport (8.0.1) lib/active_support/callbacks.rb:129:in `block in run_callbacks'
activesupport (8.0.1) lib/active_support/callbacks.rb:140:in `run_callbacks'
actionpack (8.0.1) lib/abstract_controller/callbacks.rb:260:in `process_action'
actionpack (8.0.1) lib/action_controller/metal/rescue.rb:27:in `process_action'
actionpack (8.0.1) lib/action_controller/metal/instrumentation.rb:76:in `block in process_action'
activesupport (8.0.1) lib/active_support/notifications.rb:210:in `block in instrument'
activesupport (8.0.1) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (8.0.1) lib/active_support/notifications.rb:210:in `instrument'
actionpack (8.0.1) lib/action_controller/metal/instrumentation.rb:75:in `process_action'
actionpack (8.0.1) lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
activerecord (8.0.1) lib/active_record/railties/controller_runtime.rb:39:in `process_action'
actionpack (8.0.1) lib/abstract_controller/base.rb:163:in `process'
actionview (8.0.1) lib/action_view/rendering.rb:40:in `process'
actionpack (8.0.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (8.0.1) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (8.0.1) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (8.0.1) lib/action_dispatch/routing/route_set.rb:908:in `call'
railties (8.0.1) lib/rails/engine/lazy_route_set.rb:68:in `call'
rack (3.1.8) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.8) lib/rack/etag.rb:29:in `call'
rack (3.1.8) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.8) lib/rack/head.rb:15:in `call'
actionpack (8.0.1) lib/action_dispatch/http/permissions_policy.rb:38:in `call'
actionpack (8.0.1) lib/action_dispatch/http/content_security_policy.rb:38:in `call'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:272:in `context'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:266:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/cookies.rb:706:in `call'
activerecord (8.0.1) lib/active_record/migration.rb:671:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.1) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.1) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.1) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.1) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.8) lib/rack/method_override.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.1) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.1) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.1) lib/rails/engine.rb:535:in `call'
puma (6.5.0) lib/puma/configuration.rb:279:in `call'
puma (6.5.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.5.0) lib/puma/thread_pool.rb:389:in `with_force_shutdown'
puma (6.5.0) lib/puma/request.rb:98:in `handle_request'
puma (6.5.0) lib/puma/server.rb:468:in `process_client'
puma (6.5.0) lib/puma/server.rb:249:in `block in run'
puma (6.5.0) lib/puma/thread_pool.rb:166:in `block in spawn_thread'
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 12:23:49 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 23.5ms | GC: 0.0ms)
Completed 200 OK in 476ms (Views: 29.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-0070574f.css" for 127.0.0.1 at 2024-12-18 12:23:50 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-18 12:23:51 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 6.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | GC: 0.0ms)
Completed 200 OK in 219ms (Views: 8.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 12:23:53 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/register" for 127.0.0.1 at 2024-12-18 12:24:10 +0300
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"123", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрироваться"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (3.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = '123' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = '123@aaa.com' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
Redirected to http://127.0.0.1:3000/register
Completed 302 Found in 655ms (ActiveRecord: 14.7ms (2 queries, 0 cached) | GC: 0.2ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 12:24:10 +0300
Processing by UsersController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 221ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 12:24:34 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 500 Internal Server Error in 219ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>)
Caused by: NameError (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>)

Information for: ActionView::Template::Error (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>):
    21:     </div>
    22:     <%= f.submit "Войти", class: "w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 rounded-md" %>
    23:   <% end %>
    24:   <p class="mt-4 text-center text-sm text-gray-600">Нет аккаунта? <%= link_to 'Зарегистрироваться', signup_path, class: "text-blue-600 hover:underline" %></p>
    25: </div>
    26: 
    27: </body>
  
app/views/sessions/new.html.erb:24

Information for cause: NameError (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>):
  
app/views/sessions/new.html.erb:24
Started POST "/register" for 127.0.0.1 at 2024-12-18 12:24:47 +0300
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"1234", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрироваться"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = '1234' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at") VALUES ('1234', '1234@mail.ru', '$2a$12$GVX7LbzTCuyngoDkjMGqr.IAezzg81EiY4SIxW5TXvwZCNv.T8IZu', '2024-12-18 09:24:48.293330', '2024-12-18 09:24:48.293330') RETURNING "id" /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:7:in `create'
Redirected to http://127.0.0.1:3000/dashboard
Completed 302 Found in 437ms (ActiveRecord: 5.2ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/dashboard" for 127.0.0.1 at 2024-12-18 12:24:48 +0300
Processing by DashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='index',application='Onlibrary',controller='dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 221ms (Views: 3.2ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 12:24:52 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 500 Internal Server Error in 211ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>)
Caused by: NameError (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>)

Information for: ActionView::Template::Error (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>):
    21:     </div>
    22:     <%= f.submit "Войти", class: "w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 rounded-md" %>
    23:   <% end %>
    24:   <p class="mt-4 text-center text-sm text-gray-600">Нет аккаунта? <%= link_to 'Зарегистрироваться', signup_path, class: "text-blue-600 hover:underline" %></p>
    25: </div>
    26: 
    27: </body>
  
app/views/sessions/new.html.erb:24

Information for cause: NameError (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>):
  
app/views/sessions/new.html.erb:24
Started GET "/login" for 127.0.0.1 at 2024-12-18 12:24:58 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 500 Internal Server Error in 218ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>)
Caused by: NameError (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>)

Information for: ActionView::Template::Error (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>):
    21:     </div>
    22:     <%= f.submit "Войти", class: "w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 rounded-md" %>
    23:   <% end %>
    24:   <p class="mt-4 text-center text-sm text-gray-600">Нет аккаунта? <%= link_to 'Зарегистрироваться', signup_path, class: "text-blue-600 hover:underline" %></p>
    25: </div>
    26: 
    27: </body>
  
app/views/sessions/new.html.erb:24

Information for cause: NameError (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>):
  
app/views/sessions/new.html.erb:24
Started GET "/login" for 127.0.0.1 at 2024-12-18 12:24:58 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 500 Internal Server Error in 261ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)


  
ActionView::Template::Error (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>)
Caused by: NameError (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>)

Information for: ActionView::Template::Error (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>):
    21:     </div>
    22:     <%= f.submit "Войти", class: "w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 rounded-md" %>
    23:   <% end %>
    24:   <p class="mt-4 text-center text-sm text-gray-600">Нет аккаунта? <%= link_to 'Зарегистрироваться', signup_path, class: "text-blue-600 hover:underline" %></p>
    25: </div>
    26: 
    27: </body>
  
app/views/sessions/new.html.erb:24

Information for cause: NameError (undefined local variable or method `signup_path' for an instance of #<Class:0x000001bf25a2d538>):
  
app/views/sessions/new.html.erb:24
Started GET "/register" for 127.0.0.1 at 2024-12-18 12:25:01 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 3.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 12:27:38 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 213ms (Views: 5.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 12:27:39 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 3.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 217ms (Views: 6.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 12:27:40 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.1ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.2ms)
Completed 200 OK in 215ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 12:27:41 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 5.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 12:27:42 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 5.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | GC: 0.0ms)
Completed 200 OK in 214ms (Views: 7.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 12:27:43 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 209ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-18 12:27:52 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
[31mUnpermitted parameters: :authenticity_token, :session, :commit. Context: { controller: SessionsController, action: create, request: #<ActionDispatch::Request:0x000001bf26011d78>, params: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти", "controller"=>"sessions", "action"=>"create"} }[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 212ms (ActiveRecord: 1.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 12:27:52 +0300
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-18 12:32:33 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
[31mUnpermitted parameters: :authenticity_token, :session, :commit. Context: { controller: SessionsController, action: create, request: #<ActionDispatch::Request:0x000001bf255e20a0>, params: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти", "controller"=>"sessions", "action"=>"create"} }[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 215ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 12:32:33 +0300
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 12:32:38 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 213ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 12:32:38 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-18 12:32:51 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
[31mUnpermitted parameters: :authenticity_token, :session, :commit. Context: { controller: SessionsController, action: create, request: #<ActionDispatch::Request:0x000001bf26518a38>, params: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти", "controller"=>"sessions", "action"=>"create"} }[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 213ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 12:32:51 +0300
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 12:33:04 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | GC: 0.0ms)
Completed 200 OK in 466ms (Views: 21.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 12:33:09 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 6.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | GC: 0.0ms)
Completed 200 OK in 218ms (Views: 8.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 12:33:10 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 214ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-18 12:33:18 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
[31mUnpermitted parameters: :authenticity_token, :session, :commit. Context: { controller: SessionsController, action: create, request: #<ActionDispatch::Request:0x0000019655f592f8>, params: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти", "controller"=>"sessions", "action"=>"create"} }[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 442ms (ActiveRecord: 7.7ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 12:33:18 +0300
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 217ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-18 14:43:21 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 107.4ms | GC: 0.0ms)
Completed 200 OK in 882ms (Views: 161.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 14:43:25 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 49.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 50.2ms | GC: 0.0ms)
Completed 200 OK in 297ms (Views: 52.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 14:43:27 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 233ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-18 14:43:44 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
[31mUnpermitted parameters: :authenticity_token, :session, :commit. Context: { controller: SessionsController, action: create, request: #<ActionDispatch::Request:0x0000016643b8da30>, params: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти", "controller"=>"sessions", "action"=>"create"} }[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 517ms (ActiveRecord: 11.0ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 14:43:45 +0300
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started POST "/login" for 127.0.0.1 at 2024-12-18 14:50:24 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/dashboard
Completed 302 Found in 779ms (ActiveRecord: 11.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/dashboard" for 127.0.0.1 at 2024-12-18 14:50:25 +0300
Processing by DashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | GC: 0.0ms)
Completed 200 OK in 263ms (Views: 17.9ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:50:48 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 217ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:50:49 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 222ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 14:50:50 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 60.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 61.5ms | GC: 0.0ms)
Completed 200 OK in 283ms (Views: 63.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:50:51 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 206ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:50:52 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 210ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:50:52 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 209ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:50:53 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 208ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:50:53 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 209ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:50:53 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 211ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:50:54 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 210ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:50:54 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 209ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:52:52 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 213ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/dashboard" for 127.0.0.1 at 2024-12-18 14:52:54 +0300
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1 /*action='index',application='Onlibrary',controller='dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
Redirected to http://127.0.0.1:3000/login
Filter chain halted as :authenticate_user rendered or redirected
Completed 302 Found in 222ms (ActiveRecord: 1.1ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 14:52:54 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 5.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-18 14:53:03 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/dashboard
Completed 302 Found in 409ms (ActiveRecord: 1.6ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/dashboard" for 127.0.0.1 at 2024-12-18 14:53:04 +0300
Processing by DashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 225ms (Views: 4.2ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/" for 127.0.0.1 at 2024-12-18 14:53:05 +0300
  
ActionController::RoutingError (No route matches [DELETE] "/"):
  
Started GET "/dashboard" for 127.0.0.1 at 2024-12-18 14:53:06 +0300
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 244ms (Views: 1.4ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/" for 127.0.0.1 at 2024-12-18 14:53:08 +0300
  
ActionController::RoutingError (No route matches [DELETE] "/"):
  
Started GET "/dashboard" for 127.0.0.1 at 2024-12-18 14:53:08 +0300
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 2.1ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/" for 127.0.0.1 at 2024-12-18 14:53:10 +0300
  
ActionController::RoutingError (No route matches [DELETE] "/"):
  
Started GET "/dashboard" for 127.0.0.1 at 2024-12-18 14:53:10 +0300
Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 209ms (Views: 1.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/dashboard" for 127.0.0.1 at 2024-12-18 14:59:15 +0300
Processing by DashboardController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 302ms (Views: 4.5ms | ActiveRecord: 5.7ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:59:16 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 211ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 14:59:18 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 210ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 15:01:10 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 233ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-18 15:01:11 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 230ms (Views: 5.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 15:01:12 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 4.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 0.0ms)
Completed 200 OK in 216ms (Views: 6.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 15:01:14 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 227ms (Views: 3.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 15:01:20 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 214ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 15:01:23 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-18 15:01:32 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/dashboard
Completed 302 Found in 420ms (ActiveRecord: 6.7ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/dashboard" for 127.0.0.1 at 2024-12-18 15:01:33 +0300
Processing by DashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 222ms (Views: 5.9ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-18 15:01:37 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 206ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-18 15:01:37 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 209ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-18 15:01:38 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 210ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 15:01:39 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 209ms (Views: 2.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 15:01:39 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 213ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 15:01:40 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-18 15:01:48 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '122@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 227ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-18 15:01:48 +0300
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (104.4ms)[0m  [1m[35mCREATE DATABASE "onlibrary_development" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (93.4ms)[0m  [1m[35mCREATE DATABASE "onlibrary_test" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (330.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "onlibrary_development" /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (239.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "onlibrary_test" /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (212.9ms)[0m  [1m[35mCREATE DATABASE "onlibrary_development" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (224.1ms)[0m  [1m[35mCREATE DATABASE "onlibrary_test" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE /*application='Onlibrary'*/[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Onlibrary'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Onlibrary'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username") /*application='Onlibrary'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20241217224518) /*application='Onlibrary'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-12-22 10:39:31.876355', '2024-12-22 10:39:31.876357') RETURNING "key" /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8e5ca99c8d43196c1d110a7e8cd75db4240fa1de', '2024-12-22 10:39:31.880390', '2024-12-22 10:39:31.880391') RETURNING "key" /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (204.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "onlibrary_development" /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (121.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "onlibrary_test" /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (331.4ms)[0m  [1m[35mCREATE DATABASE "onlibrary_development" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
  [1m[35mSQL (1.0ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (343.3ms)[0m  [1m[35mCREATE DATABASE "onlibrary_test" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE /*application='Onlibrary'*/[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Onlibrary'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Onlibrary'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username") /*application='Onlibrary'*/[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20241217224518) /*application='Onlibrary'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-12-22 10:40:25.742535', '2024-12-22 10:40:25.742538') RETURNING "key" /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8e5ca99c8d43196c1d110a7e8cd75db4240fa1de', '2024-12-22 10:40:25.746613', '2024-12-22 10:40:25.746614') RETURNING "key" /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to AddRoleToUsers (20241222104326)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "users" ADD "role" character varying /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241222104326') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-22 14:07:07 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 71.0ms | GC: 0.0ms)
Completed 200 OK in 839ms (Views: 130.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-99c071b5.css" for 127.0.0.1 at 2024-12-22 14:07:09 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-22 14:07:10 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 48.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 49.1ms | GC: 0.0ms)
Completed 200 OK in 287ms (Views: 51.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:07:11 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 231ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:07:19 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 570ms (ActiveRecord: 9.6ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:07:20 +0300
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:07:23 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 224ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/register" for 127.0.0.1 at 2024-12-22 14:07:38 +0300
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"1234", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрироваться"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = '1234' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at", "role") VALUES ('1234', '1234@mail.ru', '$2a$12$10Kjx2Eha4XJr5dl7yDrQOk4ilRacSLRryhwwrSnNAFDahLYyf7gi', '2024-12-22 11:07:39.215082', '2024-12-22 11:07:39.215082', 'user') RETURNING "id" /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
Completed 500 Internal Server Error in 418ms (ActiveRecord: 7.5ms (3 queries, 0 cached) | GC: 0.0ms)


  
NameError (undefined local variable or method `dashboard_path' for an instance of UsersController):
  
app/controllers/users_controller.rb:14:in `create'
Started GET "/register" for 127.0.0.1 at 2024-12-22 14:07:59 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 5.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:08:02 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 214ms (Views: 6.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:08:02 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 206ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:08:13 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 474ms (ActiveRecord: 2.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-22 14:08:14 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 234ms (Views: 3.4ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-22 14:09:49 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 218ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-22 14:09:50 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 217ms (Views: 3.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:09:50 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:09:51 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 216ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:10:00 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Completed 500 Internal Server Error in 214ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


  
BCrypt::Errors::InvalidHash (invalid hash):
  
app/controllers/sessions_controller.rb:7:in `create'
Started GET "/login" for 127.0.0.1 at 2024-12-22 14:10:40 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 209ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:10:52 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 397ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-22 14:10:53 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 1.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[36mUser Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = '123' LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at", "role") VALUES ('123', '123@mail.ru', '$2a$12$A1OkRw0/J04/clWSVQeIlu2LnvYIgg1W0JEWTq5OPa6by/TfHDksC', '2024-12-22 11:16:05.302795', '2024-12-22 11:16:05.302795', NULL) RETURNING "id" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
Started DELETE "/logout" for 127.0.0.1 at 2024-12-22 14:16:45 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 203ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-22 14:16:46 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 0.0ms)
Completed 200 OK in 208ms (Views: 6.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:16:46 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.2ms)
Completed 200 OK in 207ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:16:49 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.4ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.2ms)
Completed 200 OK in 210ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:16:56 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 600ms (ActiveRecord: 5.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:16:56 +0300
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:17:41 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
Started GET "/register" for 127.0.0.1 at 2024-12-22 14:17:41 +0300
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Processing by UsersController#new as HTML
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 424ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:17:42 +0300
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 227ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-22 14:27:49 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | GC: 0.0ms)
Completed 200 OK in 502ms (Views: 25.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-99c071b5.css" for 127.0.0.1 at 2024-12-22 14:27:50 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-22 14:27:50 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 6.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | GC: 0.0ms)
Completed 200 OK in 214ms (Views: 8.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:27:52 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 208ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:28:02 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
Started GET "/register" for 127.0.0.1 at 2024-12-22 14:28:02 +0300
Processing by UsersController#new as HTML
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 234ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 654ms (ActiveRecord: 16.8ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:28:03 +0300
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 221ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:30:35 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
Started GET "/register" for 127.0.0.1 at 2024-12-22 14:30:35 +0300
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 31500ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Processing by UsersController#new as HTML
Completed   in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-22 14:31:59 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | GC: 0.0ms)
Completed 200 OK in 452ms (Views: 21.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:32:00 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 5.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | GC: 0.0ms)
Completed 200 OK in 207ms (Views: 8.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:32:01 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 207ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:32:02 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 3.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:32:12 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
Started GET "/register" for 127.0.0.1 at 2024-12-22 14:32:12 +0300
Processing by UsersController#new as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 10089ms (Views: 3.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)


Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 10311ms (ActiveRecord: 14.9ms (1 query, 0 cached) | GC: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:32:22 +0300
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 227ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-22 14:32:28 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | GC: 0.0ms)
Completed 200 OK in 450ms (Views: 22.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:32:31 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 6.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | GC: 0.0ms)
Completed 200 OK in 216ms (Views: 8.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:32:32 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:32:38 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 49802ms (ActiveRecord: 11.0ms (1 query, 0 cached) | GC: 0.2ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started POST "/login" for 127.0.0.1 at 2024-12-22 14:33:33 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 39327ms (ActiveRecord: 12.4ms (1 query, 0 cached) | GC: 0.3ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-22 14:35:53 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | GC: 0.0ms)
Completed 200 OK in 447ms (Views: 21.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-99c071b5.css" for 127.0.0.1 at 2024-12-22 14:35:53 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-22 14:35:54 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 6.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 8.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:35:56 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 3.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:36:05 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 634ms (ActiveRecord: 12.9ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-22 14:36:06 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 219ms (Views: 3.1ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-22 14:36:09 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 203ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-22 14:36:09 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 207ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:36:14 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 206ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:36:15 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 200ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:36:16 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 206ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:36:23 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 403ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-22 14:36:24 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 218ms (Views: 1.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-22 14:36:29 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 210ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-22 14:36:29 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:36:47 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.0ms)
Completed 200 OK in 229ms (Views: 6.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:36:48 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 213ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:36:55 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 403ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-22 14:36:56 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 217ms (Views: 1.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.2ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-22 14:38:57 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 205ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-22 14:38:57 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 209ms (Views: 5.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:38:58 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 209ms (Views: 4.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:38:58 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 7.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 8.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:38:59 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 210ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:39:07 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 402ms (ActiveRecord: 2.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 14:39:07 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 207ms (Views: 3.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-22 14:39:12 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти (админ)"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 204ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-22 14:39:12 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 204ms (Views: 1.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:39:20 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 213ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:39:20 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 217ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:39:29 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/login
Completed 302 Found in 401ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:39:29 +0300
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 210ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = '$2a$12$CBBZTzmyLWvXkkXHHaOHZuKzBhRtdSCH1rlKKbvHDm/0zA8bsyNiS', "updated_at" = '2024-12-22 11:45:33.863432' WHERE "users"."id" = 2 /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = '$2a$12$AdS8Zoa/sm/D28ODv/NxheAbHo7BR98m6Ny6n0gF2U9bwY/PcnZmi', "updated_at" = '2024-12-22 11:46:58.943045' WHERE "users"."id" = 2 /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
Started POST "/login" for 127.0.0.1 at 2024-12-22 14:47:20 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 514ms (ActiveRecord: 5.8ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 14:47:21 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.0ms)
Completed 200 OK in 234ms (Views: 5.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-22 14:47:23 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти (админ)"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 204ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-22 14:47:23 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 205ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:47:24 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 200ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:47:26 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 208ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:47:35 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 395ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 14:47:35 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 208ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-22 14:47:37 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти (админ)"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 205ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-22 14:47:37 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 206ms (Views: 1.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:47:54 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 217ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:47:55 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:48:04 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 396ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 14:48:05 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-22 14:48:07 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти (админ)"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 210ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-22 14:48:07 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 207ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 14:48:11 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 207ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 14:48:12 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 206ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 14:48:20 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 407ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-22 14:48:21 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 224ms (Views: 3.1ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to CreateBooks (20241222133613)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE "books" ("id" bigserial primary key, "name" character varying, "author" character varying, "count" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241222133613') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
Migrating to CreateOperation (20241222135104)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "operations" ("id" bigserial primary key, "user" bigint NOT NULL, "book" bigint NOT NULL, "took" timestamp NOT NULL, "returned" timestamp) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241222135104') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-22 17:18:53 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | GC: 0.0ms)
Completed 200 OK in 610ms (Views: 23.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-81e0f86f.css" for 127.0.0.1 at 2024-12-22 17:18:54 +0300
Started GET "/assets/application.tailwind-a734f247.css" for 127.0.0.1 at 2024-12-22 17:18:54 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-22 17:18:55 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 6.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | GC: 0.0ms)
Completed 200 OK in 289ms (Views: 9.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 17:18:56 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 4.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 17:19:04 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 590ms (ActiveRecord: 11.0ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 17:19:05 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 6.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 0.0ms)
Completed 500 Internal Server Error in 275ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `books_path' for an instance of #<Class:0x0000020225906860>)
Caused by: NameError (undefined local variable or method `books_path' for an instance of #<Class:0x0000020225906860>)

Information for: ActionView::Template::Error (undefined local variable or method `books_path' for an instance of #<Class:0x0000020225906860>):
     8: 
     9:     <%= button_to 'Добавить книги в базу данных', admin_dashboard_new_book_path, method: :get, class: 'px-6 py-3 text-white bg-blue-600 rounded-lg shadow hover:bg-blue-700 transition' %>
    10: 
    11:     <%= button_to 'Посмотреть книги из базы данных', books_path, method: :get, class: 'px-6 py-3 text-white bg-green-600 rounded-lg shadow hover:bg-green-700 transition' %>
    12: 
    13:     <%= button_to 'Выдать книгу пользователю', issue_book_path, method: :get, class: 'px-6 py-3 text-white bg-yellow-600 rounded-lg shadow hover:bg-yellow-700 transition' %>
    14: 
  
app/views/admin_dashboard/index.html.erb:11

Information for cause: NameError (undefined local variable or method `books_path' for an instance of #<Class:0x0000020225906860>):
  
app/views/admin_dashboard/index.html.erb:11
Started GET "/register" for 127.0.0.1 at 2024-12-22 17:19:11 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 2.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 17:19:11 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 17:20:20 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 6.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 17:20:26 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 460ms (ActiveRecord: 2.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 17:20:27 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 500 Internal Server Error in 256ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `books_path' for an instance of #<Class:0x0000020225d0f970>)
Caused by: NameError (undefined local variable or method `books_path' for an instance of #<Class:0x0000020225d0f970>)

Information for: ActionView::Template::Error (undefined local variable or method `books_path' for an instance of #<Class:0x0000020225d0f970>):
     8: 
     9:     <%= button_to 'Добавить книги в базу данных', admin_dashboard_new_book_path, method: :get, class: 'px-6 py-3 text-white bg-blue-600 rounded-lg shadow hover:bg-blue-700 transition' %>
    10: 
    11:     <!-- <%= button_to 'Посмотреть книги из базы данных', books_path, method: :get, class: 'px-6 py-3 text-white bg-green-600 rounded-lg shadow hover:bg-green-700 transition' %>
    12: 
    13:     <%= button_to 'Выдать книгу пользователю', issue_book_path, method: :get, class: 'px-6 py-3 text-white bg-yellow-600 rounded-lg shadow hover:bg-yellow-700 transition' %>-->
    14: 
  
app/views/admin_dashboard/index.html.erb:11

Information for cause: NameError (undefined local variable or method `books_path' for an instance of #<Class:0x0000020225d0f970>):
  
app/views/admin_dashboard/index.html.erb:11
Started GET "/login" for 127.0.0.1 at 2024-12-22 17:21:15 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 5.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 17:21:23 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 462ms (ActiveRecord: 2.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 17:21:24 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 500 Internal Server Error in 265ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <%# app/views/admin/index.html.erb %>

<div class="flex flex-col items-center justify-center h-screen bg-gray-50">

  <h1 class="text-4xl font-bold mb-10">Администраторская панель</h1>

  <div class="space-y-4">

    <%= button_to 'Добавить книги в базу данных', admin_dashboard_new_book_path, method: :get, class: 'px-6 py-3 text-white bg-blue-600 rounded-lg shadow hover:bg-blue-700 transition' %>

    <%=# button_to 'Посмотреть книги из базы данных', books_path, method: :get, class: 'px-6 py-3 text-white bg-green-600 rounded-lg shadow hover:bg-green-700 transition' %>

    <%= #button_to 'Выдать книгу пользователю', issue_book_path, method: :get, class: 'px-6 py-3 text-white bg-yellow-600 rounded-lg shadow hover:bg-yellow-700 transition' %>

    <%= button_to 'Выйти из аккаунта', logout_path, method: :delete, class: 'px-6 py-3 text-white bg-red-600 rounded-lg shadow hover:bg-red-700 transition' %>

  </div>

</div>
)
Caused by: ActiveSupport::SyntaxErrorProxy (C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:13: syntax error, unexpected constant, expecting ')'
...pend=( #button_to 'Выдать книгу пользова...
...                   ^~~~~~~~~~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:15: syntax error, unexpected constant, expecting ')'
....append=( button_to 'Выйти из аккаунта', logo...
...                     ^~~~~~~~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:17: syntax error, unexpected '<'
  </div>
  ^
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:19: unknown regexp options - dv
</div>'.freeze;
 ^~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:21: unterminated string meets end of file
          end
             ^
)

Information for: ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <%# app/views/admin/index.html.erb %>

<div class="flex flex-col items-center justify-center h-screen bg-gray-50">

  <h1 class="text-4xl font-bold mb-10">Администраторская панель</h1>

  <div class="space-y-4">

    <%= button_to 'Добавить книги в базу данных', admin_dashboard_new_book_path, method: :get, class: 'px-6 py-3 text-white bg-blue-600 rounded-lg shadow hover:bg-blue-700 transition' %>

    <%=# button_to 'Посмотреть книги из базы данных', books_path, method: :get, class: 'px-6 py-3 text-white bg-green-600 rounded-lg shadow hover:bg-green-700 transition' %>

    <%= #button_to 'Выдать книгу пользователю', issue_book_path, method: :get, class: 'px-6 py-3 text-white bg-yellow-600 rounded-lg shadow hover:bg-yellow-700 transition' %>

    <%= button_to 'Выйти из аккаунта', logout_path, method: :delete, class: 'px-6 py-3 text-white bg-red-600 rounded-lg shadow hover:bg-red-700 transition' %>

  </div>

</div>
):
1:    <%# app/views/admin/index.html.erb %>
2:    
3:    <div class="flex flex-col items-center justify-center h-screen bg-gray-50">
4:    
5:      <h1 class="text-4xl font-bold mb-10">Администраторская панель</h1>
6:    
7:      <div class="space-y-4">
8:    
9:        <%= button_to 'Добавить книги в базу данных', admin_dashboard_new_book_path, method: :get, class: 'px-6 py-3 text-white bg-blue-600 rounded-lg shadow hover:bg-blue-700 transition' %>
10:    
11:        <%=# button_to 'Посмотреть книги из базы данных', books_path, method: :get, class: 'px-6 py-3 text-white bg-green-600 rounded-lg shadow hover:bg-green-700 transition' %>
12:    
13:        <%= #button_to 'Выдать книгу пользователю', issue_book_path, method: :get, class: 'px-6 py-3 text-white bg-yellow-600 rounded-lg shadow hover:bg-yellow-700 transition' %>
14:    
15:        <%= button_to 'Выйти из аккаунта', logout_path, method: :delete, class: 'px-6 py-3 text-white bg-red-600 rounded-lg shadow hover:bg-red-700 transition' %>
16:    
17:      </div>
18:    
19:    </div>
  
app/views/admin_dashboard/index.html.erb:13: syntax error, unexpected constant, expecting ')'
app/views/admin_dashboard/index.html.erb:15: syntax error, unexpected constant, expecting ')'
app/views/admin_dashboard/index.html.erb:17: syntax error, unexpected '<'
app/views/admin_dashboard/index.html.erb:19: unknown regexp options - dv
app/views/admin_dashboard/index.html.erb:21: unterminated string meets end of file

Information for cause: ActiveSupport::SyntaxErrorProxy (C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:13: syntax error, unexpected constant, expecting ')'
...pend=( #button_to 'Выдать книгу пользова...
...                   ^~~~~~~~~~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:15: syntax error, unexpected constant, expecting ')'
....append=( button_to 'Выйти из аккаунта', logo...
...                     ^~~~~~~~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:17: syntax error, unexpected '<'
  </div>
  ^
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:19: unknown regexp options - dv
</div>'.freeze;
 ^~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:21: unterminated string meets end of file
          end
             ^
):
  
app/views/admin_dashboard/index.html.erb:13: syntax error, unexpected constant, expecting ')'
app/views/admin_dashboard/index.html.erb:15: syntax error, unexpected constant, expecting ')'
app/views/admin_dashboard/index.html.erb:17: syntax error, unexpected '<'
app/views/admin_dashboard/index.html.erb:19: unknown regexp options - dv
app/views/admin_dashboard/index.html.erb:21: unterminated string meets end of file
Started GET "/login" for 127.0.0.1 at 2024-12-22 17:21:59 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 5.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 17:22:03 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
Started GET "/register" for 127.0.0.1 at 2024-12-22 17:22:03 +0300
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 478ms (ActiveRecord: 3.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 17:22:03 +0300
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 282ms (Views: 6.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 500 Internal Server Error in 259ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div class="flex flex-col items-center justify-center h-screen bg-gray-50">

  <h1 class="text-4xl font-bold mb-10">Администраторская панель</h1>

  <div class="space-y-4">

    <%= button_to 'Добавить книги в базу данных', admin_dashboard_new_book_path, method: :get, class: 'px-6 py-3 text-white bg-blue-600 rounded-lg shadow hover:bg-blue-700 transition' %>

    <%=# button_to 'Посмотреть книги из базы данных', books_path, method: :get, class: 'px-6 py-3 text-white bg-green-600 rounded-lg shadow hover:bg-green-700 transition' %>

    <%= #button_to 'Выдать книгу пользователю', issue_book_path, method: :get, class: 'px-6 py-3 text-white bg-yellow-600 rounded-lg shadow hover:bg-yellow-700 transition' %>

    <%= button_to 'Выйти из аккаунта', logout_path, method: :delete, class: 'px-6 py-3 text-white bg-red-600 rounded-lg shadow hover:bg-red-700 transition' %>

  </div>

</div>
)
Caused by: ActiveSupport::SyntaxErrorProxy (C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:11: syntax error, unexpected constant, expecting ')'
...pend=( #button_to 'Выдать книгу пользова...
...                   ^~~~~~~~~~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:13: syntax error, unexpected constant, expecting ')'
....append=( button_to 'Выйти из аккаунта', logo...
...                     ^~~~~~~~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:15: syntax error, unexpected '<'
  </div>
  ^
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:17: unknown regexp options - dv
</div>'.freeze;
 ^~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:19: unterminated string meets end of file
          end
             ^
)

Information for: ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div class="flex flex-col items-center justify-center h-screen bg-gray-50">

  <h1 class="text-4xl font-bold mb-10">Администраторская панель</h1>

  <div class="space-y-4">

    <%= button_to 'Добавить книги в базу данных', admin_dashboard_new_book_path, method: :get, class: 'px-6 py-3 text-white bg-blue-600 rounded-lg shadow hover:bg-blue-700 transition' %>

    <%=# button_to 'Посмотреть книги из базы данных', books_path, method: :get, class: 'px-6 py-3 text-white bg-green-600 rounded-lg shadow hover:bg-green-700 transition' %>

    <%= #button_to 'Выдать книгу пользователю', issue_book_path, method: :get, class: 'px-6 py-3 text-white bg-yellow-600 rounded-lg shadow hover:bg-yellow-700 transition' %>

    <%= button_to 'Выйти из аккаунта', logout_path, method: :delete, class: 'px-6 py-3 text-white bg-red-600 rounded-lg shadow hover:bg-red-700 transition' %>

  </div>

</div>
):
1:    <div class="flex flex-col items-center justify-center h-screen bg-gray-50">
2:    
3:      <h1 class="text-4xl font-bold mb-10">Администраторская панель</h1>
4:    
5:      <div class="space-y-4">
6:    
7:        <%= button_to 'Добавить книги в базу данных', admin_dashboard_new_book_path, method: :get, class: 'px-6 py-3 text-white bg-blue-600 rounded-lg shadow hover:bg-blue-700 transition' %>
8:    
9:        <%=# button_to 'Посмотреть книги из базы данных', books_path, method: :get, class: 'px-6 py-3 text-white bg-green-600 rounded-lg shadow hover:bg-green-700 transition' %>
10:    
11:        <%= #button_to 'Выдать книгу пользователю', issue_book_path, method: :get, class: 'px-6 py-3 text-white bg-yellow-600 rounded-lg shadow hover:bg-yellow-700 transition' %>
12:    
13:        <%= button_to 'Выйти из аккаунта', logout_path, method: :delete, class: 'px-6 py-3 text-white bg-red-600 rounded-lg shadow hover:bg-red-700 transition' %>
14:    
15:      </div>
16:    
17:    </div>
  
app/views/admin_dashboard/index.html.erb:11: syntax error, unexpected constant, expecting ')'
app/views/admin_dashboard/index.html.erb:13: syntax error, unexpected constant, expecting ')'
app/views/admin_dashboard/index.html.erb:15: syntax error, unexpected '<'
app/views/admin_dashboard/index.html.erb:17: unknown regexp options - dv
app/views/admin_dashboard/index.html.erb:19: unterminated string meets end of file

Information for cause: ActiveSupport::SyntaxErrorProxy (C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:11: syntax error, unexpected constant, expecting ')'
...pend=( #button_to 'Выдать книгу пользова...
...                   ^~~~~~~~~~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:13: syntax error, unexpected constant, expecting ')'
....append=( button_to 'Выйти из аккаунта', logo...
...                     ^~~~~~~~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:15: syntax error, unexpected '<'
  </div>
  ^
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:17: unknown regexp options - dv
</div>'.freeze;
 ^~~~
C:/rubyProj/onlibrary/app/views/admin_dashboard/index.html.erb:19: unterminated string meets end of file
          end
             ^
):
  
app/views/admin_dashboard/index.html.erb:11: syntax error, unexpected constant, expecting ')'
app/views/admin_dashboard/index.html.erb:13: syntax error, unexpected constant, expecting ')'
app/views/admin_dashboard/index.html.erb:15: syntax error, unexpected '<'
app/views/admin_dashboard/index.html.erb:17: unknown regexp options - dv
app/views/admin_dashboard/index.html.erb:19: unterminated string meets end of file
Started GET "/login" for 127.0.0.1 at 2024-12-22 17:23:02 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 5.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-22 17:23:05 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 17:23:07 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 444ms (ActiveRecord: 2.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 17:23:07 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 5.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 17:23:11 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 17:23:24 +0300
Processing by BooksController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Война и мир", "author"=>"Лев Толстой", "count"=>"100"}, "commit"=>"Добавить книгу"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:10:in `create'
  [1m[36mBook Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' LIMIT 1 /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:10:in `create'
  [1m[36mBook Create (0.6ms)[0m  [1m[32mINSERT INTO "books" ("name", "author", "count", "created_at", "updated_at") VALUES ('Война и мир', 'Лев Толстой', 100, '2024-12-22 14:23:25.175883', '2024-12-22 14:23:25.175883') RETURNING "id" /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:10:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:10:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 283ms (ActiveRecord: 5.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 17:23:25 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 270ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 17:30:30 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | GC: 0.0ms)
Completed 200 OK in 265ms (Views: 9.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-a98210fc.css" for 127.0.0.1 at 2024-12-22 17:30:30 +0300
Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 17:30:31 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (97.7ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 101.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 102.2ms | GC: 0.0ms)
Completed 500 Internal Server Error in 357ms (ActiveRecord: 101.8ms (1 query, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method `title' for an instance of Book)
Caused by: NoMethodError (undefined method `title' for an instance of Book)

Information for: ActionView::Template::Error (undefined method `title' for an instance of Book):
    18:     <tbody>
    19:     <% @books.each do |book| %>
    20:       <tr class="border-b hover:bg-gray-100">
    21:         <td class="py-2 px-4"><%= book.title %></td>
    22:         <td class="py-2 px-4"><%= book.author %></td>
    23:         <td class="py-2 px-4"><%= book.isbn %></td>
    24:         <td class="py-2 px-4">
  
app/views/books/index.html.erb:21
app/views/books/index.html.erb:19

Information for cause: NoMethodError (undefined method `title' for an instance of Book):
  
app/views/books/index.html.erb:21
app/views/books/index.html.erb:19
Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 17:30:58 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 4.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 17:30:59 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 11.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 6.7ms | ActiveRecord: 7.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 17:31:45 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 9.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | GC: 0.0ms)
Completed 200 OK in 272ms (Views: 12.2ms | ActiveRecord: 2.6ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 17:31:47 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.0ms)
Completed 200 OK in 250ms (Views: 5.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 17:31:48 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 6.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 17:31:49 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 17:32:14 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 5.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 17:32:15 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 3.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 19:20:32 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (89.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 101.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 102.8ms | GC: 0.0ms)
Completed 200 OK in 371ms (Views: 5.4ms | ActiveRecord: 101.0ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 19:20:37 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 2.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 19:20:38 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 19:21:46 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 5.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | GC: 0.0ms)
Completed 200 OK in 265ms (Views: 7.8ms | ActiveRecord: 2.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 19:29:40 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | GC: 0.0ms)
Completed 200 OK in 312ms (Views: 16.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 19:29:41 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 286ms (Views: 5.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 19:29:41 +0300
Processing by AdminDashboardController#index as HTML
Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 19:29:41 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 336ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-94f39faf.css" for 127.0.0.1 at 2024-12-22 19:29:42 +0300
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 338ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 19:29:45 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 19:30:12 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 5.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book" for 127.0.0.1 at 2024-12-22 19:30:13 +0300
Processing by OperationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 19:31:09 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (88.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 92.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 93.8ms | GC: 0.0ms)
Completed 200 OK in 356ms (Views: 3.0ms | ActiveRecord: 92.9ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 19:42:31 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (103.7ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 108.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 109.8ms | GC: 0.0ms)
Completed 200 OK in 370ms (Views: 5.0ms | ActiveRecord: 107.8ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books.1" for 127.0.0.1 at 2024-12-22 19:42:33 +0300
Processing by BooksController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 3.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 19:42:34 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 2.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books.1" for 127.0.0.1 at 2024-12-22 19:42:37 +0300
Processing by BooksController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 3.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books.1" for 127.0.0.1 at 2024-12-22 19:42:38 +0300
Processing by BooksController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 3.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books.1" for 127.0.0.1 at 2024-12-22 19:43:01 +0300
Processing by BooksController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 10.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | GC: 0.0ms)
Completed 500 Internal Server Error in 270ms (ActiveRecord: 6.8ms (1 query, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method `id' for an instance of Symbol)
Caused by: NoMethodError (undefined method `id' for an instance of Symbol)

Information for: ActionView::Template::Error (undefined method `id' for an instance of Symbol):
    22:         <td class="py-2 px-4"><%= book.author %></td>
    23:         <td class="py-2 px-4"><%= book.count %></td>
    24:         <td class="py-2 px-4">
    25:           <%= link_to 'Выдать', admin_dashboard_all_books_path(:book.id), class: 'text-blue-600 hover:underline' %>
    26:           <%#link_to 'Удалить', book, method: :delete, data: { confirm: 'Вы уверены?' }, class: 'ml-2 text-red-600 hover:underline' %>
    27:         </td>
    28:       </tr>
  
app/views/books/index.html.erb:25
app/views/books/index.html.erb:19

Information for cause: NoMethodError (undefined method `id' for an instance of Symbol):
  
app/views/books/index.html.erb:25
app/views/books/index.html.erb:19
Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-22 19:43:02 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 19:43:17 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 5.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 19:43:19 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 6.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 7.2ms | ActiveRecord: 2.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books.1" for 127.0.0.1 at 2024-12-22 19:43:20 +0300
Processing by BooksController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 3.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books.1" for 127.0.0.1 at 2024-12-22 19:43:22 +0300
Processing by BooksController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 2.9ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books.1" for 127.0.0.1 at 2024-12-22 19:43:30 +0300
Processing by BooksController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 3.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books.1" for 127.0.0.1 at 2024-12-22 19:54:21 +0300
Processing by BooksController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (82.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 86.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 87.8ms | GC: 0.0ms)
Completed 200 OK in 343ms (Views: 4.2ms | ActiveRecord: 86.7ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/operations/1/give_out_book" for 127.0.0.1 at 2024-12-22 19:54:23 +0300
Processing by OperationsController#new as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 4.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/operations/1/give_out_book" for 127.0.0.1 at 2024-12-22 19:54:33 +0300
Processing by OperationsController#new as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 272ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/operations/1/give_out_book" for 127.0.0.1 at 2024-12-22 19:58:59 +0300
  
ActionController::RoutingError (No route matches [GET] "/operations/1/give_out_book"):
  
Started GET "/admin_dashboard/all_books.1" for 127.0.0.1 at 2024-12-22 19:59:04 +0300
Processing by BooksController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 10.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | GC: 0.0ms)
Completed 200 OK in 268ms (Views: 7.9ms | ActiveRecord: 6.9ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 19:59:32 +0300
Processing by OperationsController#new as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 5.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:15:00 +0300
Processing by OperationsController#new as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 359ms (Views: 6.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:15:08 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `create'
Completed 500 Internal Server Error in 461ms (ActiveRecord: 11.6ms (1 query, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `id' for nil):
  
app/controllers/operations_controller.rb:11:in `create'
Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:16:16 +0300
Processing by OperationsController#new as HTML
  Parameters: {"id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 266ms (Views: 5.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:16:20 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `create'
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
Completed 500 Internal Server Error in 263ms (ActiveRecord: 5.2ms (2 queries, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `id' for nil):
  
app/controllers/operations_controller.rb:12:in `create'
Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:20:28 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 276ms (Views: 6.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:20:29 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `create'
Completed 500 Internal Server Error in 286ms (ActiveRecord: 2.1ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActionController::UrlGenerationError (No route matches {:action=>"new", :book_id=>nil, :controller=>"operations"}, missing required keys: [:book_id]):
  
app/controllers/operations_controller.rb:14:in `create'
Started GET "/admin_dashboard/all_books.1" for 127.0.0.1 at 2024-12-22 20:22:16 +0300
Processing by BooksController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 9.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | GC: 0.0ms)
Completed 200 OK in 270ms (Views: 9.2ms | ActiveRecord: 4.9ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books.1" for 127.0.0.1 at 2024-12-22 20:22:16 +0300
Processing by BooksController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 3.5ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:22:18 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 4.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:22:21 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `create'
Completed 500 Internal Server Error in 258ms (ActiveRecord: 1.2ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActionController::UrlGenerationError (No route matches {:action=>"new", :book_id=>nil, :controller=>"operations"}, missing required keys: [:book_id]):
  
app/controllers/operations_controller.rb:14:in `create'
Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:23:57 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 275ms (Views: 5.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:24:02 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `create'
  [1m[36mBook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `create'
  [1m[36mOperation Create (3.5ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 17:24:02.464967', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 279ms (ActiveRecord: 13.1ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:24:02 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 5.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:24:07 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 2.9ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 20:24:29 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 2.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:24:30 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:24:31 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 500 Internal Server Error in 250ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `id' for nil):
  
app/controllers/operations_controller.rb:18:in `create'
Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:24:35 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 3.5ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:24:35 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 2.9ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:25:01 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 5.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:25:02 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 302 Found in 264ms (ActiveRecord: 3.1ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:25:02 +0300
Processing by OperationsController#new as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 4.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:25:03 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 302 Found in 258ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:25:04 +0300
Processing by OperationsController#new as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:25:36 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:24:in `create'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:24:in `create'
  [1m[36mBook Update (0.3ms)[0m  [1m[33mUPDATE "books" SET "count" = 99, "updated_at" = '2024-12-22 17:25:36.757181' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:25:in `create'
  [1m[36mOperation Create (1.5ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 17:25:36.752644', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:25:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 276ms (ActiveRecord: 9.9ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:25:36 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 7.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:25:41 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 20:25:49 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:27:27 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 6.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.2ms)
Completed 200 OK in 294ms (Views: 9.1ms | ActiveRecord: 2.4ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:27:29 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 4.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:27:53 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 263ms (Views: 3.2ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:27:56 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:29:23 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 6.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 8.1ms | ActiveRecord: 2.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:29:26 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 3.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:29:26 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:29:29 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:29:30 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-22 20:29:42 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.9ms | GC: 0.0ms)
Completed 200 OK in 561ms (Views: 26.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-94f39faf.css" for 127.0.0.1 at 2024-12-22 20:29:43 +0300
Started GET "/assets/application.tailwind-a734f247.css" for 127.0.0.1 at 2024-12-22 20:29:43 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-22 20:29:44 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 7.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | GC: 0.0ms)
Completed 200 OK in 265ms (Views: 10.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 20:29:46 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 5.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 20:29:52 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 580ms (ActiveRecord: 12.9ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 20:29:53 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 271ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:29:55 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 7.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | GC: 0.0ms)
Completed 200 OK in 263ms (Views: 7.3ms | ActiveRecord: 2.6ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:29:58 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:29:58 +0300
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 273ms (Views: 5.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-22 20:29:59 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:31:16 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 6.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.2ms | GC: 0.0ms)
Completed 200 OK in 286ms (Views: 19.0ms | ActiveRecord: 2.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-137c7d0a.css" for 127.0.0.1 at 2024-12-22 20:31:16 +0300
Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:31:27 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 2.9ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:28 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 270ms (Views: 4.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:33 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 275ms (ActiveRecord: 3.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:36 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 263ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:40 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 254ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:41 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 252ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:41 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 257ms (ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:41 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 256ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:42 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 267ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:43 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:47 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 250ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:53 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 253ms (ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:54 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 251ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:54 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 253ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:58 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '12345@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 302 Found in 256ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:59 +0300
Processing by OperationsController#new as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:59 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 302 Found in 254ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:31:59 +0300
Processing by OperationsController#new as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:32:06 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 262ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:32:07 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 265ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:32:28 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 264ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:32:40 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 3.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-137c7d0a.css" for 127.0.0.1 at 2024-12-22 20:32:40 +0300
Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:32:41 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:32:48 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 264ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:33:04 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 289ms (Views: 5.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 20:33:08 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:24:in `create'
  [1m[36mBook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:24:in `create'
  [1m[36mBook Update (0.3ms)[0m  [1m[33mUPDATE "books" SET "count" = 0, "updated_at" = '2024-12-22 17:33:09.149583' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:24:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:24:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:25:in `create'
  [1m[36mOperation Create (1.9ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 17:33:09.144055', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:25:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 282ms (ActiveRecord: 13.0ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 20:33:09 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 5.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-22 22:26:27 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  
ArgumentError (Route path not specified):
  
config/routes.rb:30:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-22 22:26:28 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/" for 127.0.0.1 at 2024-12-22 22:26:39 +0300
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | GC: 0.0ms)
Completed 200 OK in 586ms (Views: 14.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-867bc3ae.css" for 127.0.0.1 at 2024-12-22 22:26:39 +0300
Started GET "/assets/application.tailwind-a734f247.css" for 127.0.0.1 at 2024-12-22 22:26:39 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-22 22:26:40 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 8.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | GC: 0.0ms)
Completed 200 OK in 286ms (Views: 12.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-22 22:26:42 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 4.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-22 22:26:50 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 595ms (ActiveRecord: 13.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 22:26:50 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 22:26:58 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 6.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | GC: 0.0ms)
Completed 200 OK in 270ms (Views: 7.1ms | ActiveRecord: 2.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 22:27:28 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 6.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | GC: 0.0ms)
Completed 200 OK in 320ms (Views: 18.0ms | ActiveRecord: 2.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-137c7d0a.css" for 127.0.0.1 at 2024-12-22 22:27:29 +0300
Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 23:23:15 +0300
  
ArgumentError (Invalid route name, already in use: 'admin_dashboard_take_book' 
You may have defined two routes with the same name using the `:as` option, or you may be overriding a route already defined by a resource with the same naming. For the latter, you can restrict the routes created with `resources` as explained here: 
https://guides.rubyonrails.org/routing.html#restricting-the-routes-created):
  
config/routes.rb:33:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-22 23:23:15 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 23:24:01 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (92.1ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 96.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 101.4ms | GC: 0.0ms)
Completed 200 OK in 375ms (Views: 8.1ms | ActiveRecord: 96.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-71f9a0a0.css" for 127.0.0.1 at 2024-12-22 23:24:02 +0300
Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:24:03 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:10:in `show'
Completed 500 Internal Server Error in 264ms (ActiveRecord: 5.7ms (1 query, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `map' for an instance of Operation):
  
app/controllers/operations_controller.rb:11:in `show'
Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:26:47 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (3.8ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book_id" = '1' /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
Completed 500 Internal Server Error in 258ms (ActiveRecord: 4.8ms (1 query, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ОШИБКА:  столбец operations.book_id не существует
LINE 1: ...ELECT "operations"."user" FROM "operations" WHERE "operation...
                                                             ^
HINT:  Возможно, предполагалась ссылка на столбец "operations.book".
)
Caused by: PG::UndefinedColumn (ОШИБКА:  столбец operations.book_id не существует
LINE 1: ...ELECT "operations"."user" FROM "operations" WHERE "operation...
                                                             ^
HINT:  Возможно, предполагалась ссылка на столбец "operations.book".
)

Information for: ActiveRecord::StatementInvalid (PG::UndefinedColumn: ОШИБКА:  столбец operations.book_id не существует
LINE 1: ...ELECT "operations"."user" FROM "operations" WHERE "operation...
                                                             ^
HINT:  Возможно, предполагалась ссылка на столбец "operations.book".
):
  

Information for cause: PG::UndefinedColumn (ОШИБКА:  столбец operations.book_id не существует
LINE 1: ...ELECT "operations"."user" FROM "operations" WHERE "operation...
                                                             ^
HINT:  Возможно, предполагалась ссылка на столбец "operations.book".
):
  
app/controllers/operations_controller.rb:15:in `show'
Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-22 23:26:48 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:27:14 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.1ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  Rendered operations/show.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 500 Internal Server Error in 303ms (ActiveRecord: 4.0ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method `title' for an instance of Book)
Caused by: NoMethodError (undefined method `title' for an instance of Book)

Information for: ActionView::Template::Error (undefined method `title' for an instance of Book):
    1: <div class="container mx-auto p-4">
    2:   <h1 class="text-4xl font-bold mb-4"><%= @book.title %></h1>
    3:   <p class="text-xl text-gray-700 mb-6">Автор: <%= @book.author %></p>
    4: 
    5:   <h2 class="text-2xl font-semibold mb-2">Пользователи, взявшие книгу:</h2>
  
app/views/operations/show.html.erb:2

Information for cause: NoMethodError (undefined method `title' for an instance of Book):
  
app/views/operations/show.html.erb:2
Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-22 23:27:15 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:27:33 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 5.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | GC: 0.0ms)
Completed 500 Internal Server Error in 284ms (ActiveRecord: 5.4ms (3 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method `name' for an instance of User)
Caused by: NoMethodError (undefined method `name' for an instance of User)

Information for: ActionView::Template::Error (undefined method `name' for an instance of User):
    15:       <% @users.each do |user| %>
    16:         <tr>
    17:           <td class="px-6 py-4 whitespace-nowrap">
    18:             <div class="text-sm text-gray-900"><%= user.name %></div>
    19:           </td>
    20:           <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
    21:             <%= button_to 'Принять книгу', admin_dashboard_take_book_path(@book.id, user.id), method: :post, class: 'bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded' %>
  
app/views/operations/show.html.erb:18
app/views/operations/show.html.erb:15

Information for cause: NoMethodError (undefined method `name' for an instance of User):
  
app/views/operations/show.html.erb:18
app/views/operations/show.html.erb:15
Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:27:51 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.1ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 5.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.0ms)
Completed 200 OK in 295ms (Views: 7.8ms | ActiveRecord: 4.8ms (3 queries, 0 cached) | GC: 0.2ms)


Started POST "/admin_dashboard/take_book/1.1" for 127.0.0.1 at 2024-12-22 23:27:57 +0300
  
ActionController::RoutingError (No route matches [POST] "/admin_dashboard/take_book/1.1"):
  
Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:27:57 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 2.6ms | ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/take_book/1.1" for 127.0.0.1 at 2024-12-22 23:29:32 +0300
  
ActionController::RoutingError (No route matches [POST] "/admin_dashboard/take_book/1.1"):
  
Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:29:32 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 2.7ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/take_book/1.1" for 127.0.0.1 at 2024-12-22 23:29:46 +0300
  
ActionController::RoutingError (No route matches [POST] "/admin_dashboard/take_book/1.1"):
  
Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:29:46 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 2.9ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/take_book/1.1" for 127.0.0.1 at 2024-12-22 23:30:44 +0300
  
ActionController::RoutingError (No route matches [POST] "/admin_dashboard/take_book/1.1"):
  
Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:30:44 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.1ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.0ms)
Completed 200 OK in 280ms (Views: 8.1ms | ActiveRecord: 4.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:31:03 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 2.6ms | ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-22 23:31:05 +0300
  
ActionController::RoutingError (No route matches [POST] "/admin_dashboard/take_book/1/1"):
  
Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:31:05 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 2.4ms | ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:31:40 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 4.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.0ms)
Completed 200 OK in 270ms (Views: 7.1ms | ActiveRecord: 4.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-22 23:31:41 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:21:in `index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 2.3ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-22 23:31:46 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:26:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:27:in `update'
Completed 500 Internal Server Error in 264ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `returned=' for an instance of ActiveRecord::Relation):
  
app/controllers/operations_controller.rb:38:in `update'
Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-22 23:32:38 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:21:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 287ms (Views: 4.8ms | ActiveRecord: 4.1ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-22 23:32:40 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:26:in `update'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:27:in `update'
Completed 500 Internal Server Error in 259ms (ActiveRecord: 1.5ms (2 queries, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `returned=' for an instance of ActiveRecord::Relation):
  
app/controllers/operations_controller.rb:38:in `update'
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to AddUniqueIndexToOperations (20241222205220)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_operations_on_book_and_user" ON "operations" ("book", "user") /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241222205220') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-22 23:55:08 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:21:in `index'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 354ms (Views: 5.0ms | ActiveRecord: 6.0ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-22 23:55:10 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:26:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:27:in `update'
Completed 500 Internal Server Error in 252ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `returned=' for an instance of ActiveRecord::Relation):
  
app/controllers/operations_controller.rb:38:in `update'
Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-22 23:56:00 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:21:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 273ms (Views: 5.2ms | ActiveRecord: 9.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-22 23:56:16 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:26:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:27:in `update'
  [1m[36mOperation Load (1.1ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user" = 1 AND "operations"."book" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:39:in `block in update'
  [1m[36mOperation Update (2.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 20:56:16.575389' WHERE "operations"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:39:in `block in update'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:39:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:41:in `update'
  [1m[36mBook Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:41:in `update'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 1, "updated_at" = '2024-12-22 20:56:16.595711' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:41:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:41:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:42:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:42:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/take_book/1
Completed 302 Found in 367ms (ActiveRecord: 18.9ms (6 queries, 0 cached) | GC: 0.3ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:56:16 +0300
Processing by OperationsController#show as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | GC: 0.0ms)
Completed 200 OK in 265ms (Views: 7.4ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:56:16 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 290ms (Views: 3.0ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-b0e38560.css" for 127.0.0.1 at 2024-12-22 23:56:17 +0300
Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-22 23:57:16 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:15:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  Rendered operations/show.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 269ms (Views: 4.4ms | ActiveRecord: 3.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-22 23:57:47 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 5.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-22 23:57:50 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 6.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 7.2ms | ActiveRecord: 2.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 23:57:54 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-22 23:57:59 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 0, "updated_at" = '2024-12-22 20:57:59.626995' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
  [1m[36mOperation Create (4.7ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 20:57:59.619675', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
Completed 500 Internal Server Error in 289ms (ActiveRecord: 12.8ms (5 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
)
Caused by: PG::UniqueViolation (ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
)

Information for: ActiveRecord::RecordNotUnique (PG::UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
):
  

Information for cause: PG::UniqueViolation (ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
):
  
app/controllers/operations_controller.rb:59:in `create'
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to AddUniqueIndexToOperations (20241222210446)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to AddUniqueIndexToOperations (20241222210446)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_operations_on_book_and_user_where_returned_nil" ON "operations" ("book", "user") WHERE returned IS NULL /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241222210446') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to RemoveIndexFromOperations (20241222210935)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_operations_on_book_and_user" /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241222210935') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:11:27 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 5.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:11:35 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 376ms (ActiveRecord: 6.6ms (2 queries, 0 cached) | GC: 0.2ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:12:06 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 297ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.2ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:12:07 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | GC: 0.0ms)
Completed 200 OK in 282ms (Views: 5.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:12:08 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 270ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:12:10 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 259ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:12:10 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 253ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:12:11 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 262ms (ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:12:11 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
No template found for OperationsController#create, rendering head :no_content
Completed 204 No Content in 267ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-23 00:12:38 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | GC: 0.0ms)
Completed 200 OK in 576ms (Views: 23.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-b0e38560.css" for 127.0.0.1 at 2024-12-23 00:12:39 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-23 00:12:52 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 6.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | GC: 0.0ms)
Completed 200 OK in 276ms (Views: 9.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-23 00:12:54 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 269ms (Views: 4.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-23 00:12:54 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | GC: 0.2ms)
Completed 200 OK in 272ms (Views: 10.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started POST "/login" for 127.0.0.1 at 2024-12-23 00:13:02 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 569ms (ActiveRecord: 10.9ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-23 00:13:03 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 266ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:13:06 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 6.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 6.9ms | ActiveRecord: 2.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:13:12 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.9ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  Rendered operations/show.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 3.3ms | ActiveRecord: 1.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:13:25 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 2.9ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-23 00:13:28 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:13:28 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:13:32 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Update (0.3ms)[0m  [1m[33mUPDATE "books" SET "count" = 99, "updated_at" = '2024-12-22 21:13:32.839955' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
  [1m[36mOperation Create (1.7ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:13:32.834149', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 270ms (ActiveRecord: 9.6ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:13:32 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 2.8ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:13:35 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 263ms (Views: 2.7ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-23 00:13:42 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:13:43 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:13:46 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 98, "updated_at" = '2024-12-22 21:13:47.182897' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
  [1m[36mOperation Create (3.0ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:13:47.179229', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
Completed 500 Internal Server Error in 263ms (ActiveRecord: 7.1ms (5 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
)
Caused by: PG::UniqueViolation (ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
)

Information for: ActiveRecord::RecordNotUnique (PG::UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
):
  

Information for cause: PG::UniqueViolation (ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
):
  
app/controllers/operations_controller.rb:59:in `create'
Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:13:49 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 3.2ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:13:49 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 3.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:14:03 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:14:10 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 267ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:15:54 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
  [1m[36mOperation Create (2.0ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:15:55.387674', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
Completed 500 Internal Server Error in 276ms (ActiveRecord: 9.7ms (4 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
)
Caused by: PG::UniqueViolation (ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
)

Information for: ActiveRecord::RecordNotUnique (PG::UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
):
  

Information for cause: PG::UniqueViolation (ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
):
  
app/controllers/operations_controller.rb:59:in `create'
Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:15:56 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 6.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:15:56 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 2.9ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:16:01 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 267ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:16:16 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-23 00:16:32 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 266ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:16:33 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:16:36 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
  [1m[36mOperation Create (1.8ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:16:37.264471', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:59:in `create'
Completed 500 Internal Server Error in 262ms (ActiveRecord: 4.5ms (4 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
)
Caused by: PG::UniqueViolation (ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
)

Information for: ActiveRecord::RecordNotUnique (PG::UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
):
  

Information for cause: PG::UniqueViolation (ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
):
  
app/controllers/operations_controller.rb:59:in `create'
Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:20:25 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 284ms (Views: 5.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:20:29 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:63:in `create'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:63:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:63:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:64:in `create'
  [1m[36mOperation Create (1.9ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:20:29.312896', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:64:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:64:in `create'
Completed 500 Internal Server Error in 276ms (ActiveRecord: 10.1ms (4 queries, 0 cached) | GC: 0.2ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
)
Caused by: PG::UniqueViolation (ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
)

Information for: ActiveRecord::RecordNotUnique (PG::UniqueViolation: ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
):
  

Information for cause: PG::UniqueViolation (ОШИБКА:  повторяющееся значение ключа нарушает ограничение уникальности "index_operations_on_book_and_user_where_returned_nil"
DETAIL:  Ключ "(book, "user")=(1, 1)" уже существует.
):
  
app/controllers/operations_controller.rb:64:in `create'
Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:21:35 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 265ms (Views: 5.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:21:37 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:63:in `create'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:63:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:63:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:65:in `create'
  [1m[36mOperation Create (1.9ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:21:37.752884', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:65:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:65:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 302 Found in 278ms (ActiveRecord: 9.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:21:37 +0300
Processing by OperationsController#new as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:21:52 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (1.8ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:21:52.976897', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 302 Found in 276ms (ActiveRecord: 9.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:21:53 +0300
Processing by OperationsController#new as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 5.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:22:30 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (1.8ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:22:30.920222', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 302 Found in 275ms (ActiveRecord: 9.7ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:22:30 +0300
Processing by OperationsController#new as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 5.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:22:54 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 3.1ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.2ms)
Completed 200 OK in 263ms (Views: 5.8ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:22:56 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 3.2ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:22:58 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 1.7ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:22:59 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `update'
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user" = 1 AND "operations"."book" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:22:59.634921' WHERE "operations"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:22:59.640775' WHERE "operations"."id" = 5 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Exists? (4.2ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 99, "updated_at" = '2024-12-22 21:22:59.652041' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/take_book/1
Completed 302 Found in 278ms (ActiveRecord: 13.1ms (7 queries, 0 cached) | GC: 0.2ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:22:59 +0300
Processing by OperationsController#show as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  Rendered operations/show.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 1.2ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:23:01 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 250ms (Views: 1.7ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/" for 127.0.0.1 at 2024-12-23 00:23:21 +0300
  
ActionController::RoutingError (No route matches [GET] "/admin_dashboard/take_book"):
  
Started GET "/admin_dashboard/" for 127.0.0.1 at 2024-12-23 00:23:24 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 4.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:23:26 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 3.9ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:23:27 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 3.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:23:28 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  Rendered operations/show.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 2.9ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:23:32 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:23:48 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (1.6ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:23:48.736942', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 273ms (ActiveRecord: 5.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:23:48 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 273ms (Views: 3.3ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:23:58 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:23:59 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 2.8ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:24:00 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 1.4ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:24:01 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `update'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `update'
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user" = 1 AND "operations"."book" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:24:01.933339' WHERE "operations"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:24:01.939173' WHERE "operations"."id" = 5 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:24:01.943214' WHERE "operations"."id" = 13 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "count" = 100, "updated_at" = '2024-12-22 21:24:01.950745' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/take_book/1
Completed 302 Found in 275ms (ActiveRecord: 9.7ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:24:01 +0300
Processing by OperationsController#show as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  Rendered operations/show.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 1.2ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:25:13 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  Rendered operations/show.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 267ms (Views: 4.8ms | ActiveRecord: 3.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:25:15 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 1.8ms | ActiveRecord: 1.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:25:17 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 5.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:25:23 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:25:28 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (1.5ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:25:28.435086', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 263ms (ActiveRecord: 5.5ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:25:28 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 3.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:25:34 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:25:42 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 269ms (Views: 3.1ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:25:44 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 1.4ms | ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:25:45 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/admin_dashboard/take_book/1"):
  
Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:25:45 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 1.5ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:25:47 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/admin_dashboard/take_book/1"):
  
Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:25:47 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 1.4ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:25:48 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/admin_dashboard/take_book/1"):
  
Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:25:48 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 250ms (Views: 1.4ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:25:48 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/admin_dashboard/take_book/1"):
  
Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:25:49 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 1.5ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:26:34 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 265ms (Views: 2.5ms | ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:26:35 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 3.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:26:57 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 268ms (Views: 5.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:27:00 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (2.3ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:27:00.699418', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 302 Found in 278ms (ActiveRecord: 10.5ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:27:00 +0300
Processing by OperationsController#new as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:27:03 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 5.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:27:05 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 4.0ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:27:06 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 1.7ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:27:07 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/admin_dashboard/all_books"):
  
Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:27:07 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
Started PATCH "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:27:07 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/admin_dashboard/all_books"):
  
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 297ms (Views: 2.1ms | ActiveRecord: 1.8ms (2 queries, 0 cached) | GC: 0.2ms)


Started PATCH "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:27:09 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/admin_dashboard/all_books"):
  
Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:27:09 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 1.4ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:27:24 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/admin_dashboard/all_books"):
  
Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:27:25 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 1.8ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:28:22 +0300
  
ActionController::RoutingError (No route matches [PATCH] "/admin_dashboard/all_books"):
  
Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:28:22 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 269ms (Views: 4.9ms | ActiveRecord: 3.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:28:45 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `update'
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user" = 1 AND "operations"."book" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:28:45.609581' WHERE "operations"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:28:45.615590' WHERE "operations"."id" = 5 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.5ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:28:45.619697' WHERE "operations"."id" = 13 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:28:45.624103' WHERE "operations"."id" = 14 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "count" = 101, "updated_at" = '2024-12-22 21:28:45.632248' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 287ms (ActiveRecord: 16.3ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:28:45 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 5.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:28:50 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:28:55 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (1.5ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:28:55.545806', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 268ms (ActiveRecord: 6.2ms (4 queries, 0 cached) | GC: 0.2ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:28:55 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 2.9ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-23 00:29:25 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 294ms (Views: 6.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:29:25 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 4.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.0ms)
Completed 200 OK in 303ms (Views: 6.3ms | ActiveRecord: 5.0ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:29:27 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 1.8ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:29:27 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `update'
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user" = 1 AND "operations"."book" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:29:28.221368' WHERE "operations"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:29:28.225779' WHERE "operations"."id" = 5 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.8ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:29:28.230442' WHERE "operations"."id" = 13 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:29:28.238570' WHERE "operations"."id" = 14 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:29:28.242661' WHERE "operations"."id" = 16 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "count" = 102, "updated_at" = '2024-12-22 21:29:28.251054' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 294ms (ActiveRecord: 17.3ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:29:28 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 266ms (Views: 3.6ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:29:29 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:29:30 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:29:34 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mBook Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:58:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (1.6ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:29:34.427469', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 272ms (ActiveRecord: 5.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:29:34 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 3.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:30:14 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 6.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | GC: 0.0ms)
Completed 200 OK in 318ms (Views: 10.3ms | ActiveRecord: 4.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:30:16 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 1.8ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:30:18 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `update'
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user" = 1 AND "operations"."book" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:18.651034' WHERE "operations"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:18.656961' WHERE "operations"."id" = 5 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:18.661352' WHERE "operations"."id" = 13 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:18.665463' WHERE "operations"."id" = 14 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (2.3ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:18.669454' WHERE "operations"."id" = 16 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:18.674154' WHERE "operations"."id" = 17 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "count" = 103, "updated_at" = '2024-12-22 21:30:18.688861' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 301ms (ActiveRecord: 26.3ms (11 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:30:18 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 5.3ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-23 00:30:19 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 5.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:30:21 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:30:24 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (1.6ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:30:24.706144', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "count" = 102, "updated_at" = '2024-12-22 21:30:24.715227' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 265ms (ActiveRecord: 5.9ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:30:24 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 3.2ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:30:27 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 2.9ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:30:28 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 1.5ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:30:29 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `update'
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user" = 1 AND "operations"."book" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:29.701403' WHERE "operations"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:29.707229' WHERE "operations"."id" = 5 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (4.1ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:29.711384' WHERE "operations"."id" = 13 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (4.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:29.718079' WHERE "operations"."id" = 14 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:29.727251' WHERE "operations"."id" = 16 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:29.731230' WHERE "operations"."id" = 17 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.9ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:30:29.735225' WHERE "operations"."id" = 18 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "count" = 103, "updated_at" = '2024-12-22 21:30:29.743010' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 298ms (ActiveRecord: 22.8ms (12 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:30:29 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 3.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:30:30 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:30:33 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (1.7ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:30:33.304718', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 102, "updated_at" = '2024-12-22 21:30:33.314125' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 268ms (ActiveRecord: 6.1ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:30:33 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 3.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:30:44 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 2.5ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-b0e38560.css" for 127.0.0.1 at 2024-12-23 00:30:48 +0300
Started GET "/admin_dashboard/" for 127.0.0.1 at 2024-12-23 00:30:51 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 3.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-23 00:30:54 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 248ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-23 00:30:56 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:30:57 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 3.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-23 00:31:00 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:31:44 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:19
  Rendered books/index.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 4.3ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:32:17 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:20
  Rendered books/index.html.erb within layouts/application (Duration: 6.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 8.0ms | ActiveRecord: 2.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:33:03 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 6.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | GC: 0.0ms)
Completed 200 OK in 273ms (Views: 8.4ms | ActiveRecord: 2.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-23 00:33:05 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 3.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:33:06 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 3.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-23 00:33:07 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 4.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-23 00:33:08 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 3.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-23 00:33:09 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:33:10 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 2.9ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:33:11 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:33:16 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-23 00:33:19 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 266ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:33:20 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 3.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.0ms)
Completed 200 OK in 263ms (Views: 3.9ms | ActiveRecord: 2.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:33:23 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 2.4ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:33:24 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 4.3ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 00:33:25 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `update'
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user" = 1 AND "operations"."book" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (3.0ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:33:25.908164' WHERE "operations"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (4.3ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:33:25.924223' WHERE "operations"."id" = 5 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:33:25.937127' WHERE "operations"."id" = 13 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.8ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:33:25.945836' WHERE "operations"."id" = 14 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.8ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:33:25.951001' WHERE "operations"."id" = 16 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.8ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:33:25.955926' WHERE "operations"."id" = 17 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.9ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:33:25.960663' WHERE "operations"."id" = 18 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.8ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 21:33:25.966416' WHERE "operations"."id" = 19 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 103, "updated_at" = '2024-12-22 21:33:25.976027' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 343ms (ActiveRecord: 32.6ms (13 queries, 0 cached) | GC: 0.3ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:33:26 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 3.3ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 00:33:27 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  Rendered operations/show.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 1.2ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:33:29 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 00:33:35 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (1.6ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 21:33:35.431518', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 102, "updated_at" = '2024-12-22 21:33:35.439399' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 266ms (ActiveRecord: 4.6ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 00:33:35 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 3.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-23 00:33:37 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-23 01:01:22 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | GC: 0.0ms)
Completed 200 OK in 581ms (Views: 22.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-b0e38560.css" for 127.0.0.1 at 2024-12-23 01:01:23 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-23 01:01:24 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 6.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | GC: 0.0ms)
Completed 200 OK in 272ms (Views: 9.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-23 01:01:25 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-23 01:01:34 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 563ms (ActiveRecord: 14.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-23 01:01:35 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 265ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 01:01:36 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 7.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | GC: 0.0ms)
Completed 200 OK in 279ms (Views: 8.6ms | ActiveRecord: 2.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-23 01:01:36 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 01:01:37 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 289ms (Views: 5.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 01:01:41 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (3.9ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 22:01:41.460224', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 302 Found in 298ms (ActiveRecord: 6.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 01:01:41 +0300
Processing by OperationsController#new as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 01:01:46 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 269ms (Views: 4.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 01:01:47 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.9ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 276ms (Views: 3.0ms | ActiveRecord: 1.4ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 01:01:52 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 289ms (Views: 1.8ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-23 01:01:54 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `update'
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user" = 1 AND "operations"."book" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (2.1ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 22:01:54.419860' WHERE "operations"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 22:01:54.426874' WHERE "operations"."id" = 5 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 22:01:54.431170' WHERE "operations"."id" = 13 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 22:01:54.435427' WHERE "operations"."id" = 14 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (2.1ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 22:01:54.442331' WHERE "operations"."id" = 16 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.8ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 22:01:54.449598' WHERE "operations"."id" = 17 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.9ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 22:01:54.454044' WHERE "operations"."id" = 18 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 22:01:54.458458' WHERE "operations"."id" = 19 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.8ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-22 22:01:54.468868' WHERE "operations"."id" = 20 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 103, "updated_at" = '2024-12-22 22:01:54.478672' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 330ms (ActiveRecord: 27.4ms (14 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 01:01:54 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 266ms (Views: 3.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 01:01:56 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 01:01:59 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (1.7ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 1, '2024-12-22 22:01:59.756275', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "count" = 102, "updated_at" = '2024-12-22 22:01:59.764086' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 268ms (ActiveRecord: 4.6ms (5 queries, 0 cached) | GC: 0.2ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 01:01:59 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 3.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-23 01:02:01 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-23 01:02:03 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-23 01:02:03 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 2.6ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-23 01:03:34 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 2.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-23 01:03:59 +0300
Processing by BooksController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Буратино", "author"=>"Алексей Толстой", "count"=>"10"}, "commit"=>"Добавить книгу"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mBook Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Буратино' LIMIT 1 /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("name", "author", "count", "created_at", "updated_at") VALUES ('Буратино', 'Алексей Толстой', 10, '2024-12-22 22:03:59.597341', '2024-12-22 22:03:59.597341') RETURNING "id" /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:13:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:13:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 274ms (ActiveRecord: 4.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-23 01:03:59 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 01:04:01 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 3.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/2" for 127.0.0.1 at 2024-12-23 01:04:05 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"2"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/2" for 127.0.0.1 at 2024-12-23 01:04:07 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 2 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (2.8ms)[0m  [1m[32mINSERT INTO "operations" ("user", "book", "took", "returned") VALUES (1, 2, '2024-12-22 22:04:08.158092', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Буратино' AND "books"."id" != 2 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "count" = 9, "updated_at" = '2024-12-22 22:04:08.168603' WHERE "books"."id" = 2 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 262ms (ActiveRecord: 7.2ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 01:04:08 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 3.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/2" for 127.0.0.1 at 2024-12-23 01:04:10 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"2"}
  [1m[36mOperation Pluck (0.9ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 2 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 2 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 2.5ms | ActiveRecord: 1.3ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-23 01:04:14 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 275ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-23 01:05:51 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Выйти"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 266ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-23 01:05:51 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | GC: 0.0ms)
Completed 200 OK in 274ms (Views: 15.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-23 01:05:52 +0300
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-dff34d29.css" for 127.0.0.1 at 2024-12-23 01:05:52 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-23 01:05:54 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-23 01:05:57 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-23 01:06:08 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 448ms (ActiveRecord: 2.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 01:06:09 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 500 Internal Server Error in 261ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `borrowed_books_path' for an instance of #<Class:0x000001d601322278>)
Caused by: NameError (undefined local variable or method `borrowed_books_path' for an instance of #<Class:0x000001d601322278>)

Information for: ActionView::Template::Error (undefined local variable or method `borrowed_books_path' for an instance of #<Class:0x000001d601322278>):
    22:   <h1 class="text-2xl font-bold mb-6">Управление книгами</h1>
    23: 
    24:   <div class="space-y-4">
    25:     <%= button_to 'Взятые книги', borrowed_books_path, class: 'px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600' %>
    26:     <%= button_to 'Каталог книг', books_catalog_path, class: 'px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600' %>
    27:     <%= button_to 'История', history_path, class: 'px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600' %>
    28:     <%= button_to 'Выход из аккаунта', logout_path, method: :delete, class: 'px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600' %>
  
app/views/user_dashboard/index.html.erb:25

Information for cause: NameError (undefined local variable or method `borrowed_books_path' for an instance of #<Class:0x000001d601322278>):
  
app/views/user_dashboard/index.html.erb:25
Started GET "/login" for 127.0.0.1 at 2024-12-23 01:06:31 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 273ms (Views: 5.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-23 01:06:33 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 4.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-23 01:06:41 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
Started GET "/register" for 127.0.0.1 at 2024-12-23 01:06:42 +0300
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 506ms (ActiveRecord: 3.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 01:06:42 +0300
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 310ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 271ms (Views: 3.7ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 01:07:03 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 284ms (Views: 5.1ms | ActiveRecord: 2.2ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-23 01:10:28 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 260ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-23 01:10:28 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | GC: 0.0ms)
Completed 200 OK in 270ms (Views: 15.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-23 01:10:29 +0300
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-f95010ab.css" for 127.0.0.1 at 2024-12-23 01:10:29 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-23 01:10:30 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 4.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-23 01:10:31 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-23 03:48:52 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 17.9ms | GC: 0.0ms)
Completed 200 OK in 569ms (Views: 25.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-07c96737.css" for 127.0.0.1 at 2024-12-23 03:48:53 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-23 03:48:53 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 9.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | GC: 0.0ms)
Completed 200 OK in 263ms (Views: 11.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-23 03:48:54 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-23 03:49:04 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 594ms (ActiveRecord: 13.0ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 03:49:04 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 4.3ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-23 03:49:10 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-23 03:51:24 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 467ms (ActiveRecord: 2.7ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 03:51:25 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | GC: 0.0ms)
Completed 200 OK in 282ms (Views: 15.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-23 03:51:26 +0300
  
ActionController::RoutingError (No route matches [POST] "/user_dashboard/borrowed_books"):
  
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 03:51:26 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 1.4ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 03:52:26 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 1.4ms | ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-23 03:52:27 +0300
  
ActionController::RoutingError (No route matches [POST] "/user_dashboard/borrowed_books"):
  
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 03:52:27 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 249ms (Views: 1.3ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-23 03:52:29 +0300
  
ActionController::RoutingError (No route matches [POST] "/user_dashboard/borrowed_books"):
  
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 03:52:29 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 250ms (Views: 1.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 03:53:38 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 4.4ms | ActiveRecord: 2.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-23 03:53:39 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (1.1ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (2, 1) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:13
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 500 Internal Server Error in 258ms (ActiveRecord: 2.7ms (3 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method `name' for an instance of User)
Caused by: NoMethodError (undefined method `name' for an instance of User)

Information for: ActionView::Template::Error (undefined method `name' for an instance of User):
    12:       <tbody>
    13:       <% @borrowed_books.each do |book| %>
    14:         <tr class="hover:bg-gray-100">
    15:           <td class="py-2 px-4 border-b"><%= book.name %></td>
    16:           <td class="py-2 px-4 border-b"><%= book.took.strftime("%d-%m-%Y") %></td>
    17:         </tr>
    18:       <% end %>
  
app/views/user_dashboard/show.html.erb:15
app/views/user_dashboard/show.html.erb:13

Information for cause: NoMethodError (undefined method `name' for an instance of User):
  
app/views/user_dashboard/show.html.erb:15
app/views/user_dashboard/show.html.erb:13
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 03:55:09 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 1.5ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-23 03:55:10 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (2, 1) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:13
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 500 Internal Server Error in 257ms (ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method `name' for an instance of User)
Caused by: NoMethodError (undefined method `name' for an instance of User)

Information for: ActionView::Template::Error (undefined method `name' for an instance of User):
    12:       <tbody>
    13:       <% @borrowed_books.each do |book| %>
    14:         <tr class="hover:bg-gray-100">
    15:           <td class="py-2 px-4 border-b"><%= book.name %></td>
    16:           <td class="py-2 px-4 border-b"><%= book.took.strftime("%d-%m-%Y") %></td>
    17:         </tr>
    18:       <% end %>
  
app/views/user_dashboard/show.html.erb:15
app/views/user_dashboard/show.html.erb:13

Information for cause: NoMethodError (undefined method `name' for an instance of User):
  
app/views/user_dashboard/show.html.erb:15
app/views/user_dashboard/show.html.erb:13
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-23 03:57:59 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | GC: 0.0ms)
Completed 200 OK in 689ms (Views: 23.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-23 03:58:00 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 6.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | GC: 0.0ms)
Completed 200 OK in 295ms (Views: 9.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-23 03:58:02 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 281ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-23 03:58:08 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '1234@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 583ms (ActiveRecord: 12.8ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 03:58:08 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 268ms (Views: 3.4ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-23 03:58:13 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.9ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (2, 1) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:13
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 3.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.0ms)
Completed 500 Internal Server Error in 262ms (ActiveRecord: 2.3ms (3 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method `name' for an instance of User)
Caused by: NoMethodError (undefined method `name' for an instance of User)

Information for: ActionView::Template::Error (undefined method `name' for an instance of User):
    12:       <tbody>
    13:       <% @borrowed_books.each do |book| %>
    14:         <tr class="hover:bg-gray-100">
    15:           <td class="py-2 px-4 border-b"><%= book.name %></td>
    16:           <td class="py-2 px-4 border-b"><%= book.took.strftime("%d-%m-%Y") %></td>
    17:         </tr>
    18:       <% end %>
  
app/views/user_dashboard/show.html.erb:15
app/views/user_dashboard/show.html.erb:13

Information for cause: NoMethodError (undefined method `name' for an instance of User):
  
app/views/user_dashboard/show.html.erb:15
app/views/user_dashboard/show.html.erb:13
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 03:58:33 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 292ms (Views: 4.8ms | ActiveRecord: 2.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-23 03:58:34 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.1ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (2, 1) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:13
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 5.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.0ms)
Completed 500 Internal Server Error in 264ms (ActiveRecord: 3.7ms (3 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method `took' for an instance of Book)
Caused by: NoMethodError (undefined method `took' for an instance of Book)

Information for: ActionView::Template::Error (undefined method `took' for an instance of Book):
    13:       <% @borrowed_books.each do |book| %>
    14:         <tr class="hover:bg-gray-100">
    15:           <td class="py-2 px-4 border-b"><%= book.name %></td>
    16:           <td class="py-2 px-4 border-b"><%= book.took.strftime("%d-%m-%Y") %></td>
    17:         </tr>
    18:       <% end %>
    19:       </tbody>
  
app/views/user_dashboard/show.html.erb:16
app/views/user_dashboard/show.html.erb:13

Information for cause: NoMethodError (undefined method `took' for an instance of Book):
  
app/views/user_dashboard/show.html.erb:16
app/views/user_dashboard/show.html.erb:13
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:02:25 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 324ms (Views: 5.0ms | ActiveRecord: 2.8ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-23 04:02:27 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
Completed 500 Internal Server Error in 268ms (ActiveRecord: 2.1ms (2 queries, 0 cached) | GC: 0.0ms)


  
NameError (undefined local variable or method `book' for an instance of UserDashboardController):
  
app/controllers/user_dashboard_controller.rb:11:in `show'
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:03:20 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 272ms (Views: 6.3ms | ActiveRecord: 2.3ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-23 04:03:22 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.1ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (2, 1) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:13
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:16
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 2 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:16
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 9.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | GC: 0.0ms)
Completed 200 OK in 267ms (Views: 8.1ms | ActiveRecord: 3.9ms (5 queries, 0 cached) | GC: 0.2ms)


Started POST "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:03:32 +0300
  
ActionController::RoutingError (No route matches [POST] "/user_dashboard"):
  
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-23 04:03:32 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (2, 1) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:13
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:16
  [1m[36mOperation Load (0.1ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 2 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:16
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 4.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 5.5ms | ActiveRecord: 1.0ms (5 queries, 0 cached) | GC: 0.0ms)


Started POST "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:03:33 +0300
  
ActionController::RoutingError (No route matches [POST] "/user_dashboard"):
  
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-23 04:03:33 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (2, 1) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:13
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:16
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 2 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:16
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 5.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 5.8ms | ActiveRecord: 1.2ms (5 queries, 0 cached) | GC: 0.0ms)


Started POST "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:04:44 +0300
  
ActionController::RoutingError (No route matches [POST] "/user_dashboard"):
  
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-23 04:04:44 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.1ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (2, 1) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:13
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:16
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 2 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:16
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 8.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | GC: 0.0ms)
Completed 200 OK in 274ms (Views: 10.0ms | ActiveRecord: 5.5ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-23 04:04:46 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (2, 1) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:13
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:16
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 2 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:16
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 5.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 5.6ms | ActiveRecord: 1.1ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:04:47 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 1.6ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-23 04:04:48 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (2, 1) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:13
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:16
  [1m[36mOperation Load (0.1ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 2 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:16
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 4.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 4.4ms | ActiveRecord: 1.0ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:04:49 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 250ms (Views: 1.2ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-23 04:04:50 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (2, 1) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:13
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:16
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 2 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:16
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 4.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 4.7ms | ActiveRecord: 1.0ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:04:51 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 1.2ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-23 04:04:52 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (2, 1) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:13
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:16
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 2 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:16
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 4.7ms | ActiveRecord: 1.0ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:04:53 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 1.4ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-23 04:06:09 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (2, 1) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:13
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:16
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 2 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:16
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 4.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.0ms)
Completed 200 OK in 279ms (Views: 4.9ms | ActiveRecord: 1.2ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-23 04:06:48 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.1ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (2, 1) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:18
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 2 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:18
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 8.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | GC: 0.0ms)
Completed 200 OK in 275ms (Views: 10.1ms | ActiveRecord: 6.0ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:13:00 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 382ms (Views: 5.5ms | ActiveRecord: 5.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:13:02 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 1.2ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:13:04 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 1.2ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-23 04:13:21 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 4.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 6.5ms | ActiveRecord: 1.0ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-07c96737.css" for 127.0.0.1 at 2024-12-23 04:13:21 +0300
Started GET "/assets/application.tailwind-a734f247.css" for 127.0.0.1 at 2024-12-23 04:13:21 +0300
Started GET "/assets/application-0405dba2.js" for 127.0.0.1 at 2024-12-23 04:13:21 +0300
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:14:06 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 287ms (Views: 4.7ms | ActiveRecord: 7.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:14:07 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 263ms (Views: 1.3ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:14:10 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 250ms (Views: 1.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:14:11 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 1.3ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:14:15 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 1.4ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:14:30 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 270ms (Views: 5.0ms | ActiveRecord: 2.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:14:32 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 1.3ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-23 04:14:33 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 500 Internal Server Error in 254ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method `each' for nil)
Caused by: NoMethodError (undefined method `each' for nil)

Information for: ActionView::Template::Error (undefined method `each' for nil):
    14:     </tr>
    15:     </thead>
    16:     <tbody>
    17:     <% @books.each do |book| %>
    18:       <tr class="border-b hover:bg-gray-100">
    19:         <td class="py-2 px-4"><%= book.name %></td>
    20:         <td class="py-2 px-4"><%= book.author %></td>
  
app/views/user_dashboard/all_books.html.erb:17

Information for cause: NoMethodError (undefined method `each' for nil):
  
app/views/user_dashboard/all_books.html.erb:17
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:18:30 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 278ms (Views: 4.9ms | ActiveRecord: 2.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-23 04:18:31 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:17
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 6.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | GC: 0.0ms)
Completed 200 OK in 281ms (Views: 5.1ms | ActiveRecord: 2.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-23 04:18:44 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:17
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 2.3ms | ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-23 04:18:50 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:17
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 2.5ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-23 04:18:53 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:17
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 2.4ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-23 04:18:54 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:17
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 2.4ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-23 04:18:58 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:17
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 2.7ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:26:59 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 379ms (Views: 5.6ms | ActiveRecord: 5.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:27:41 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 268ms (Views: 4.7ms | ActiveRecord: 7.8ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:27:42 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (6.4ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" = TRUE /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
Completed 500 Internal Server Error in 261ms (ActiveRecord: 7.5ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)
Caused by: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)

Information for: ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  

Information for cause: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  
app/controllers/user_dashboard_controller.rb:19:in `history'
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-23 04:31:59 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | GC: 0.0ms)
Completed 200 OK in 558ms (Views: 22.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-07c96737.css" for 127.0.0.1 at 2024-12-23 04:31:59 +0300
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:32:02 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 401ms (Views: 3.8ms | ActiveRecord: 13.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:32:04 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (1.6ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" = TRUE /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
Completed 500 Internal Server Error in 274ms (ActiveRecord: 2.7ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)
Caused by: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)

Information for: ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  

Information for cause: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  
app/controllers/user_dashboard_controller.rb:19:in `history'
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:32:36 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | GC: 0.2ms)
Completed 200 OK in 689ms (Views: 23.8ms | ActiveRecord: 10.9ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:32:39 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (1.7ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" = TRUE /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
Completed 500 Internal Server Error in 259ms (ActiveRecord: 2.7ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)
Caused by: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)

Information for: ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  

Information for cause: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  
app/controllers/user_dashboard_controller.rb:19:in `history'
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:34:22 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 265ms (Views: 4.8ms | ActiveRecord: 2.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:34:23 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" = TRUE /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
Completed 500 Internal Server Error in 256ms (ActiveRecord: 1.4ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)
Caused by: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)

Information for: ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  

Information for cause: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  
app/controllers/user_dashboard_controller.rb:19:in `history'
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:35:28 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 268ms (Views: 2.4ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:35:30 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" = TRUE /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
Completed 500 Internal Server Error in 251ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)
Caused by: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)

Information for: ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  

Information for cause: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  
app/controllers/user_dashboard_controller.rb:19:in `history'
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:35:31 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 1.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:36:05 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" = TRUE /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
Completed 500 Internal Server Error in 262ms (ActiveRecord: 3.4ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)
Caused by: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)

Information for: ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  

Information for cause: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  
app/controllers/user_dashboard_controller.rb:19:in `history'
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:36:12 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 274ms (Views: 4.8ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:36:13 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" = TRUE /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
Completed 500 Internal Server Error in 264ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)
Caused by: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)

Information for: ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  

Information for cause: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  
app/controllers/user_dashboard_controller.rb:19:in `history'
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:36:17 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 273ms (Views: 3.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:36:18 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (1.9ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" = TRUE /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
Completed 500 Internal Server Error in 270ms (ActiveRecord: 2.2ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)
Caused by: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)

Information for: ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  

Information for cause: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  
app/controllers/user_dashboard_controller.rb:19:in `history'
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:36:53 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 5.3ms | ActiveRecord: 2.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:36:55 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.5ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" = TRUE /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
Completed 500 Internal Server Error in 260ms (ActiveRecord: 1.5ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)
Caused by: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)

Information for: ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  

Information for cause: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  
app/controllers/user_dashboard_controller.rb:19:in `history'
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-23 04:37:06 +0300
Processing by UserDashboardController#show as HTML
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-23 04:37:06 +0300
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-23 04:37:06 +0300
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.9ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (2, 1) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:18
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 2 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:18
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 10.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | GC: 0.0ms)
Completed 200 OK in 278ms (Views: 12.0ms | ActiveRecord: 7.2ms (5 queries, 0 cached) | GC: 0.0ms)


Processing by UserDashboardController#show as HTML
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.1ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (2, 1) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:18
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 2 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:18
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 9.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | GC: 0.0ms)
Completed 200 OK in 473ms (Views: 13.5ms | ActiveRecord: 10.7ms (5 queries, 0 cached) | GC: 0.2ms)


  [1m[36mUser Load (78.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (1.0ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (2, 1) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:18
  [1m[36mOperation Load (0.1ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 2 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:18
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 6.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | GC: 0.0ms)
Completed 200 OK in 535ms (Views: 7.4ms | ActiveRecord: 85.4ms (5 queries, 0 cached) | GC: 0.2ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:37:10 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 1.9ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:37:11 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (1.6ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" = TRUE /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
Completed 500 Internal Server Error in 256ms (ActiveRecord: 2.0ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)
Caused by: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)

Information for: ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  

Information for cause: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  
app/controllers/user_dashboard_controller.rb:19:in `history'
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:38:06 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.2ms)
Completed 200 OK in 270ms (Views: 5.0ms | ActiveRecord: 5.5ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:38:08 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" = TRUE /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
Completed 500 Internal Server Error in 254ms (ActiveRecord: 1.5ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)
Caused by: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)

Information for: ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  

Information for cause: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  
app/controllers/user_dashboard_controller.rb:19:in `history'
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:39:13 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 301ms (Views: 4.8ms | ActiveRecord: 2.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:39:14 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 1.4ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:39:16 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 1.0ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:39:22 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 286ms (Views: 4.3ms | ActiveRecord: 2.8ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:39:23 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 1.2ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:39:25 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 1.1ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:39:26 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 248ms (Views: 1.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:39:27 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 2.1ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:39:28 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 1.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:39:39 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.5ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" = TRUE /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
Completed 500 Internal Server Error in 304ms (ActiveRecord: 3.4ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)
Caused by: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
)

Information for: ActiveRecord::StatementInvalid (PG::UndefinedFunction: ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  

Information for cause: PG::UndefinedFunction (ОШИБКА:  оператор не существует: timestamp without time zone = boolean
LINE 1: ...perations"."user" = 1 AND "operations"."returned" = TRUE /*a...
                                                             ^
HINT:  Оператор с данными именем и типами аргументов не найден. Возможно, вам следует добавить явные приведения типов.
):
  
app/controllers/user_dashboard_controller.rb:19:in `history'
Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-23 04:39:39 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:41:52 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.1ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 266ms (Views: 4.8ms | ActiveRecord: 3.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:43:21 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.1ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 4.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.0ms)
Completed 200 OK in 284ms (Views: 6.9ms | ActiveRecord: 4.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:43:26 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 1.8ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:43:27 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 267ms (Views: 2.3ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:43:59 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 4.7ms | ActiveRecord: 2.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:44:00 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.1ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 7.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | GC: 0.0ms)
Completed 200 OK in 268ms (Views: 6.2ms | ActiveRecord: 3.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:44:03 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.1ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 3.5ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:45:54 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 4.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 0.0ms)
Completed 200 OK in 357ms (Views: 6.3ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:45:57 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 3.5ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:45:59 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 1.4ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:46:00 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 3.6ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:46:41 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 7.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | GC: 0.0ms)
Completed 200 OK in 275ms (Views: 9.6ms | ActiveRecord: 5.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:46:42 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 3.4ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:46:43 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 3.3ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:46:44 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 3.3ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:46:44 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 3.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 4.3ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:46:45 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 2.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:46:46 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 4.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 5.0ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:47:41 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.1ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 7.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | GC: 0.0ms)
Completed 200 OK in 281ms (Views: 9.7ms | ActiveRecord: 5.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:47:42 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 3.6ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:47:43 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 4.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 4.7ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:47:44 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.1ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 3.3ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:47:44 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 3.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 4.1ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:47:45 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 3.4ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:47:45 +0300
Processing by UserDashboardController#history as HTML
Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:47:46 +0300
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 3.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 3.8ms | ActiveRecord: 1.4ms (4 queries, 0 cached) | GC: 0.0ms)


Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 3.6ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:47:55 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 266ms (Views: 3.4ms | ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:47:55 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 2.0ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:47:57 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  [1m[36mOperation Load (0.1ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 3.5ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:48:40 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 1, 1, 1, 1, 1, 1, 1, 1) /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 3.3ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:52:42 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.1ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:15
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 29.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 31.1ms | GC: 0.0ms)
Completed 200 OK in 301ms (Views: 31.0ms | ActiveRecord: 7.1ms (21 queries, 17 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-23 04:53:06 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.1ms)[0m  [1m[34mSELECT "operations"."book" FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:15
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 23.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 24.8ms | GC: 0.0ms)
Completed 200 OK in 308ms (Views: 26.4ms | ActiveRecord: 5.9ms (21 queries, 17 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-23 04:53:08 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 1.8ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-23 04:53:10 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 250ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-23 04:53:10 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 5.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-23 04:53:11 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 8.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | GC: 0.0ms)
Completed 200 OK in 265ms (Views: 11.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-25 02:33:00 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 77.6ms | GC: 0.0ms)
Completed 200 OK in 940ms (Views: 135.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-07c96737.css" for 127.0.0.1 at 2024-12-25 02:33:02 +0300
Started GET "/assets/application.tailwind-a734f247.css" for 127.0.0.1 at 2024-12-25 02:33:02 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-25 02:33:03 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 48.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 49.2ms | GC: 0.0ms)
Completed 200 OK in 330ms (Views: 51.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-25 02:33:05 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 277ms (Views: 4.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-25 02:33:11 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '123@mail.ru' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 671ms (ActiveRecord: 13.8ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 02:33:11 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 268ms (Views: 4.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 02:33:13 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 294ms (Views: 4.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 02:33:14 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 279ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 02:33:21 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (3.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 9.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | GC: 0.0ms)
Completed 200 OK in 290ms (Views: 5.6ms | ActiveRecord: 4.9ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 02:33:27 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 02:33:27 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 268ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 02:33:28 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 263ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 02:33:28 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 02:33:40 +0300
Processing by BooksController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Война и мир", "author"=>"Лев Толстой", "count"=>"100"}, "commit"=>"Добавить книгу"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."name" = 'Война и мир' LIMIT 1 /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
Completed 500 Internal Server Error in 263ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


  
TypeError (String can't be coerced into Integer):
  
app/controllers/books_controller.rb:14:in `+'
app/controllers/books_controller.rb:14:in `create'
Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 02:34:01 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 4.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 8.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 02:34:06 +0300
Processing by BooksController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Война и мир", "author"=>"Лев Толстой", "count"=>"100"}, "commit"=>"Добавить книгу"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."name" = 'Война и мир' LIMIT 1 /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:15:in `create'
  [1m[36mBook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:15:in `create'
  [1m[36mBook Update (4.8ms)[0m  [1m[33mUPDATE "books" SET "count" = 202, "updated_at" = '2024-12-24 23:34:06.972522' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:15:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 279ms (ActiveRecord: 11.1ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 02:34:07 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 265ms (Views: 4.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 02:34:08 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 4.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/3" for 127.0.0.1 at 2024-12-25 02:34:11 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"3"}
  [1m[36mOperation Pluck (4.5ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 3 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 3 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  Rendered operations/show.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 282ms (Views: 3.6ms | ActiveRecord: 6.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 02:38:21 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 8.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | GC: 0.0ms)
Completed 500 Internal Server Error in 262ms (ActiveRecord: 3.0ms (1 query, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method `count=' for an instance of ActiveRecord::Relation)
Caused by: NoMethodError (undefined method `count=' for an instance of ActiveRecord::Relation)

Information for: ActionView::Template::Error (undefined method `count=' for an instance of ActiveRecord::Relation):
    31:           <% else %>
    32:             <span class="text-gray-400">Выдать</span>
    33:           <% end %>
    34:           <% if (Operation.where(book: book.id, returned: nil).count = 0)%>
    35:           <%= link_to 'Принять', admin_dashboard_take_book_path(book.id), class: 'ml-2 text-red-600 hover:underline' %>
    36:           <% else %>
    37:             <span class="text-gray-400">Принять</span>
  
app/views/books/index.html.erb:34
app/views/books/index.html.erb:22

Information for cause: NoMethodError (undefined method `count=' for an instance of ActiveRecord::Relation):
  
app/views/books/index.html.erb:34
app/views/books/index.html.erb:22
Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-25 02:38:22 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 02:38:58 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 10.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | GC: 0.0ms)
Completed 500 Internal Server Error in 275ms (ActiveRecord: 2.8ms (1 query, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method `length=' for an instance of ActiveRecord::Relation)
Caused by: NoMethodError (undefined method `length=' for an instance of ActiveRecord::Relation)

Information for: ActionView::Template::Error (undefined method `length=' for an instance of ActiveRecord::Relation):
    31:           <% else %>
    32:             <span class="text-gray-400">Выдать</span>
    33:           <% end %>
    34:           <% if (Operation.where(book: book.id, returned: nil).length = 0)%>
    35:           <%= link_to 'Принять', admin_dashboard_take_book_path(book.id), class: 'ml-2 text-red-600 hover:underline' %>
    36:           <% else %>
    37:             <span class="text-gray-400">Принять</span>
  
app/views/books/index.html.erb:34
app/views/books/index.html.erb:22

Information for cause: NoMethodError (undefined method `length=' for an instance of ActiveRecord::Relation):
  
app/views/books/index.html.erb:34
app/views/books/index.html.erb:22
Started GET "/favicon.ico" for 127.0.0.1 at 2024-12-25 02:38:58 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 02:40:33 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (6.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book" = 2 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book" = 3 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 21.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | GC: 0.0ms)
Completed 200 OK in 278ms (Views: 15.9ms | ActiveRecord: 9.7ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/3" for 127.0.0.1 at 2024-12-25 02:40:35 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"3"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 3 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 3 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  Rendered operations/show.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 5.7ms | ActiveRecord: 1.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/3" for 127.0.0.1 at 2024-12-25 02:40:44 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"3"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 3 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 3 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  Rendered operations/show.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 267ms (Views: 3.1ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/3" for 127.0.0.1 at 2024-12-25 02:40:46 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"3"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 3 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 3 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  Rendered operations/show.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.2ms)
Completed 200 OK in 261ms (Views: 4.5ms | ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.2ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 02:42:05 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book" = 2 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book" = 3 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 12.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | GC: 0.0ms)
Completed 200 OK in 301ms (Views: 13.4ms | ActiveRecord: 3.6ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/2" for 127.0.0.1 at 2024-12-25 02:42:06 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"2"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 2 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 2 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 4.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.0ms)
Completed 200 OK in 285ms (Views: 6.0ms | ActiveRecord: 2.4ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-25 02:42:10 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user" FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 2.4ms | ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-25 02:42:13 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 263ms (Views: 2.0ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/1" for 127.0.0.1 at 2024-12-25 02:42:14 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `update'
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user" = 1 AND "operations"."book" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.9ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-24 23:42:14.346935' WHERE "operations"."id" = 16 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-24 23:42:14.353368' WHERE "operations"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-24 23:42:14.357850' WHERE "operations"."id" = 5 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.8ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-24 23:42:14.362293' WHERE "operations"."id" = 13 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-24 23:42:14.366635' WHERE "operations"."id" = 14 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-24 23:42:14.370912' WHERE "operations"."id" = 17 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.8ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-24 23:42:14.375826' WHERE "operations"."id" = 18 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (4.4ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-24 23:42:14.380412' WHERE "operations"."id" = 19 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.8ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-24 23:42:14.387827' WHERE "operations"."id" = 20 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (10.3ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-24 23:42:14.392326' WHERE "operations"."id" = 22 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 203, "updated_at" = '2024-12-24 23:42:14.409990' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 325ms (ActiveRecord: 39.5ms (15 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 02:42:14 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book" = 2 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book" = 3 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 7.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 8.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 02:42:19 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 3.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (251.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "onlibrary_test" /*application='Onlibrary'*/[0m
  [1m[35m (231.1ms)[0m  [1m[35mCREATE DATABASE "onlibrary_test" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
  [1m[35mSQL (201.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Onlibrary'*/[0m
  [1m[35m (17.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "books" CASCADE /*application='Onlibrary'*/[0m
  [1m[35m (7.7ms)[0m  [1m[35mCREATE TABLE "books" ("id" bigserial primary key, "name" character varying, "author" character varying, "count" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Onlibrary'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "operations" CASCADE /*application='Onlibrary'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "operations" ("id" bigserial primary key, "user" bigint NOT NULL, "book" bigint NOT NULL, "took" timestamp NOT NULL, "returned" timestamp) /*application='Onlibrary'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_operations_on_book_and_user_where_returned_nil" ON "operations" ("book", "user") WHERE (returned IS NULL) /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE /*application='Onlibrary'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "role" character varying) /*application='Onlibrary'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Onlibrary'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username") /*application='Onlibrary'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20241222210935) /*application='Onlibrary'*/[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20241222210446),
(20241222135104),
(20241222133613),
(20241222104326),
(20241217224518); /*application='Onlibrary'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-12-25 00:09:42.243574', '2024-12-25 00:09:42.243577') RETURNING "key" /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2024-12-25 00:09:42.246838' WHERE "ar_internal_metadata"."key" = 'environment' /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'cb34b597acc91c8a83e26168de4522eb9be5f836', '2024-12-25 00:09:42.249277', '2024-12-25 00:09:42.249278') RETURNING "key" /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (5713.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "onlibrary_development" /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (134.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "onlibrary_development" /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (128.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "onlibrary_test" /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (221.7ms)[0m  [1m[35mCREATE DATABASE "onlibrary_development" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (346.9ms)[0m  [1m[35mCREATE DATABASE "onlibrary_test" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
  [1m[35mSQL (98.0ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "books" CASCADE /*application='Onlibrary'*/[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE "books" ("id" bigserial primary key, "name" character varying, "author" character varying, "count" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Onlibrary'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "operations" CASCADE /*application='Onlibrary'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "operations" ("id" bigserial primary key, "user" bigint NOT NULL, "book" bigint NOT NULL, "took" timestamp NOT NULL, "returned" timestamp) /*application='Onlibrary'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_operations_on_book_and_user_where_returned_nil" ON "operations" ("book", "user") WHERE (returned IS NULL) /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE /*application='Onlibrary'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "role" character varying) /*application='Onlibrary'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Onlibrary'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username") /*application='Onlibrary'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20241222210935) /*application='Onlibrary'*/[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20241222210446),
(20241222135104),
(20241222133613),
(20241222104326),
(20241217224518); /*application='Onlibrary'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-12-25 00:48:19.204438', '2024-12-25 00:48:19.204439') RETURNING "key" /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'cb34b597acc91c8a83e26168de4522eb9be5f836', '2024-12-25 00:48:19.209418', '2024-12-25 00:48:19.209419') RETURNING "key" /*application='Onlibrary'*/[0m
  [1m[35mSQL (201.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "books" CASCADE /*application='Onlibrary'*/[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE "books" ("id" bigserial primary key, "name" character varying, "author" character varying, "count" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Onlibrary'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "operations" CASCADE /*application='Onlibrary'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "operations" ("id" bigserial primary key, "user" bigint NOT NULL, "book" bigint NOT NULL, "took" timestamp NOT NULL, "returned" timestamp) /*application='Onlibrary'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_operations_on_book_and_user_where_returned_nil" ON "operations" ("book", "user") WHERE (returned IS NULL) /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE /*application='Onlibrary'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "role" character varying) /*application='Onlibrary'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Onlibrary'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username") /*application='Onlibrary'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20241222210935) /*application='Onlibrary'*/[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20241222210446),
(20241222135104),
(20241222133613),
(20241222104326),
(20241217224518); /*application='Onlibrary'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-12-25 00:48:19.461885', '2024-12-25 00:48:19.461886') RETURNING "key" /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2024-12-25 00:48:19.465441' WHERE "ar_internal_metadata"."key" = 'environment' /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'cb34b597acc91c8a83e26168de4522eb9be5f836', '2024-12-25 00:48:19.468392', '2024-12-25 00:48:19.468394') RETURNING "key" /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Migrating to RemoveIndexFromOperations (20241222210935)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Migrating to RemoveIndexFromOperations (20241222210935)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Migrating to RemoveIndexFromOperations (20241222210935)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Migrating to CreateBooks (20241222133613)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (4.7ms)[0m  [1m[35mDROP TABLE "books" /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20241222133613' /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to CreateBooks (20241222133613)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "books" ("id" bigserial primary key, "name" character varying, "author" character varying, "count" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241222133613') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Migrating to CreateOperation (20241222135104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (3.5ms)[0m  [1m[35mDROP TABLE "operations" /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20241222135104' /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to CreateOperation (20241222135104)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "operations" ("id" bigserial primary key, "user_id" bigint, "book_id" bigint, "took" timestamp NOT NULL, "returned" timestamp) /*application='Onlibrary'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_operations_on_user_id" ON "operations" ("user_id") /*application='Onlibrary'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_operations_on_book_id" ON "operations" ("book_id") /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241222135104') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Migrating to RemoveIndexFromOperations (20241222210935)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Migrating to RemoveIndexFromOperations (20241222210935)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_operations_on_book_and_user" ON "operations" ("book_id", "user_id") /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20241222210935' /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
Migrating to AddUniqueIndexToOperations (20241222210446)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to RemoveIndexFromOperations (20241222210935)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_operations_on_book_and_user" /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241222210935') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Migrating to RemoveIndexFromOperations (20241222210935)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_operations_on_book_and_user" ON "operations" ("book_id", "user_id") /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20241222210935' /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to RemoveIndexFromOperations (20241222210935)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_operations_on_book_and_user" /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241222210935') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Migrating to CreateOperation (20241222135104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (3.8ms)[0m  [1m[35mDROP TABLE "operations" /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20241222135104' /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to CreateOperation (20241222135104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "operations" ("id" bigserial primary key, "user_id" bigint, "book_id" bigint, "took" timestamp NOT NULL, "returned" timestamp) /*application='Onlibrary'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_operations_on_user_id" ON "operations" ("user_id") /*application='Onlibrary'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_operations_on_book_id" ON "operations" ("book_id") /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241222135104') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Migrating to AddUniqueIndexToOperations (20241222210446)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Migrating to AddUniqueIndexToOperations (20241222210446)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (3.8ms)[0m  [1m[35mDROP INDEX  "index_operations_on_book_and_user_where_returned_nil" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Migrating to AddUniqueIndexToOperations (20241222210446)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mDROP INDEX  "index_operations_on_book_and_user_where_returned_nil" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Migrating to AddUniqueIndexToOperations (20241222210446)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (2.8ms)[0m  [1m[35mDROP INDEX  "index_operations_on_book_and_user_where_returned_nil" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='Onlibrary'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Migrating to AddUniqueIndexToOperations (20241222210446)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (2.0ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20241222210446' /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to AddUniqueIndexToOperations (20241222210446)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_operations_on_book_and_user_where_returned_nil" ON "operations" ("book_id", "user_id") WHERE returned IS NULL /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241222210446') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-25 04:29:30 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | GC: 0.0ms)
Completed 200 OK in 570ms (Views: 22.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-07c96737.css" for 127.0.0.1 at 2024-12-25 04:29:31 +0300
Started GET "/assets/application.tailwind-a734f247.css" for 127.0.0.1 at 2024-12-25 04:29:31 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-25 04:29:32 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 6.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 9.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'admin' LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@admin.com' LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'admin' LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@admin.com' LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at", "role") VALUES ('admin', 'admin@admin.com', '$2a$12$EE5Fd.c1vl57tzg4Hbzm7ub0jdyJBHrmqZmRVrrqGYzMhEE8/tjly', '2024-12-25 01:32:58.508720', '2024-12-25 01:32:58.508720', 'admin') RETURNING "id" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
Started GET "/register" for 127.0.0.1 at 2024-12-25 04:34:26 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 269ms (Views: 3.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-25 04:34:28 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 271ms (Views: 4.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-25 04:34:39 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@admin.com' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 560ms (ActiveRecord: 13.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 04:34:39 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 274ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 04:36:02 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 288ms (Views: 5.4ms | ActiveRecord: 0.7ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 04:36:04 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 271ms (Views: 2.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 04:36:20 +0300
Processing by BooksController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Война и мир", "author"=>"Лев Толстой", "count"=>"10"}, "commit"=>"Добавить книгу"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."name" = 'Война и мир' LIMIT 1 /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
Completed 500 Internal Server Error in 266ms (ActiveRecord: 1.1ms (1 query, 0 cached) | GC: 0.2ms)


  
NoMethodError (undefined method `author' for nil):
  
app/controllers/books_controller.rb:13:in `create'
Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 04:37:42 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 312ms (Views: 30.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 04:37:47 +0300
Processing by BooksController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Война и мир", "author"=>"Лев Толстой", "count"=>"10"}, "commit"=>"Добавить книгу"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."name" = 'Война и мир' LIMIT 1 /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
  [1m[36mBook Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' LIMIT 1 /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
  [1m[36mBook Create (2.1ms)[0m  [1m[32mINSERT INTO "books" ("name", "author", "count", "created_at", "updated_at") VALUES ('Война и мир', 'Лев Толстой', 10, '2024-12-25 01:37:47.581625', '2024-12-25 01:37:47.581625') RETURNING "id" /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 263ms (ActiveRecord: 7.5ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 04:37:47 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 266ms (Views: 5.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 04:37:49 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 04:37:51 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 04:37:51 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 34.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 34.4ms | GC: 0.0ms)
Completed 500 Internal Server Error in 285ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method `arity' for an instance of Symbol)
Caused by: NoMethodError (undefined method `arity' for an instance of Symbol)

Information for: ActionView::Template::Error (undefined method `arity' for an instance of Symbol):
    31:           <% else %>
    32:             <span class="text-gray-400">Выдать</span>
    33:           <% end %>
    34:           <% if Operation.where(book_id: book.id, returned: nil).count != 0%>
    35:           <%= link_to 'Принять', admin_dashboard_take_book_path(book.id), class: 'ml-2 text-red-600 hover:underline' %>
    36:           <% else %>
    37:             <span class="text-gray-400">Принять</span>
  
app/models/operation.rb:4:in `<class:Operation>'
app/models/operation.rb:3:in `<main>'
app/views/books/index.html.erb:34
app/views/books/index.html.erb:22

Information for cause: NoMethodError (undefined method `arity' for an instance of Symbol):
  
app/models/operation.rb:4:in `<class:Operation>'
app/models/operation.rb:3:in `<main>'
app/views/books/index.html.erb:34
app/views/books/index.html.erb:22
Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 04:39:42 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 259ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 04:39:44 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  Rendered books/index.html.erb within layouts/application (Duration: 66.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 67.1ms | GC: 0.0ms)
Completed 500 Internal Server Error in 326ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method `arity' for an instance of Symbol)
Caused by: NoMethodError (undefined method `arity' for an instance of Symbol)

Information for: ActionView::Template::Error (undefined method `arity' for an instance of Symbol):
    31:           <% else %>
    32:             <span class="text-gray-400">Выдать</span>
    33:           <% end %>
    34:           <% if Operation.where(book_id: book.id, returned: nil).count != 0%>
    35:           <%= link_to 'Принять', admin_dashboard_take_book_path(book.id), class: 'ml-2 text-red-600 hover:underline' %>
    36:           <% else %>
    37:             <span class="text-gray-400">Принять</span>
  
app/models/operation.rb:4:in `<class:Operation>'
app/models/operation.rb:3:in `<main>'
app/views/books/index.html.erb:34
app/views/books/index.html.erb:22

Information for cause: NoMethodError (undefined method `arity' for an instance of Symbol):
  
app/models/operation.rb:4:in `<class:Operation>'
app/models/operation.rb:3:in `<main>'
app/views/books/index.html.erb:34
app/views/books/index.html.erb:22
Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 04:41:10 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 5.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 04:41:11 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 14.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | GC: 0.0ms)
Completed 200 OK in 263ms (Views: 13.3ms | ActiveRecord: 4.1ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 04:41:15 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 3.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.0ms)
Completed 200 OK in 295ms (Views: 7.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 04:41:28 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'user@user.com' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 302 Found in 277ms (ActiveRecord: 1.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 04:41:29 +0300
Processing by OperationsController#new as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 04:41:35 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 4.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.0ms)
Completed 200 OK in 263ms (Views: 6.2ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 04:41:37 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-25 04:41:38 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 255ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-25 04:41:39 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 3.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-25 04:41:40 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 285ms (Views: 4.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/register" for 127.0.0.1 at 2024-12-25 04:41:53 +0300
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрироваться"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'user' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'user@user.com' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at", "role") VALUES ('user', 'user@user.com', '$2a$12$pP3pla0nRNhySRjEfyR.K.RvapcqGwqXcaV42TIktJ.5b8z1AbYCS', '2024-12-25 01:41:54.022556', '2024-12-25 01:41:54.022556', 'user') RETURNING "id" /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 473ms (ActiveRecord: 5.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-25 04:41:54 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 273ms (Views: 4.2ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-25 04:41:56 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 2 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 1.6ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-25 04:41:57 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 250ms (Views: 1.6ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-25 04:41:59 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:17
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 3.2ms | ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-25 04:42:03 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 2 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 2 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:15
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 268ms (Views: 3.0ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-25 04:42:07 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 248ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-25 04:42:07 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 247ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-25 04:42:08 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 257ms (Views: 2.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-25 04:42:09 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 274ms (Views: 4.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-25 04:42:20 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@admin.com' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 450ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 04:42:20 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 04:42:24 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 04:42:25 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 04:42:26 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 3.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 4.2ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 04:42:27 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 04:42:32 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'user@user.com' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (0.7ms)[0m  [1m[32mINSERT INTO "operations" ("user_id", "book_id", "took", "returned") VALUES (2, 1, '2024-12-25 01:42:32.809267', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Update (0.3ms)[0m  [1m[33mUPDATE "books" SET "count" = 9, "updated_at" = '2024-12-25 01:42:32.937945' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 384ms (ActiveRecord: 8.4ms (7 queries, 1 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 04:42:32 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 3.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 4.1ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-25 04:42:34 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user_id" FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 3.2ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 04:42:44 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 250ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-25 04:42:45 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."user_id" FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 2.5ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 04:42:45 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 244ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 04:42:55 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 3.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 4.4ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-07c96737.css" for 127.0.0.1 at 2024-12-25 04:42:55 +0300
Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 04:42:57 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 04:43:00 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 247ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-25 04:43:01 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 246ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-25 04:43:01 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-25 04:43:02 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-25 04:43:03 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-25 04:43:12 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'user@user.com' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 446ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-25 04:43:13 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 2.2ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-25 04:43:14 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:17
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 263ms (Views: 2.6ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-25 04:43:16 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 2 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:14
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:18
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 3.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.0ms)
Completed 200 OK in 250ms (Views: 4.3ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 04:43:21 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 250ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 04:43:24 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'user@user.com' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (4.6ms)[0m  [1m[32mINSERT INTO "operations" ("user_id", "book_id", "took", "returned") VALUES (2, 1, '2024-12-25 01:43:24.834965', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 302 Found in 263ms (ActiveRecord: 7.0ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 04:43:24 +0300
Processing by OperationsController#new as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 248ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 04:43:33 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 3.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 4.2ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-25 04:43:34 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user_id" FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 2.4ms | ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 04:43:36 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-25 04:43:37 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user_id" FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 2.7ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/2" for 127.0.0.1 at 2024-12-25 04:43:39 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"2"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 3.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.0ms)
Completed 200 OK in 270ms (Views: 4.9ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/2" for 127.0.0.1 at 2024-12-25 04:43:40 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `update'
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 2 AND "operations"."book_id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.8ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-25 01:43:40.411068' WHERE "operations"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 10, "updated_at" = '2024-12-25 01:43:40.423093' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 271ms (ActiveRecord: 9.2ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 04:43:40 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 4.1ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 04:43:44 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 04:43:48 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'user@user.com' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (0.1ms)[0m  [1m[32mINSERT INTO "operations" ("user_id", "book_id", "took", "returned") VALUES (2, 1, '2024-12-25 01:43:49.230258', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 9, "updated_at" = '2024-12-25 01:43:49.245534' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 276ms (ActiveRecord: 6.6ms (7 queries, 1 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 04:43:49 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 4.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 4.6ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-25 04:43:50 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user_id" FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 266ms (Views: 2.5ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/2" for 127.0.0.1 at 2024-12-25 04:43:51 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"2"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 272ms (Views: 2.0ms | ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/2" for 127.0.0.1 at 2024-12-25 04:43:58 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `update'
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 2 AND "operations"."book_id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-25 01:43:58.835564' WHERE "operations"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-25 01:43:58.839854' WHERE "operations"."id" = 3 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "count" = 10, "updated_at" = '2024-12-25 01:43:58.847379' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 281ms (ActiveRecord: 6.5ms (7 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 04:43:58 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 3.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 4.2ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-25 04:44:02 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 1.3ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-25 04:44:04 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 2 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 2 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:15
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 10.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 10.7ms | ActiveRecord: 0.9ms (9 queries, 5 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-25 04:44:06 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 247ms (Views: 1.5ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-25 04:44:06 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 2 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 1.4ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-25 04:44:07 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 250ms (Views: 1.3ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 04:46:14 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 5.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 04:46:23 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'user@user.com' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (0.1ms)[0m  [1m[32mINSERT INTO "operations" ("user_id", "book_id", "took", "returned") VALUES (2, 1, '2024-12-25 01:46:23.608936', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 9, "updated_at" = '2024-12-25 01:46:23.626710' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 291ms (ActiveRecord: 11.4ms (7 queries, 1 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 04:46:23 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 4.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 7.3ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-25 04:46:35 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user_id" FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 3.3ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/2" for 127.0.0.1 at 2024-12-25 04:46:36 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"2"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 2.0ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/2" for 127.0.0.1 at 2024-12-25 04:46:53 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"2"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 284ms (Views: 5.8ms | ActiveRecord: 5.0ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/2" for 127.0.0.1 at 2024-12-25 04:46:55 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `update'
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 2 AND "operations"."book_id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-25 01:46:55.434477' WHERE "operations"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.6ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-25 01:46:55.440659' WHERE "operations"."id" = 3 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (1.7ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-25 01:46:55.445050' WHERE "operations"."id" = 4 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "count" = 10, "updated_at" = '2024-12-25 01:46:55.453577' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 308ms (ActiveRecord: 15.1ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 04:46:55 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 4.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.0ms)
Completed 200 OK in 256ms (Views: 7.7ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 04:47:14 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 2.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 04:47:15 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 252ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 04:47:16 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 3.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 04:47:17 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 04:47:18 +0300
Processing by BooksController#new as HTML
Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 04:47:18 +0300
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 2.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 04:47:20 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 3.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 4.2ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 04:47:22 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-25 04:48:01 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 2 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 2 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:15
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 12.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | GC: 0.0ms)
Completed 200 OK in 274ms (Views: 14.7ms | ActiveRecord: 1.1ms (12 queries, 8 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-25 04:48:06 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 2 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 1.8ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 04:48:08 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 248ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-25 04:48:10 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 247ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-25 04:48:10 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 3.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Migrating to CreateOperation (20241222135104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (3.9ms)[0m  [1m[35mDROP TABLE "operations" /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20241222135104' /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to CreateOperation (20241222135104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "operations" ("id" bigserial primary key, "user_id" bigint, "book_id" bigint, "took" timestamp NOT NULL, "returned" timestamp) /*application='Onlibrary'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_operations_on_user_id" ON "operations" ("user_id") /*application='Onlibrary'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_operations_on_book_id" ON "operations" ("book_id") /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241222135104') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Migrating to CreateOperation (20241222135104)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (3.8ms)[0m  [1m[35mDROP TABLE "operations" /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20241222135104' /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to CreateOperation (20241222135104)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE "operations" ("id" bigserial primary key, "user_id" bigint, "book_id" bigint, "took" timestamp NOT NULL, "returned" timestamp, CONSTRAINT "fk_rails_63fbf4e94e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_8409d71551"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
) /*application='Onlibrary'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_operations_on_user_id" ON "operations" ("user_id") /*application='Onlibrary'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_operations_on_book_id" ON "operations" ("book_id") /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241222135104') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (221.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "onlibrary_test" /*application='Onlibrary'*/[0m
  [1m[35m (141.5ms)[0m  [1m[35mCREATE DATABASE "onlibrary_test" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
  [1m[35mSQL (104.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "books" CASCADE /*application='Onlibrary'*/[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "books" ("id" bigserial primary key, "name" character varying, "author" character varying, "count" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Onlibrary'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "operations" CASCADE /*application='Onlibrary'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "operations" ("id" bigserial primary key, "user_id" bigint, "book_id" bigint, "took" timestamp NOT NULL, "returned" timestamp) /*application='Onlibrary'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_operations_on_book_id" ON "operations" ("book_id") /*application='Onlibrary'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_operations_on_user_id" ON "operations" ("user_id") /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE /*application='Onlibrary'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "role" character varying) /*application='Onlibrary'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Onlibrary'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username") /*application='Onlibrary'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "operations" ADD CONSTRAINT "fk_rails_8409d71551"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
 /*application='Onlibrary'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "operations" ADD CONSTRAINT "fk_rails_63fbf4e94e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
 /*application='Onlibrary'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20241222210935) /*application='Onlibrary'*/[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20241222210446),
(20241222135104),
(20241222133613),
(20241222104326),
(20241217224518); /*application='Onlibrary'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-12-25 02:35:35.725197', '2024-12-25 02:35:35.725199') RETURNING "key" /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2024-12-25 02:35:35.728514' WHERE "ar_internal_metadata"."key" = 'environment' /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'b052166abff4d30cec1b1f1cdc1a1aaf49d6d754', '2024-12-25 02:35:35.731084', '2024-12-25 02:35:35.731085') RETURNING "key" /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Migrating to AddUniqueIndexToOperations (20241222210446)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Migrating to AddUniqueIndexToOperations (20241222210446)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='Onlibrary'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Migrating to AddUniqueIndexToOperations (20241222210446)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (2.0ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20241222210446' /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
Migrating to AddUniqueIndexToOperations (20241222210446)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Onlibrary'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_operations_on_book_and_user_where_returned_nil" ON "operations" ("book_id", "user_id") WHERE returned IS NULL /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241222210446') RETURNING "version" /*application='Onlibrary'*/[0m
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mCOMMIT /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/register" for 127.0.0.1 at 2024-12-25 06:05:03 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 105.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 119.5ms | GC: 0.0ms)
Completed 200 OK in 976ms (Views: 151.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/register" for 127.0.0.1 at 2024-12-25 06:05:20 +0300
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user2", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрироваться"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (3.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'user2' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'user2@user.com' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at", "role") VALUES ('user2', 'user2@user.com', '$2a$12$6mFSN5YHcMWM2I2siFwq9Of/lxyeGM2rphLHglDYs2SO4CRO.FDkm', '2024-12-25 03:05:21.350839', '2024-12-25 03:05:21.350839', 'user') RETURNING "id" /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 614ms (ActiveRecord: 18.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-25 06:05:21 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 285ms (Views: 3.6ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-25 06:05:24 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (1.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 3 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 263ms (Views: 1.5ms | ActiveRecord: 3.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-25 06:05:32 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 258ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-25 06:05:32 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 262ms (Views: 3.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-25 06:05:33 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-25 06:05:34 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-25 06:05:42 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@admin.com' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 448ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 06:05:43 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 265ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 06:05:46 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 7.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 8.2ms | ActiveRecord: 2.0ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 06:05:48 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 269ms (Views: 4.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 06:05:54 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'user@user.com' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "operations" WHERE "operations"."user_id" = 2 AND "operations"."book_id" = 1 AND "operations"."returned" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (0.8ms)[0m  [1m[32mINSERT INTO "operations" ("user_id", "book_id", "took", "returned") VALUES (2, 1, '2024-12-25 03:05:54.378450', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 9, "updated_at" = '2024-12-25 03:05:54.404504' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 292ms (ActiveRecord: 10.1ms (8 queries, 1 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 06:05:54 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 3.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 4.1ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 06:05:55 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 06:06:07 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'user1@user.com' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 302 Found in 264ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 06:06:07 +0300
Processing by OperationsController#new as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 06:06:11 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 3.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 4.5ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 06:06:12 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 250ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 06:06:21 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 271ms (Views: 2.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 06:06:22 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 260ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 06:06:29 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'user2@user.com' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "operations" WHERE "operations"."user_id" = 3 AND "operations"."book_id" = 1 AND "operations"."returned" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (0.3ms)[0m  [1m[32mINSERT INTO "operations" ("user_id", "book_id", "took", "returned") VALUES (3, 1, '2024-12-25 03:06:29.884965', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 8, "updated_at" = '2024-12-25 03:06:29.902513' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 282ms (ActiveRecord: 7.1ms (8 queries, 1 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 06:06:29 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 3.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.0ms)
Completed 200 OK in 263ms (Views: 4.6ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-25 06:06:31 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user_id" FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (2, 3) /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 275ms (Views: 3.0ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/2" for 127.0.0.1 at 2024-12-25 06:07:22 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"2"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 1.8ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/2" for 127.0.0.1 at 2024-12-25 06:07:23 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `update'
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 2 AND "operations"."book_id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "operations" WHERE "operations"."user_id" = 2 AND "operations"."id" != 1 AND "operations"."book_id" = 1 AND "operations"."returned" IS NULL LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (0.2ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-25 03:07:23.613495' WHERE "operations"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 9, "updated_at" = '2024-12-25 03:07:23.631308' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 290ms (ActiveRecord: 13.6ms (7 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 06:07:23 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 3.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.0ms)
Completed 200 OK in 268ms (Views: 4.4ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 06:07:38 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 06:07:39 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 255ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 06:07:44 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'user@user.com' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "operations" WHERE "operations"."user_id" = 2 AND "operations"."book_id" = 1 AND "operations"."returned" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (0.3ms)[0m  [1m[32mINSERT INTO "operations" ("user_id", "book_id", "took", "returned") VALUES (2, 1, '2024-12-25 03:07:44.983383', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Exists? (3.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 8, "updated_at" = '2024-12-25 03:07:45.005315' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 278ms (ActiveRecord: 11.2ms (8 queries, 1 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 06:07:45 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 3.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 4.2ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 06:08:00 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 06:08:03 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 06:08:06 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'user@user.com' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "operations" WHERE "operations"."user_id" = 2 AND "operations"."book_id" = 1 AND "operations"."returned" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/1
Completed 302 Found in 273ms (ActiveRecord: 2.7ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 06:08:07 +0300
Processing by OperationsController#new as TURBO_STREAM
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 261ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 06:08:08 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 3.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 263ms (Views: 4.2ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-25 06:08:09 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user_id" FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (2, 3) /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 258ms (Views: 2.5ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/2" for 127.0.0.1 at 2024-12-25 06:08:11 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"2"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 254ms (Views: 1.4ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/2" for 127.0.0.1 at 2024-12-25 06:08:12 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `update'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `update'
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 2 AND "operations"."book_id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "operations" WHERE "operations"."user_id" = 2 AND "operations"."id" != 1 AND "operations"."book_id" = 1 AND "operations"."returned" IS NULL LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "operations" WHERE "operations"."user_id" = 2 AND "operations"."id" != 3 AND "operations"."book_id" = 1 AND "operations"."returned" IS NULL LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (0.2ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-25 03:08:12.632776' WHERE "operations"."id" = 3 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 9, "updated_at" = '2024-12-25 03:08:12.649930' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 281ms (ActiveRecord: 12.5ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 06:08:12 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 3.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 4.2ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-25 17:05:07 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 100.0ms | GC: 0.0ms)
Completed 200 OK in 948ms (Views: 177.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-07c96737.css" for 127.0.0.1 at 2024-12-25 17:05:08 +0300
Started GET "/assets/application.tailwind-a734f247.css" for 127.0.0.1 at 2024-12-25 17:05:08 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-25 17:05:09 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 51.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 52.1ms | GC: 0.0ms)
Completed 200 OK in 287ms (Views: 54.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-25 17:05:11 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 210ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-25 17:06:07 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-25 17:06:08 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-25 17:07:32 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 223ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-25 17:07:41 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/register" for 127.0.0.1 at 2024-12-25 17:16:28 +0300
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user3", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрироваться"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (6.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'user3' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'user3@example.com' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Create (3.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at", "role") VALUES ('user3', 'user3@example.com', '$2a$12$ZDhjo/kG/VDS2xip/92bsug/v3ZtDiwWTFSJBHgzHf5FVIAiAKPj2', '2024-12-25 14:16:28.787500', '2024-12-25 14:16:28.787500', 'user') RETURNING "id" /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 531ms (ActiveRecord: 20.8ms (3 queries, 0 cached) | GC: 0.2ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-25 17:16:28 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 234ms (Views: 3.8ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-25 17:18:23 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 213ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-25 17:35:47 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (1.0ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 4 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.7ms | GC: 0.2ms)
Completed 200 OK in 740ms (Views: 24.4ms | ActiveRecord: 14.6ms (2 queries, 0 cached) | GC: 0.2ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-25 17:39:21 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 233ms (Views: 1.8ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-25 17:39:22 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 227ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-25 17:39:22 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 264ms (Views: 3.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-25 17:40:04 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 6.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.0ms)
Completed 200 OK in 251ms (Views: 9.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-25 17:40:09 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 207ms (Views: 3.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-25 17:40:27 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 253ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-25 17:47:36 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 224ms (Views: 3.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-25 17:47:36 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 218ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-25 17:47:37 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 220ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-25 17:47:48 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'user@user.com' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 530ms (ActiveRecord: 6.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-25 17:47:49 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 210ms (Views: 2.0ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-25 17:51:12 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 207ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-25 17:55:04 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@admin.com' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 501ms (ActiveRecord: 5.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 17:55:04 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 219ms (Views: 3.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 17:57:30 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 9.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | GC: 0.0ms)
Completed 200 OK in 267ms (Views: 11.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 18:01:00 +0300
Processing by BooksController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Буратино", "author"=>"Алексей Толстой", "count"=>"10"}, "commit"=>"Добавить книгу"}
  [1m[36mBook Load (4.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."name" = 'Буратино' LIMIT 1 /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
  [1m[36mBook Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Буратино' LIMIT 1 /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
  [1m[36mBook Create (1.0ms)[0m  [1m[32mINSERT INTO "books" ("name", "author", "count", "created_at", "updated_at") VALUES ('Буратино', 'Алексей Толстой', 10, '2024-12-25 15:01:01.069672', '2024-12-25 15:01:01.069672') RETURNING "id" /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 442ms (ActiveRecord: 14.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 18:01:01 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 217ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 18:01:59 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (3.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 2 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 9.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | GC: 0.0ms)
Completed 200 OK in 268ms (Views: 7.6ms | ActiveRecord: 3.5ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 18:03:15 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 220ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 18:05:16 +0300
Processing by BooksController#new as HTML
Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 18:05:16 +0300
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 241ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 241ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 18:09:15 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 214ms (Views: 3.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 18:09:16 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 18:09:29 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 224ms (Views: 2.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 18:09:30 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 208ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 18:09:30 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 18:09:31 +0300
Processing by BooksController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"", "author"=>"", "count"=>""}, "commit"=>"Добавить книгу"}
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."name" = '' LIMIT 1 /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
  [1m[36mBook Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = '' LIMIT 1 /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/new_book
Completed 302 Found in 304ms (ActiveRecord: 6.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 18:09:32 +0300
Processing by BooksController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 207ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 18:09:32 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 18:09:35 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 2 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 7.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | GC: 0.0ms)
Completed 200 OK in 214ms (Views: 5.9ms | ActiveRecord: 2.3ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 18:09:54 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 213ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 18:09:56 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 205ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 18:10:46 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 2 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 6.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 0.0ms)
Completed 200 OK in 224ms (Views: 6.9ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 18:14:51 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 238ms (Views: 4.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 18:15:11 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 210ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 18:26:32 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-25 18:26:36 +0300
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 209ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-25 18:26:49 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/register" for 127.0.0.1 at 2024-12-25 18:27:40 +0300
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"user4@user.com", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Зарегистрироваться"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (3.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'user4@user.com' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'user4@user.com' LIMIT 1 /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "created_at", "updated_at", "role") VALUES ('user4@user.com', 'user4@user.com', '$2a$12$VNu/70icahZfuYoNhad0n.MHfq20YbcuVNLtfzy5CDz0Ma8BwMDcy', '2024-12-25 15:27:40.647642', '2024-12-25 15:27:40.647642', 'user') RETURNING "id" /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='users'*/[0m
  ↳ app/controllers/users_controller.rb:12:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 490ms (ActiveRecord: 11.2ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-25 18:27:40 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 216ms (Views: 1.4ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-25 18:27:44 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (1.4ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 5 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 219ms (Views: 1.2ms | ActiveRecord: 1.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-25 18:27:47 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:17
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.0ms)
Completed 200 OK in 228ms (Views: 3.6ms | ActiveRecord: 1.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-25 18:27:51 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 5 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (1.1ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 5 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:15
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.0ms)
Completed 200 OK in 243ms (Views: 3.9ms | ActiveRecord: 1.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-25 18:28:01 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 218ms (Views: 1.4ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-07c96737.css" for 127.0.0.1 at 2024-12-25 18:28:01 +0300
Started GET "/assets/application.tailwind-a734f247.css" for 127.0.0.1 at 2024-12-25 18:28:01 +0300
Started GET "/" for 127.0.0.1 at 2024-12-25 18:28:05 +0300
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-25 18:28:06 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 218ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-25 18:28:07 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-25 18:28:45 +0300
Processing by UsersController#new as HTML
Started POST "/login" for 127.0.0.1 at 2024-12-25 18:28:45 +0300
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 243ms (Views: 2.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'user4@user.com' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 415ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-25 18:28:46 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 224ms (Views: 2.1ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-25 18:28:49 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 210ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-25 18:29:19 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@admin.com' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 407ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 18:29:19 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 220ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 18:30:13 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 221ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 18:30:20 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 217ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 18:30:21 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 18:30:22 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 216ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 18:30:24 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 204ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 18:30:39 +0300
Processing by BooksController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Гарри Поттер", "author"=>"Автор", "count"=>"500"}, "commit"=>"Добавить книгу"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."name" = 'Гарри Поттер' LIMIT 1 /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
  [1m[36mBook Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Гарри Поттер' LIMIT 1 /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("name", "author", "count", "created_at", "updated_at") VALUES ('Гарри Поттер', 'Автор', 500, '2024-12-25 15:30:39.664225', '2024-12-25 15:30:39.664225') RETURNING "id" /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 226ms (ActiveRecord: 4.0ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 18:30:39 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 219ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 18:30:40 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 2 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 3 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 6.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 0.0ms)
Completed 200 OK in 218ms (Views: 6.8ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-25 18:30:47 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user_id" FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 233ms (Views: 3.3ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 18:30:48 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 219ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 18:30:50 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 2 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 3 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 7.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | GC: 0.0ms)
Completed 200 OK in 228ms (Views: 7.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-25 18:30:53 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 18:30:53 +0300
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user_id" FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 224ms (Views: 3.8ms | ActiveRecord: 1.2ms (3 queries, 0 cached) | GC: 0.0ms)


Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-25 18:31:07 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'user4@user.com' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "operations" WHERE "operations"."user_id" = 5 AND "operations"."book_id" = 1 AND "operations"."returned" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (1.5ms)[0m  [1m[32mINSERT INTO "operations" ("user_id", "book_id", "took", "returned") VALUES (5, 1, '2024-12-25 15:31:07.458375', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Update (1.7ms)[0m  [1m[33mUPDATE "books" SET "count" = 8, "updated_at" = '2024-12-25 15:31:07.568926' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 340ms (ActiveRecord: 13.6ms (8 queries, 1 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 18:31:07 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 2 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 3 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 6.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.0ms)
Completed 200 OK in 220ms (Views: 7.5ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-25 18:31:12 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."user_id" FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (3, 5) /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 3.0ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-25 18:31:12 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."user_id" FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (3, 5) /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 213ms (Views: 2.7ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-25 18:31:14 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user_id" FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (3, 5) /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.0ms)
Completed 200 OK in 214ms (Views: 3.8ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-25 18:31:15 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user_id" FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (3, 5) /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 2.5ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-25 18:31:17 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user_id" FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (3, 5) /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 213ms (Views: 2.5ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-25 18:31:35 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 220ms (Views: 1.2ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-25 18:31:36 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 236ms (Views: 1.3ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-25 18:31:38 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 2.0ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-25 18:31:39 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 218ms (Views: 1.9ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-25 18:31:42 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:17
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 209ms (Views: 2.3ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-25 18:31:45 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 210ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-25 18:31:50 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 205ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-25 18:31:50 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 210ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-25 18:31:51 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 210ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-25 18:31:52 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-25 18:32:03 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'user4@user.com' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 412ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-25 18:32:04 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 222ms (Views: 1.8ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-25 18:32:05 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 5 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:14
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:18
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 4.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.0ms)
Completed 200 OK in 218ms (Views: 4.8ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-25 18:32:11 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 1.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-25 18:32:12 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 5 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 5 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:15
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 217ms (Views: 2.4ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-25 18:32:13 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 209ms (Views: 1.3ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-25 18:32:15 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user_id" FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (3, 5) /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 217ms (Views: 4.3ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-25 18:32:17 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user_id" FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IN (3, 5) /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 219ms (Views: 2.6ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/5" for 127.0.0.1 at 2024-12-25 18:32:18 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"5"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 221ms (Views: 2.3ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin_dashboard/take_book/1/5" for 127.0.0.1 at 2024-12-25 18:32:21 +0300
Processing by OperationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "commit"=>"Подтвердить", "book_id"=>"1", "user_id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:22:in `update'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:23:in `update'
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 5 AND "operations"."book_id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:34:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "operations" WHERE "operations"."user_id" = 5 AND "operations"."id" != 4 AND "operations"."book_id" = 1 AND "operations"."returned" IS NULL LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mOperation Update (0.2ms)[0m  [1m[33mUPDATE "operations" SET "returned" = '2024-12-25 15:32:21.726048' WHERE "operations"."id" = 4 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:35:in `block in update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 1 LIMIT 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 9, "updated_at" = '2024-12-25 15:32:21.737783' WHERE "books"."id" = 1 /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:37:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:38:in `update'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 233ms (ActiveRecord: 10.3ms (7 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 18:32:21 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 2 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 3 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 7.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 7.9ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-25 18:32:27 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 213ms (Views: 1.5ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-25 18:32:29 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 5 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 236ms (Views: 1.3ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-25 18:32:33 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 5 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 5 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:15
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 7.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.0ms)
Completed 200 OK in 219ms (Views: 7.9ms | ActiveRecord: 1.2ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-25 18:32:45 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 222ms (Views: 1.8ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-25 18:32:55 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."user_id" FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 235ms (Views: 3.0ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1/3" for 127.0.0.1 at 2024-12-25 18:33:05 +0300
Processing by OperationsController#index as HTML
  Parameters: {"book_id"=>"1", "user_id"=>"3"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:17:in `index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1 /*action='index',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:18:in `index'
  Rendering layout layouts/application.html.erb
  Rendering operations/index.html.erb within layouts/application
  Rendered operations/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 218ms (Views: 1.5ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 18:33:09 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 220ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/2" for 127.0.0.1 at 2024-12-25 18:33:13 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"2"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 209ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 18:33:16 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 208ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/take_book/1" for 127.0.0.1 at 2024-12-25 18:33:21 +0300
Processing by OperationsController#show as HTML
  Parameters: {"book_id"=>"1"}
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."user_id" FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:11:in `show'
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:13:in `show'
  Rendering layout layouts/application.html.erb
  Rendering operations/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 /*action='show',application='Onlibrary',controller='operations'*/[0m
  ↳ app/views/operations/show.html.erb:15
  Rendered operations/show.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 228ms (Views: 3.0ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-25 18:44:11 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (92.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:17
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 200 OK in 315ms (Views: 3.1ms | ActiveRecord: 97.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/3" for 127.0.0.1 at 2024-12-25 18:53:51 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"3"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 2.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/2" for 127.0.0.1 at 2024-12-25 18:53:51 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"2"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/2" for 127.0.0.1 at 2024-12-25 18:59:07 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"2"}
  [1m[36mBook Load (218.9ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 2 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'user@user.com' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 2 LIMIT 1[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "operations" WHERE "operations"."user_id" = 2 AND "operations"."book_id" = 2 AND "operations"."returned" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (0.5ms)[0m  [1m[32mINSERT INTO "operations" ("user_id", "book_id", "took", "returned") VALUES (2, 2, '2024-12-25 15:59:07.656143', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Буратино' AND "books"."id" != 2 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Update (0.3ms)[0m  [1m[33mUPDATE "books" SET "count" = 9, "updated_at" = '2024-12-25 15:59:07.673297' WHERE "books"."id" = 2 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 458ms (ActiveRecord: 232.6ms (8 queries, 1 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 18:59:07 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 3 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 2 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 6.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | GC: 0.0ms)
Completed 200 OK in 219ms (Views: 6.5ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 19:49:08 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (98.0ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 3 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 2 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 134.0ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 150.1ms | GC: 0.2ms)
Completed 200 OK in 685ms (Views: 42.9ms | ActiveRecord: 113.2ms (4 queries, 0 cached) | GC: 0.2ms)


Started GET "/admin_dashboard/give_out_book/3" for 127.0.0.1 at 2024-12-25 19:49:09 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"3"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 4.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.0ms)
Completed 200 OK in 239ms (Views: 7.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/3" for 127.0.0.1 at 2024-12-25 19:49:35 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"3"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 214ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/3" for 127.0.0.1 at 2024-12-25 19:52:02 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"3"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/3" for 127.0.0.1 at 2024-12-25 19:52:03 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"3"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 210ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/3" for 127.0.0.1 at 2024-12-25 19:52:06 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"3"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 210ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/2" for 127.0.0.1 at 2024-12-25 20:09:49 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"2"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 228ms (Views: 3.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/3" for 127.0.0.1 at 2024-12-25 20:09:49 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"3"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 230ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-25 21:32:26 +0300
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 216ms (Views: 3.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-07c96737.css" for 127.0.0.1 at 2024-12-25 21:32:26 +0300
Started GET "/assets/application.tailwind-a734f247.css" for 127.0.0.1 at 2024-12-25 21:32:26 +0300
Started GET "/register" for 127.0.0.1 at 2024-12-25 21:32:27 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 3.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 6.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-25 22:18:54 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 214ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-25 22:18:56 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 210ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-25 22:19:19 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@admin.com' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 503ms (ActiveRecord: 9.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 22:19:20 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 214ms (Views: 3.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 22:19:22 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 3 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 2 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 9.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | GC: 0.0ms)
Completed 200 OK in 215ms (Views: 7.9ms | ActiveRecord: 2.7ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/3" for 127.0.0.1 at 2024-12-25 22:19:54 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"3"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 206ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/3" for 127.0.0.1 at 2024-12-25 22:22:01 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"3"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 3 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'user4@user.com' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 3 LIMIT 1[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "operations" WHERE "operations"."user_id" = 5 AND "operations"."book_id" = 3 AND "operations"."returned" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (0.6ms)[0m  [1m[32mINSERT INTO "operations" ("user_id", "book_id", "took", "returned") VALUES (5, 3, '2024-12-25 19:22:01.789994', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Гарри Поттер' AND "books"."id" != 3 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Update (0.3ms)[0m  [1m[33mUPDATE "books" SET "count" = 499, "updated_at" = '2024-12-25 19:22:01.909021' WHERE "books"."id" = 3 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 364ms (ActiveRecord: 12.3ms (8 queries, 1 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-25 22:22:01 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 2 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 3 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 6.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | GC: 0.0ms)
Completed 200 OK in 228ms (Views: 10.6ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-25 22:26:06 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 206ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  [1m[35m (331.4ms)[0m  [1m[35mCREATE DATABASE "onlibrary_development" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
  [1m[35m (230.2ms)[0m  [1m[35mCREATE DATABASE "onlibrary_development" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (175.1ms)[0m  [1m[35mCREATE DATABASE "onlibrary_development" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Onlibrary'*/[0m
  [1m[35m (109.1ms)[0m  [1m[35mCREATE DATABASE "onlibrary_test" ENCODING = 'unicode' /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Onlibrary'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(940596424402192635) /*application='Onlibrary'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-28 18:17:27 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 56.7ms | GC: 0.0ms)
Completed 200 OK in 1494ms (Views: 84.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-28 18:17:29 +0300
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 631ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-28 18:17:32 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 34.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 35.9ms | GC: 0.0ms)
Completed 200 OK in 679ms (Views: 40.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-28 18:17:34 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 624ms (Views: 7.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-28 18:17:39 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'dimaeleckij2016@gmail.com' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 1045ms (ActiveRecord: 21.8ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 18:17:40 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 635ms (Views: 10.3ms | ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 18:18:13 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | GC: 0.0ms)
Completed 200 OK in 698ms (Views: 30.2ms | ActiveRecord: 3.7ms (1 query, 0 cached) | GC: 0.3ms)


Started GET "/assets/application-1a2dbdc0.css" for 127.0.0.1 at 2024-12-28 18:18:14 +0300
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 18:18:22 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (2.5ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 671ms (Views: 3.4ms | ActiveRecord: 5.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 18:18:30 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.7ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:15
  [1m[36mBook Load (1.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 59.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 60.8ms | GC: 0.0ms)
Completed 200 OK in 686ms (Views: 56.1ms | ActiveRecord: 6.4ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 18:18:31 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 621ms (Views: 3.4ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 18:18:32 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:17
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 630ms (Views: 4.4ms | ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 18:18:34 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 632ms (Views: 2.2ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


[dotenv] Set [36mDATABASE_PASSWORD[0m and [36mDATABASE_USERNAME[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2024-12-28 18:34:44 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Onlibrary'*/[0m
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 29.1ms | GC: 0.0ms)
Completed 200 OK in 1341ms (Views: 41.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-28 18:34:46 +0300
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 621ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-28 18:34:49 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 11.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | GC: 0.0ms)
Completed 200 OK in 614ms (Views: 16.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-28 18:34:51 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 630ms (Views: 8.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-28 18:34:57 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'dimaeleckij2016@gmail.com' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 995ms (ActiveRecord: 22.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 18:34:58 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 627ms (Views: 6.7ms | ActiveRecord: 0.7ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 18:35:00 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (2.1ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 644ms (Views: 2.8ms | ActiveRecord: 5.1ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 18:35:49 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | GC: 0.0ms)
Completed 200 OK in 659ms (Views: 15.4ms | ActiveRecord: 5.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-0f8eee31.css" for 127.0.0.1 at 2024-12-28 18:35:50 +0300
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 18:35:56 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 615ms (Views: 3.0ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 18:35:58 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 614ms (Views: 1.9ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 18:36:02 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 604ms (Views: 1.8ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 18:36:26 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | GC: 0.0ms)
Completed 200 OK in 631ms (Views: 12.0ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 18:37:26 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 643ms (Views: 2.3ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:09:16 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (216.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (1.9ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 862ms (Views: 1.9ms | ActiveRecord: 225.1ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:09:22 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 610ms (Views: 2.6ms | ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:09:26 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 618ms (Views: 1.8ms | ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:09:47 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 629ms (Views: 1.9ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:09:52 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (1.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:17
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 11.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | GC: 0.0ms)
Completed 200 OK in 627ms (Views: 7.6ms | ActiveRecord: 6.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:09:55 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 634ms (Views: 1.8ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-28 19:09:57 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 620ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-28 19:09:58 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 639ms (Views: 6.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-28 19:10:00 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 200 OK in 606ms (Views: 7.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-28 19:10:02 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 608ms (Views: 7.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-28 19:10:08 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@admin.com' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 836ms (ActiveRecord: 0.7ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-28 19:10:09 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 613ms (Views: 6.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-28 19:10:13 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 629ms (Views: 7.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-28 19:10:27 +0300
Processing by BooksController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Война и мир", "author"=>"Лев Толстой", "count"=>"16"}, "commit"=>"Добавить книгу"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."name" = 'Война и мир' LIMIT 1 /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
  [1m[36mBook Exists? (3.2ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' LIMIT 1 /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
  [1m[36mBook Create (4.5ms)[0m  [1m[32mINSERT INTO "books" ("name", "author", "count", "created_at", "updated_at") VALUES ('Война и мир', 'Лев Толстой', 16, '2024-12-28 16:10:28.064304', '2024-12-28 16:10:28.064304') RETURNING "id" /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 649ms (ActiveRecord: 9.2ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-28 19:10:28 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 627ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-28 19:10:29 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 609ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-28 19:10:50 +0300
Processing by BooksController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "book"=>{"name"=>"Евгений Онегин", "author"=>"Александр Пушкин", "count"=>"14"}, "commit"=>"Добавить книгу"}
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."name" = 'Евгений Онегин' LIMIT 1 /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:12:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
  [1m[36mBook Exists? (3.1ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Евгений Онегин' LIMIT 1 /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("name", "author", "count", "created_at", "updated_at") VALUES ('Евгений Онегин', 'Александр Пушкин', 14, '2024-12-28 16:10:51.461411', '2024-12-28 16:10:51.461411') RETURNING "id" /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='books'*/[0m
  ↳ app/controllers/books_controller.rb:23:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 615ms (ActiveRecord: 4.3ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-28 19:10:51 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 616ms (Views: 2.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:10:58 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 2 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 3 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 13.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | GC: 0.0ms)
Completed 200 OK in 625ms (Views: 11.8ms | ActiveRecord: 2.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-28 19:11:00 +0300
Processing by BooksController#new as HTML
Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-28 19:11:00 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.0ms)
Completed 200 OK in 824ms (Views: 5.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 780ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-28 19:11:03 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 613ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-28 19:11:03 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 613ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-28 19:11:05 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 612ms (Views: 3.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-28 19:11:06 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 623ms (Views: 3.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-28 19:11:11 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'dimaeleckij2016@gmail.com' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 835ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:11:12 +0300
Processing by UserDashboardController#index as TURBO_STREAM
Started GET "/register" for 127.0.0.1 at 2024-12-28 19:11:12 +0300
Processing by UsersController#new as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.0ms)
Completed 200 OK in 929ms (Views: 6.1ms | ActiveRecord: 1.9ms (1 query, 0 cached) | GC: 0.0ms)


  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 880ms (Views: 3.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:11:15 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:17
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 617ms (Views: 3.5ms | ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:11:20 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 633ms (Views: 1.9ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-28 19:11:21 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 647ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-28 19:11:22 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 611ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-28 19:11:23 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 4.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.0ms)
Completed 200 OK in 619ms (Views: 6.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-28 19:11:25 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 613ms (Views: 3.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-28 19:11:30 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@admin.com' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard
Completed 302 Found in 831ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-28 19:11:31 +0300
Processing by AdminDashboardController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 625ms (Views: 2.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:11:37 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 2 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 3 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 9.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | GC: 0.0ms)
Completed 200 OK in 619ms (Views: 10.7ms | ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-28 19:11:39 +0300
Processing by BooksController#new as HTML
Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-28 19:11:39 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.0ms)
Completed 200 OK in 659ms (Views: 5.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-28 19:11:40 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.0ms)
Completed 200 OK in 808ms (Views: 6.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 773ms (Views: 3.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-28 19:11:42 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 607ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:12:19 +0300
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 2 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 3 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 8.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | GC: 0.0ms)
Completed 200 OK in 629ms (Views: 11.8ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-28 19:12:21 +0300
Processing by AdminDashboardController#index as HTML
Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-28 19:12:22 +0300
Processing by BooksController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 694ms (Views: 5.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 624ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-28 19:12:24 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 605ms (Views: 6.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-28 19:12:27 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"1"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'dimaeleckij2016@gmail.com' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."book_id" = 1 AND "operations"."returned" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (2.2ms)[0m  [1m[32mINSERT INTO "operations" ("user_id", "book_id", "took", "returned") VALUES (1, 1, '2024-12-28 16:12:28.423988', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Сборник задач по матанализу' AND "books"."id" != 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Update (2.1ms)[0m  [1m[33mUPDATE "books" SET "count" = 9, "updated_at" = '2024-12-28 16:12:28.465550' WHERE "books"."id" = 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 676ms (ActiveRecord: 18.5ms (8 queries, 1 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:12:28 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 2 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 3 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 10.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | GC: 0.0ms)
Completed 200 OK in 626ms (Views: 11.2ms | ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/3" for 127.0.0.1 at 2024-12-28 19:12:30 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"3"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 609ms (Views: 3.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/3" for 127.0.0.1 at 2024-12-28 19:12:32 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"3"}
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 3 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = '' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/give_out_book/3
Completed 302 Found in 614ms (ActiveRecord: 1.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/3" for 127.0.0.1 at 2024-12-28 19:12:33 +0300
Processing by OperationsController#new as TURBO_STREAM
  Parameters: {"book_id"=>"3"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 612ms (Views: 2.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/3" for 127.0.0.1 at 2024-12-28 19:12:35 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"3"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 3 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'dimaeleckij2016@gmail.com' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 3 LIMIT 1[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."book_id" = 3 AND "operations"."returned" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (0.6ms)[0m  [1m[32mINSERT INTO "operations" ("user_id", "book_id", "took", "returned") VALUES (1, 3, '2024-12-28 16:12:36.680710', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Exists? (3.7ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Евгений Онегин' AND "books"."id" != 3 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Update (0.4ms)[0m  [1m[33mUPDATE "books" SET "count" = 13, "updated_at" = '2024-12-28 16:12:36.706981' WHERE "books"."id" = 3 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 653ms (ActiveRecord: 10.5ms (8 queries, 1 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:12:36 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 2 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 3 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 9.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | GC: 0.0ms)
Completed 200 OK in 656ms (Views: 9.5ms | ActiveRecord: 1.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/3" for 127.0.0.1 at 2024-12-28 19:12:37 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"3"}
Started GET "/admin_dashboard/give_out_book/1" for 127.0.0.1 at 2024-12-28 19:12:38 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 700ms (Views: 4.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/give_out_book/2" for 127.0.0.1 at 2024-12-28 19:12:38 +0300
Processing by OperationsController#new as HTML
  Parameters: {"book_id"=>"2"}
  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 777ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  Rendering layout layouts/application.html.erb
  Rendering operations/new.html.erb within layouts/application
  Rendered operations/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 711ms (Views: 2.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin_dashboard/give_out_book/2" for 127.0.0.1 at 2024-12-28 19:12:41 +0300
Processing by OperationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "operation"=>{"email"=>"[FILTERED]"}, "commit"=>"Выдать", "book_id"=>"2"}
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 2 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:44:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'dimaeleckij2016@gmail.com' LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:46:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 2 LIMIT 1[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."book_id" = 2 AND "operations"."returned" IS NULL LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mOperation Create (0.5ms)[0m  [1m[32mINSERT INTO "operations" ("user_id", "book_id", "took", "returned") VALUES (1, 2, '2024-12-28 16:12:41.868823', NULL) RETURNING "id" /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:60:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Exists? (3.3ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."name" = 'Война и мир' AND "books"."id" != 2 LIMIT 1 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "count" = 15, "updated_at" = '2024-12-28 16:12:41.892339' WHERE "books"."id" = 2 /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*action='create',application='Onlibrary',controller='operations'*/[0m
  ↳ app/controllers/operations_controller.rb:62:in `create'
Redirected to http://127.0.0.1:3000/admin_dashboard/all_books
Completed 302 Found in 631ms (ActiveRecord: 8.8ms (8 queries, 1 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:12:41 +0300
Processing by BooksController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:22
  [1m[36mOperation Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 1 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 3 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  [1m[36mOperation Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "operations" WHERE "operations"."book_id" = 2 AND "operations"."returned" IS NULL /*action='index',application='Onlibrary',controller='books'*/[0m
  ↳ app/views/books/index.html.erb:34
  Rendered books/index.html.erb within layouts/application (Duration: 9.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | GC: 0.0ms)
Completed 200 OK in 618ms (Views: 10.5ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin_dashboard/new_book" for 127.0.0.1 at 2024-12-28 19:12:43 +0300
Processing by BooksController#new as HTML
Started GET "/admin_dashboard" for 127.0.0.1 at 2024-12-28 19:12:43 +0300
Processing by AdminDashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/new.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.0ms)
Completed 200 OK in 841ms (Views: 6.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  Rendering layout layouts/application.html.erb
  Rendering admin_dashboard/index.html.erb within layouts/application
  Rendered admin_dashboard/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 804ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-28 19:12:45 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 610ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-28 19:12:46 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 612ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-28 19:12:47 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 607ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-28 19:12:49 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 609ms (Views: 3.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-28 19:12:54 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'dimaeleckij2016@gmail.com' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 829ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:12:55 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 617ms (Views: 2.3ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:12:58 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:18
  [1m[36mOperation Load (0.6ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:23
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:23
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:23
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 12.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | GC: 0.0ms)
Completed 200 OK in 625ms (Views: 12.0ms | ActiveRecord: 2.4ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:15:19 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 7.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.0ms)
Completed 500 Internal Server Error in 686ms (ActiveRecord: 9.2ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div class="flex flex-col items-center justify-center min-h-screen bg-gradient-to-r from-teal-200 via-cyan-300 to-blue-400 p-8 relative">
  <!-- Кнопка Назад в левом верхнем углу -->
  <div class="absolute top-8 left-8">
    <%= button_to user_dashboard_path, method: :get, class: 'w-12 h-12 flex items-center justify-center bg-teal-500 text-white rounded-full shadow-lg hover:bg-teal-600 transition-all duration-300 ease-in-out'>
    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
      </svg>
    <% end %>
      </div>

      <!-- Заголовок -->
      <h1 class="text-4xl font-extrabold text-gray-800 mb-8 drop-shadow-lg font-montserrat">
        Взятые книги
      </h1>

      <!-- Таблица -->
      <div class="w-full max-w-4xl bg-white shadow-lg rounded-lg overflow-hidden">
        <table class="min-w-full text-sm text-gray-700">
          <thead class="bg-teal-500 text-white">
          <tr>
            <th class="py-3 px-6 text-left">Название книги</th>
            <th class="py-3 px-6 text-left">Автор</th>
            <th class="py-3 px-6 text-left">Дата взятия</th>
          </tr>
          </thead>
          <tbody>
          <% @borrowed_books.each do |book| %>
            <tr class="hover:bg-teal-100 transition duration-300 ease-in-out">
              <td class="py-3 px-6 border-b border-gray-200"><%= book.name %></td>
              <td class="py-3 px-6 border-b border-gray-200"><%= book.author %></td>
              <td class="py-3 px-6 border-b border-gray-200">
                <%= Operation.order(returned: :desc).find_by_book_id(book.id).took.strftime("%d-%m-%Y") %>
              </td>
            </tr>
          <% end %>
          </tbody>
        </table>
      </div>
      </div>

)
Caused by: ActiveSupport::SyntaxErrorProxy (C:/Users/dimae/Downloads/rubyProj/onlibrary/app/views/user_dashboard/show.html.erb:5: syntax error, unexpected '<'
    <svg xmlns="http://www.w3.org/...
    ^
C:/Users/dimae/Downloads/rubyProj/onlibrary/app/views/user_dashboard/show.html.erb:7: unknown regexp options - vg
      </svg>
       ^~~~
)

Information for: ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <div class="flex flex-col items-center justify-center min-h-screen bg-gradient-to-r from-teal-200 via-cyan-300 to-blue-400 p-8 relative">
  <!-- Кнопка Назад в левом верхнем углу -->
  <div class="absolute top-8 left-8">
    <%= button_to user_dashboard_path, method: :get, class: 'w-12 h-12 flex items-center justify-center bg-teal-500 text-white rounded-full shadow-lg hover:bg-teal-600 transition-all duration-300 ease-in-out'>
    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
      </svg>
    <% end %>
      </div>

      <!-- Заголовок -->
      <h1 class="text-4xl font-extrabold text-gray-800 mb-8 drop-shadow-lg font-montserrat">
        Взятые книги
      </h1>

      <!-- Таблица -->
      <div class="w-full max-w-4xl bg-white shadow-lg rounded-lg overflow-hidden">
        <table class="min-w-full text-sm text-gray-700">
          <thead class="bg-teal-500 text-white">
          <tr>
            <th class="py-3 px-6 text-left">Название книги</th>
            <th class="py-3 px-6 text-left">Автор</th>
            <th class="py-3 px-6 text-left">Дата взятия</th>
          </tr>
          </thead>
          <tbody>
          <% @borrowed_books.each do |book| %>
            <tr class="hover:bg-teal-100 transition duration-300 ease-in-out">
              <td class="py-3 px-6 border-b border-gray-200"><%= book.name %></td>
              <td class="py-3 px-6 border-b border-gray-200"><%= book.author %></td>
              <td class="py-3 px-6 border-b border-gray-200">
                <%= Operation.order(returned: :desc).find_by_book_id(book.id).took.strftime("%d-%m-%Y") %>
              </td>
            </tr>
          <% end %>
          </tbody>
        </table>
      </div>
      </div>

):
1:    <div class="flex flex-col items-center justify-center min-h-screen bg-gradient-to-r from-teal-200 via-cyan-300 to-blue-400 p-8 relative">
2:      <!-- Кнопка Назад в левом верхнем углу -->
3:      <div class="absolute top-8 left-8">
4:        <%= button_to user_dashboard_path, method: :get, class: 'w-12 h-12 flex items-center justify-center bg-teal-500 text-white rounded-full shadow-lg hover:bg-teal-600 transition-all duration-300 ease-in-out'>
5:        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
6:        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
7:          </svg>
8:        <% end %>
9:          </div>
10:    
11:          <!-- Заголовок -->
12:          <h1 class="text-4xl font-extrabold text-gray-800 mb-8 drop-shadow-lg font-montserrat">
13:            Взятые книги
14:          </h1>
15:    
16:          <!-- Таблица -->
17:          <div class="w-full max-w-4xl bg-white shadow-lg rounded-lg overflow-hidden">
18:            <table class="min-w-full text-sm text-gray-700">
19:              <thead class="bg-teal-500 text-white">
20:              <tr>
21:                <th class="py-3 px-6 text-left">Название книги</th>
22:                <th class="py-3 px-6 text-left">Автор</th>
23:                <th class="py-3 px-6 text-left">Дата взятия</th>
24:              </tr>
25:              </thead>
26:              <tbody>
27:              <% @borrowed_books.each do |book| %>
28:                <tr class="hover:bg-teal-100 transition duration-300 ease-in-out">
29:                  <td class="py-3 px-6 border-b border-gray-200"><%= book.name %></td>
30:                  <td class="py-3 px-6 border-b border-gray-200"><%= book.author %></td>
31:                  <td class="py-3 px-6 border-b border-gray-200">
32:                    <%= Operation.order(returned: :desc).find_by_book_id(book.id).took.strftime("%d-%m-%Y") %>
33:                  </td>
34:                </tr>
35:              <% end %>
36:              </tbody>
37:            </table>
38:          </div>
39:          </div>
  
app/views/user_dashboard/show.html.erb:5: syntax error, unexpected '<'
app/views/user_dashboard/show.html.erb:7: unknown regexp options - vg

Information for cause: ActiveSupport::SyntaxErrorProxy (C:/Users/dimae/Downloads/rubyProj/onlibrary/app/views/user_dashboard/show.html.erb:5: syntax error, unexpected '<'
    <svg xmlns="http://www.w3.org/...
    ^
C:/Users/dimae/Downloads/rubyProj/onlibrary/app/views/user_dashboard/show.html.erb:7: unknown regexp options - vg
      </svg>
       ^~~~
):
  
app/views/user_dashboard/show.html.erb:5: syntax error, unexpected '<'
app/views/user_dashboard/show.html.erb:7: unknown regexp options - vg
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:16:11 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (2.0ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 31.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 40.1ms | GC: 0.0ms)
Completed 200 OK in 706ms (Views: 42.3ms | ActiveRecord: 13.2ms (6 queries, 0 cached) | GC: 0.2ms)


Started GET "/assets/application-0a4f7216.css" for 127.0.0.1 at 2024-12-28 19:16:12 +0300
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:16:14 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 616ms (Views: 3.1ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:16:16 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 9.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | GC: 0.0ms)
Completed 200 OK in 630ms (Views: 10.1ms | ActiveRecord: 2.0ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:17:18 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 19.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 37.1ms | GC: 0.0ms)
Completed 200 OK in 693ms (Views: 38.9ms | ActiveRecord: 10.2ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-c11c6808.css" for 127.0.0.1 at 2024-12-28 19:17:19 +0300
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:18:32 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 17.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 35.9ms | GC: 0.0ms)
Completed 200 OK in 688ms (Views: 37.6ms | ActiveRecord: 10.2ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-c5dc2b67.css" for 127.0.0.1 at 2024-12-28 19:18:33 +0300
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:19:34 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 618ms (Views: 3.1ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:19:35 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 10.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | GC: 0.0ms)
Completed 200 OK in 629ms (Views: 10.3ms | ActiveRecord: 2.1ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:19:55 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 20.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 37.7ms | GC: 0.0ms)
Completed 200 OK in 698ms (Views: 39.2ms | ActiveRecord: 10.3ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-b700e3f9.css" for 127.0.0.1 at 2024-12-28 19:19:56 +0300
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:20:04 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 17.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 35.1ms | GC: 0.0ms)
Completed 200 OK in 681ms (Views: 37.2ms | ActiveRecord: 9.4ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-be40a5ce.css" for 127.0.0.1 at 2024-12-28 19:20:05 +0300
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:20:09 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 20.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 39.4ms | GC: 0.0ms)
Completed 200 OK in 692ms (Views: 40.6ms | ActiveRecord: 10.7ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-7cfea847.css" for 127.0.0.1 at 2024-12-28 19:20:10 +0300
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:20:33 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 18.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 38.1ms | GC: 0.0ms)
Completed 200 OK in 686ms (Views: 41.0ms | ActiveRecord: 10.4ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:20:36 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 14.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | GC: 0.0ms)
Completed 200 OK in 629ms (Views: 14.6ms | ActiveRecord: 1.9ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-67908042.css" for 127.0.0.1 at 2024-12-28 19:20:36 +0300
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:21:01 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 20.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 37.7ms | GC: 0.0ms)
Completed 200 OK in 679ms (Views: 39.3ms | ActiveRecord: 9.7ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-fc689152.css" for 127.0.0.1 at 2024-12-28 19:21:02 +0300
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:21:14 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 18.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 40.2ms | GC: 0.0ms)
Completed 200 OK in 698ms (Views: 43.1ms | ActiveRecord: 10.5ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-71d773c5.css" for 127.0.0.1 at 2024-12-28 19:21:15 +0300
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:21:42 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 17.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 35.8ms | GC: 0.0ms)
Completed 200 OK in 693ms (Views: 37.6ms | ActiveRecord: 9.5ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-ff1414f4.css" for 127.0.0.1 at 2024-12-28 19:21:43 +0300
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:21:57 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 19.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 36.7ms | GC: 0.0ms)
Completed 200 OK in 685ms (Views: 38.3ms | ActiveRecord: 10.0ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-5e004e85.css" for 127.0.0.1 at 2024-12-28 19:21:58 +0300
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:22:31 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 18.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 26.5ms | GC: 0.0ms)
Completed 200 OK in 670ms (Views: 28.5ms | ActiveRecord: 9.6ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-aa0e3f78.css" for 127.0.0.1 at 2024-12-28 19:22:32 +0300
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:22:48 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 18.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 37.6ms | GC: 0.0ms)
Completed 200 OK in 681ms (Views: 39.2ms | ActiveRecord: 10.0ms (6 queries, 0 cached) | GC: 0.3ms)


Started GET "/assets/application-45242128.css" for 127.0.0.1 at 2024-12-28 19:22:49 +0300
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:22:57 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 19.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 36.8ms | GC: 0.0ms)
Completed 200 OK in 689ms (Views: 38.5ms | ActiveRecord: 9.8ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-c5fa0828.css" for 127.0.0.1 at 2024-12-28 19:22:58 +0300
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:23:08 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 21.5ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 39.9ms | GC: 0.2ms)
Completed 200 OK in 684ms (Views: 41.7ms | ActiveRecord: 10.7ms (6 queries, 0 cached) | GC: 0.2ms)


Started GET "/assets/application-ba23032f.css" for 127.0.0.1 at 2024-12-28 19:23:09 +0300
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:23:16 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 17.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 36.5ms | GC: 0.0ms)
Completed 200 OK in 680ms (Views: 38.5ms | ActiveRecord: 10.0ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-966cc6dd.css" for 127.0.0.1 at 2024-12-28 19:23:17 +0300
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:23:40 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 24.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 42.6ms | GC: 0.0ms)
Completed 200 OK in 689ms (Views: 44.2ms | ActiveRecord: 10.0ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-7f762299.css" for 127.0.0.1 at 2024-12-28 19:23:41 +0300
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:23:43 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 623ms (Views: 2.6ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:23:45 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 10.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | GC: 0.0ms)
Completed 200 OK in 623ms (Views: 10.3ms | ActiveRecord: 2.1ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:23:52 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 613ms (Views: 2.6ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:23:54 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 9.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | GC: 0.0ms)
Completed 200 OK in 623ms (Views: 10.3ms | ActiveRecord: 1.9ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:23:56 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 626ms (Views: 1.8ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:24:15 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 12.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | GC: 0.0ms)
Completed 200 OK in 635ms (Views: 12.6ms | ActiveRecord: 2.2ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:24:25 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 17.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | GC: 0.0ms)
Completed 200 OK in 666ms (Views: 21.0ms | ActiveRecord: 9.7ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:24:27 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 610ms (Views: 2.5ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:24:29 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 14.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | GC: 0.0ms)
Completed 200 OK in 632ms (Views: 14.5ms | ActiveRecord: 1.9ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:24:54 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 633ms (Views: 2.9ms | ActiveRecord: 0.7ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:24:57 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 10.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | GC: 0.0ms)
Completed 200 OK in 651ms (Views: 12.3ms | ActiveRecord: 2.4ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:25:07 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 640ms (Views: 1.9ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:25:09 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 11.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | GC: 0.0ms)
Completed 200 OK in 665ms (Views: 11.9ms | ActiveRecord: 2.3ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:25:13 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 616ms (Views: 2.2ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:25:26 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 12.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | GC: 0.0ms)
Completed 200 OK in 641ms (Views: 13.0ms | ActiveRecord: 2.3ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:25:48 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 47.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 54.0ms | GC: 0.0ms)
Completed 200 OK in 709ms (Views: 57.4ms | ActiveRecord: 10.8ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:25:56 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 19.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 21.2ms | GC: 0.0ms)
Completed 200 OK in 672ms (Views: 23.2ms | ActiveRecord: 10.5ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:26:00 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 21.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | GC: 0.0ms)
Completed 200 OK in 678ms (Views: 24.1ms | ActiveRecord: 10.8ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:26:05 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 18.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.0ms | GC: 0.0ms)
Completed 200 OK in 665ms (Views: 21.6ms | ActiveRecord: 9.6ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:26:16 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:29
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:34
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 15.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | GC: 0.0ms)
Completed 200 OK in 644ms (Views: 15.0ms | ActiveRecord: 2.0ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:26:38 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 628ms (Views: 2.5ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:26:40 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:17
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.0ms)
Completed 200 OK in 621ms (Views: 5.3ms | ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:27:40 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 633ms (Views: 8.9ms | ActiveRecord: 3.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:27:42 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 21.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 22.4ms | GC: 0.0ms)
Completed 200 OK in 652ms (Views: 18.5ms | ActiveRecord: 7.2ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:27:45 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 613ms (Views: 2.1ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:27:49 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 11.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | GC: 0.0ms)
Completed 200 OK in 645ms (Views: 11.7ms | ActiveRecord: 2.3ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:27:53 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 639ms (Views: 4.2ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:27:57 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 29.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 31.8ms | GC: 0.0ms)
Completed 200 OK in 653ms (Views: 30.7ms | ActiveRecord: 2.4ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:28:00 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 619ms (Views: 1.9ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:28:55 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:21
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 8.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 29.1ms | GC: 0.0ms)
Completed 200 OK in 702ms (Views: 31.9ms | ActiveRecord: 6.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-32c40794.css" for 127.0.0.1 at 2024-12-28 19:28:56 +0300
Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:28:56 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:21
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 621ms (Views: 3.9ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:29:46 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:21
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 8.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 28.4ms | GC: 0.0ms)
Completed 200 OK in 681ms (Views: 31.9ms | ActiveRecord: 6.1ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-77f1bc53.css" for 127.0.0.1 at 2024-12-28 19:29:47 +0300
Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:29:50 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:21
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 616ms (Views: 3.4ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:29:52 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.0ms)
Completed 200 OK in 619ms (Views: 5.2ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:29:53 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 4.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.0ms)
Completed 500 Internal Server Error in 641ms (ActiveRecord: 2.0ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method `each' for nil)
Caused by: NoMethodError (undefined method `each' for nil)

Information for: ActionView::Template::Error (undefined method `each' for nil):
    27:       </tr>
    28:       </thead>
    29:       <tbody>
    30:       <% @books.each do |book| %>
    31:         <tr class="hover:bg-purple-100 transition-all duration-300 ease-in-out">
    32:           <td class="py-4 px-6 border-b border-gray-300"><%= book.name %></td>
    33:           <td class="py-4 px-6 border-b border-gray-300"><%= book.author %></td>
  
app/views/user_dashboard/show.html.erb:30

Information for cause: NoMethodError (undefined method `each' for nil):
  
app/views/user_dashboard/show.html.erb:30
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:30:04 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 690ms (Views: 9.9ms | ActiveRecord: 3.6ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:30:06 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 19.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | GC: 0.0ms)
Completed 200 OK in 658ms (Views: 19.8ms | ActiveRecord: 7.4ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:30:08 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 627ms (Views: 2.3ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:30:09 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:21
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 3.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.0ms)
Completed 200 OK in 629ms (Views: 4.9ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:30:19 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 8.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | GC: 0.0ms)
Completed 200 OK in 653ms (Views: 13.1ms | ActiveRecord: 6.1ms (2 queries, 0 cached) | GC: 0.2ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:30:29 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 627ms (Views: 2.9ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:30:31 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 614ms (Views: 3.4ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:30:33 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 640ms (Views: 2.5ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 19:30:34 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:15
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 18.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.4ms | GC: 0.0ms)
Completed 200 OK in 659ms (Views: 18.2ms | ActiveRecord: 4.8ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:30:36 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 621ms (Views: 3.6ms | ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:31:40 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 12.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | GC: 0.0ms)
Completed 200 OK in 638ms (Views: 17.0ms | ActiveRecord: 6.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:31:48 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 627ms (Views: 3.0ms | ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:31:49 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 15.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 17.9ms | GC: 0.0ms)
Completed 200 OK in 656ms (Views: 18.2ms | ActiveRecord: 4.7ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:31:54 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 632ms (Views: 2.1ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:31:55 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 619ms (Views: 4.5ms | ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:32:14 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 626ms (Views: 1.9ms | ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:32:22 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 5.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.0ms)
Completed 200 OK in 630ms (Views: 6.2ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:53:14 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (126.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 748ms (Views: 2.0ms | ActiveRecord: 133.9ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:53:16 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (2.1ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (1.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.7ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 12.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | GC: 0.0ms)
Completed 200 OK in 649ms (Views: 11.4ms | ActiveRecord: 5.3ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:53:17 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 644ms (Views: 1.9ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:53:19 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.0ms)
Completed 200 OK in 618ms (Views: 4.1ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:59:23 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (1.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 5.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 26.7ms | GC: 0.0ms)
Completed 200 OK in 828ms (Views: 31.4ms | ActiveRecord: 10.0ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-38b48e5f.css" for 127.0.0.1 at 2024-12-28 19:59:24 +0300
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:59:28 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 616ms (Views: 2.8ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:59:29 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 614ms (Views: 3.8ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.2ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:59:40 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 8.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | GC: 0.0ms)
Completed 200 OK in 674ms (Views: 13.7ms | ActiveRecord: 15.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:59:48 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 8.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.2ms | GC: 0.0ms)
Completed 200 OK in 669ms (Views: 20.7ms | ActiveRecord: 6.0ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-466c1d81.css" for 127.0.0.1 at 2024-12-28 19:59:49 +0300
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:59:50 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 625ms (Views: 2.6ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 19:59:52 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (2.0ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.6ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 16.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 17.6ms | GC: 0.0ms)
Completed 200 OK in 648ms (Views: 14.8ms | ActiveRecord: 7.1ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 19:59:54 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 623ms (Views: 2.2ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 19:59:55 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.0ms)
Completed 200 OK in 614ms (Views: 3.9ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:00:33 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 8.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | GC: 0.0ms)
Completed 200 OK in 649ms (Views: 13.6ms | ActiveRecord: 5.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:00:57 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 8.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | GC: 0.0ms)
Completed 200 OK in 678ms (Views: 13.9ms | ActiveRecord: 6.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:01:03 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 8.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 27.7ms | GC: 0.0ms)
Completed 200 OK in 816ms (Views: 31.2ms | ActiveRecord: 6.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-742ed215.css" for 127.0.0.1 at 2024-12-28 20:01:04 +0300
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:01:07 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 639ms (Views: 2.7ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:01:09 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 200 OK in 624ms (Views: 3.7ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:01:56 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 10.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | GC: 0.0ms)
Completed 200 OK in 667ms (Views: 15.4ms | ActiveRecord: 6.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:02:23 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 9.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 17.0ms | GC: 0.0ms)
Completed 200 OK in 750ms (Views: 19.7ms | ActiveRecord: 6.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-2f14ae68.css" for 127.0.0.1 at 2024-12-28 20:02:24 +0300
Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:02:28 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 8.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | GC: 0.0ms)
Completed 200 OK in 717ms (Views: 21.7ms | ActiveRecord: 6.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-44ea2a21.css" for 127.0.0.1 at 2024-12-28 20:02:30 +0300
Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:02:49 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 9.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.2ms | GC: 0.0ms)
Completed 200 OK in 669ms (Views: 23.7ms | ActiveRecord: 6.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-9b574f1a.css" for 127.0.0.1 at 2024-12-28 20:02:50 +0300
Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:02:53 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 21.8ms | GC: 0.0ms)
Completed 200 OK in 646ms (Views: 21.9ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-d21ea70c.css" for 127.0.0.1 at 2024-12-28 20:02:53 +0300
Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:03:13 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 8.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | GC: 0.0ms)
Completed 200 OK in 731ms (Views: 12.9ms | ActiveRecord: 6.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:03:19 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.3ms | GC: 0.0ms)
Completed 200 OK in 645ms (Views: 20.5ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-660d91cc.css" for 127.0.0.1 at 2024-12-28 20:03:20 +0300
Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:03:31 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 8.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | GC: 0.0ms)
Completed 200 OK in 755ms (Views: 14.3ms | ActiveRecord: 6.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:03:34 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | GC: 0.0ms)
Completed 200 OK in 652ms (Views: 21.1ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-7b180012.css" for 127.0.0.1 at 2024-12-28 20:03:34 +0300
Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:04:07 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 9.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | GC: 0.0ms)
Completed 200 OK in 665ms (Views: 14.2ms | ActiveRecord: 7.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:04:17 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.7ms | GC: 0.0ms)
Completed 200 OK in 640ms (Views: 20.0ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-0518c95c.css" for 127.0.0.1 at 2024-12-28 20:04:18 +0300
Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:04:36 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 9.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | GC: 0.0ms)
Completed 200 OK in 746ms (Views: 15.5ms | ActiveRecord: 6.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:04:39 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.0ms)
Completed 200 OK in 625ms (Views: 5.5ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:04:40 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.2ms | GC: 0.0ms)
Completed 200 OK in 644ms (Views: 19.5ms | ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-d1b923e5.css" for 127.0.0.1 at 2024-12-28 20:04:41 +0300
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:04:50 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 659ms (Views: 4.8ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:04:51 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 15.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | GC: 0.0ms)
Completed 200 OK in 761ms (Views: 13.7ms | ActiveRecord: 4.5ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:04:59 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 627ms (Views: 4.0ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:05:29 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 8.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 28.1ms | GC: 0.0ms)
Completed 200 OK in 760ms (Views: 31.7ms | ActiveRecord: 6.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-9812aedb.css" for 127.0.0.1 at 2024-12-28 20:05:31 +0300
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:05:34 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 21.3ms | GC: 0.0ms)
Completed 200 OK in 667ms (Views: 21.8ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-29f54fab.css" for 127.0.0.1 at 2024-12-28 20:05:35 +0300
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:05:35 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 626ms (Views: 1.8ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:05:36 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.0ms)
Completed 200 OK in 624ms (Views: 4.4ms | ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:05:41 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 617ms (Views: 2.2ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:05:42 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 17.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | GC: 0.0ms)
Completed 200 OK in 641ms (Views: 16.0ms | ActiveRecord: 4.6ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:05:53 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 631ms (Views: 1.9ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:05:54 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 10.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | GC: 0.0ms)
Completed 200 OK in 632ms (Views: 10.5ms | ActiveRecord: 1.9ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:07:00 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 19.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 21.4ms | GC: 0.0ms)
Completed 200 OK in 683ms (Views: 22.6ms | ActiveRecord: 10.7ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:07:03 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 9.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 26.4ms | GC: 0.0ms)
Completed 200 OK in 651ms (Views: 26.0ms | ActiveRecord: 1.6ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-f45a6d03.css" for 127.0.0.1 at 2024-12-28 20:07:04 +0300
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:07:08 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 10.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | GC: 0.0ms)
Completed 200 OK in 633ms (Views: 10.5ms | ActiveRecord: 2.0ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:07:16 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 21.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 23.0ms | GC: 0.0ms)
Completed 200 OK in 804ms (Views: 25.3ms | ActiveRecord: 11.4ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:07:21 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 12.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 29.7ms | GC: 0.0ms)
Completed 200 OK in 659ms (Views: 29.3ms | ActiveRecord: 1.5ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-ec730c1a.css" for 127.0.0.1 at 2024-12-28 20:07:22 +0300
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:07:47 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.5ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.6ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 23.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 25.6ms | GC: 0.0ms)
Completed 200 OK in 768ms (Views: 27.5ms | ActiveRecord: 11.3ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:07:51 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 13.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | GC: 0.0ms)
Completed 200 OK in 680ms (Views: 12.8ms | ActiveRecord: 2.8ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:07:54 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 10.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 28.3ms | GC: 0.0ms)
Completed 200 OK in 690ms (Views: 27.8ms | ActiveRecord: 2.0ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-fac38f5f.css" for 127.0.0.1 at 2024-12-28 20:07:54 +0300
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:07:57 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 624ms (Views: 2.3ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:07:59 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.0ms)
Completed 200 OK in 622ms (Views: 4.7ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:08:08 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 620ms (Views: 2.3ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:08:09 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.6ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 15.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | GC: 0.0ms)
Completed 200 OK in 637ms (Views: 14.7ms | ActiveRecord: 2.8ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:08:11 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 622ms (Views: 2.9ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:08:12 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 618ms (Views: 3.8ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:08:19 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 607ms (Views: 2.2ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:08:21 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:15
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 13.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | GC: 0.0ms)
Completed 200 OK in 631ms (Views: 13.9ms | ActiveRecord: 1.5ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:08:58 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:15
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 8.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | GC: 0.0ms)
Completed 200 OK in 635ms (Views: 9.0ms | ActiveRecord: 1.5ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:09:15 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 606ms (Views: 1.8ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:09:16 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.5ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.6ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 15.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | GC: 0.0ms)
Completed 200 OK in 766ms (Views: 14.9ms | ActiveRecord: 3.0ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:09:20 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 725ms (Views: 2.2ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:09:22 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 613ms (Views: 3.3ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:09:24 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 622ms (Views: 1.7ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:11:13 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 18.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.1ms | GC: 0.0ms)
Completed 200 OK in 740ms (Views: 22.3ms | ActiveRecord: 10.0ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:11:19 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 617ms (Views: 2.6ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:11:21 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:30
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 3.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | GC: 0.0ms)
Completed 200 OK in 622ms (Views: 5.7ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:11:22 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 628ms (Views: 3.2ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:11:24 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 7.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | GC: 0.0ms)
Completed 200 OK in 623ms (Views: 8.0ms | ActiveRecord: 1.3ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:11:26 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 626ms (Views: 1.8ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:11:30 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.5ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:15
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:17
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:18
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 21.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 23.0ms | GC: 0.0ms)
Completed 200 OK in 831ms (Views: 25.6ms | ActiveRecord: 17.0ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:11:38 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 20.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 26.9ms | GC: 0.0ms)
Completed 200 OK in 862ms (Views: 29.3ms | ActiveRecord: 12.1ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:12:13 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.6ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 17.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.5ms | GC: 0.0ms)
Completed 200 OK in 764ms (Views: 22.2ms | ActiveRecord: 10.4ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:12:15 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.0ms)
Completed 200 OK in 639ms (Views: 7.8ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:12:17 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 11.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | GC: 0.0ms)
Completed 200 OK in 637ms (Views: 15.0ms | ActiveRecord: 1.7ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:13:04 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.8ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.6ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 28.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 30.3ms | GC: 0.0ms)
Completed 200 OK in 727ms (Views: 33.3ms | ActiveRecord: 13.5ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:13:18 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 7.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | GC: 0.0ms)
Completed 200 OK in 644ms (Views: 16.4ms | ActiveRecord: 1.2ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/assets/application-c32610d8.css" for 127.0.0.1 at 2024-12-28 20:13:19 +0300
Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:14:08 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.7ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 19.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | GC: 0.0ms)
Completed 200 OK in 793ms (Views: 23.7ms | ActiveRecord: 11.1ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:14:10 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 8.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | GC: 0.0ms)
Completed 200 OK in 698ms (Views: 9.1ms | ActiveRecord: 1.6ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:14:19 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 6.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 24.6ms | GC: 0.0ms)
Completed 200 OK in 663ms (Views: 24.6ms | ActiveRecord: 1.2ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/assets/application-bdba5be3.css" for 127.0.0.1 at 2024-12-28 20:14:20 +0300
Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:14:34 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 19.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 21.1ms | GC: 0.0ms)
Completed 200 OK in 775ms (Views: 23.4ms | ActiveRecord: 10.7ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:14:39 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 8.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | GC: 0.0ms)
Completed 200 OK in 655ms (Views: 8.9ms | ActiveRecord: 1.5ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:14:43 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 12.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 32.4ms | GC: 0.0ms)
Completed 200 OK in 656ms (Views: 32.2ms | ActiveRecord: 1.7ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/assets/application-859888b1.css" for 127.0.0.1 at 2024-12-28 20:14:43 +0300
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:14:49 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 632ms (Views: 2.4ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:14:51 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:28
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 0.0ms)
Completed 200 OK in 642ms (Views: 4.8ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:14:53 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 659ms (Views: 2.1ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:14:54 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 7.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | GC: 0.0ms)
Completed 200 OK in 619ms (Views: 8.3ms | ActiveRecord: 1.3ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:15:14 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 19.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 21.0ms | GC: 0.0ms)
Completed 200 OK in 795ms (Views: 22.7ms | ActiveRecord: 11.5ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:15:18 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 6.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | GC: 0.0ms)
Completed 200 OK in 635ms (Views: 7.6ms | ActiveRecord: 1.3ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:15:21 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 6.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 23.9ms | GC: 0.0ms)
Completed 200 OK in 637ms (Views: 24.4ms | ActiveRecord: 1.1ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/assets/application-8f740143.css" for 127.0.0.1 at 2024-12-28 20:15:22 +0300
Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:15:52 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 21.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 23.3ms | GC: 0.0ms)
Completed 200 OK in 678ms (Views: 25.5ms | ActiveRecord: 9.9ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:15:55 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 12.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | GC: 0.0ms)
Completed 200 OK in 729ms (Views: 14.2ms | ActiveRecord: 1.7ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:15:58 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.5ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.6ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.8ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 13.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | GC: 0.0ms)
Completed 200 OK in 670ms (Views: 16.0ms | ActiveRecord: 2.5ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:16:01 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 9.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | GC: 0.0ms)
Completed 200 OK in 625ms (Views: 9.8ms | ActiveRecord: 1.3ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:16:03 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 7.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 26.4ms | GC: 0.0ms)
Completed 200 OK in 692ms (Views: 26.5ms | ActiveRecord: 1.2ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/assets/application-aa858aa7.css" for 127.0.0.1 at 2024-12-28 20:16:04 +0300
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:16:22 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 624ms (Views: 2.8ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:16:24 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 10.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | GC: 0.0ms)
Completed 200 OK in 624ms (Views: 10.9ms | ActiveRecord: 2.2ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:16:29 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 631ms (Views: 2.0ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:16:30 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:28
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 627ms (Views: 3.8ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:16:53 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:28
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 8.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | GC: 0.0ms)
Completed 200 OK in 777ms (Views: 16.3ms | ActiveRecord: 6.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:16:58 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:28
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 200 OK in 614ms (Views: 3.7ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:17:00 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 611ms (Views: 2.3ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:17:02 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 19.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.7ms | GC: 0.0ms)
Completed 200 OK in 645ms (Views: 18.2ms | ActiveRecord: 5.0ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:17:04 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 619ms (Views: 1.7ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:17:06 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:28
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 632ms (Views: 3.8ms | ActiveRecord: 1.1ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:17:08 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 625ms (Views: 2.1ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:17:09 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 10.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | GC: 0.0ms)
Completed 200 OK in 627ms (Views: 10.6ms | ActiveRecord: 1.4ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:17:43 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 21.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 23.2ms | GC: 0.0ms)
Completed 200 OK in 780ms (Views: 27.3ms | ActiveRecord: 10.1ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:17:47 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 7.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.0ms)
Completed 200 OK in 645ms (Views: 7.9ms | ActiveRecord: 1.5ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:17:50 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 8.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | GC: 0.0ms)
Completed 200 OK in 647ms (Views: 8.7ms | ActiveRecord: 1.7ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:17:55 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 7.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 24.4ms | GC: 0.0ms)
Completed 200 OK in 644ms (Views: 24.4ms | ActiveRecord: 1.2ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/assets/application-26e6f3dd.css" for 127.0.0.1 at 2024-12-28 20:17:56 +0300
Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:17:57 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 6.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | GC: 0.0ms)
Completed 200 OK in 631ms (Views: 7.5ms | ActiveRecord: 1.6ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:18:00 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 6.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | GC: 0.0ms)
Completed 200 OK in 618ms (Views: 8.2ms | ActiveRecord: 1.2ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:18:19 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 747ms (Views: 9.9ms | ActiveRecord: 3.8ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:18:22 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:28
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 8.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | GC: 0.0ms)
Completed 200 OK in 694ms (Views: 6.8ms | ActiveRecord: 3.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:18:27 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:28
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.0ms)
Completed 200 OK in 673ms (Views: 4.0ms | ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:18:29 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 622ms (Views: 1.7ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:18:30 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 13.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | GC: 0.0ms)
Completed 200 OK in 648ms (Views: 12.2ms | ActiveRecord: 4.1ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:18:47 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 20.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 21.6ms | GC: 0.0ms)
Completed 200 OK in 780ms (Views: 24.6ms | ActiveRecord: 10.3ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:19:25 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 18.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 22.7ms | GC: 0.0ms)
Completed 200 OK in 666ms (Views: 25.4ms | ActiveRecord: 9.5ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:19:29 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 8.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | GC: 0.0ms)
Completed 200 OK in 739ms (Views: 8.7ms | ActiveRecord: 1.5ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:19:33 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 7.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | GC: 0.0ms)
Completed 200 OK in 633ms (Views: 8.4ms | ActiveRecord: 1.4ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:19:36 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 8.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | GC: 0.0ms)
Completed 200 OK in 732ms (Views: 9.2ms | ActiveRecord: 1.5ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:19:38 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 10.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 29.7ms | GC: 0.0ms)
Completed 200 OK in 647ms (Views: 29.7ms | ActiveRecord: 1.2ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/assets/application-eb545b3c.css" for 127.0.0.1 at 2024-12-28 20:19:39 +0300
Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:20:11 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 17.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 22.3ms | GC: 0.0ms)
Completed 200 OK in 676ms (Views: 25.0ms | ActiveRecord: 9.2ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:20:15 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 8.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | GC: 0.0ms)
Completed 200 OK in 714ms (Views: 9.5ms | ActiveRecord: 1.6ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:20:17 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 8.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | GC: 0.0ms)
Completed 200 OK in 746ms (Views: 9.8ms | ActiveRecord: 1.7ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:20:19 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 7.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.0ms)
Completed 200 OK in 630ms (Views: 8.0ms | ActiveRecord: 1.6ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:20:20 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 8.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | GC: 0.0ms)
Completed 200 OK in 638ms (Views: 8.8ms | ActiveRecord: 1.3ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:20:22 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 16.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | GC: 0.0ms)
Completed 200 OK in 679ms (Views: 21.5ms | ActiveRecord: 1.4ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:20:23 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 9.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | GC: 0.0ms)
Completed 200 OK in 707ms (Views: 15.9ms | ActiveRecord: 1.8ms (6 queries, 2 cached) | GC: 0.2ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:20:28 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.6ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 8.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | GC: 0.0ms)
Completed 200 OK in 640ms (Views: 15.6ms | ActiveRecord: 1.9ms (6 queries, 2 cached) | GC: 0.2ms)


Started GET "/assets/application-21ec9cb0.css" for 127.0.0.1 at 2024-12-28 20:20:28 +0300
Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:21:35 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 19.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 21.7ms | GC: 0.0ms)
Completed 200 OK in 805ms (Views: 24.9ms | ActiveRecord: 11.6ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:21:40 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 7.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | GC: 0.0ms)
Completed 200 OK in 641ms (Views: 7.8ms | ActiveRecord: 1.2ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:21:42 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 8.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | GC: 0.0ms)
Completed 200 OK in 650ms (Views: 9.2ms | ActiveRecord: 1.2ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:21:46 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 9.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 27.9ms | GC: 0.0ms)
Completed 200 OK in 672ms (Views: 27.8ms | ActiveRecord: 1.4ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/assets/application-ab305dd9.css" for 127.0.0.1 at 2024-12-28 20:21:47 +0300
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:21:52 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 621ms (Views: 2.4ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:21:53 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:28
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.0ms)
Completed 200 OK in 620ms (Views: 4.1ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:22:02 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 639ms (Views: 1.8ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:22:04 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 10.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | GC: 0.0ms)
Completed 200 OK in 632ms (Views: 10.9ms | ActiveRecord: 1.7ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:22:07 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 614ms (Views: 1.7ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:22:08 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 7.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | GC: 0.0ms)
Completed 200 OK in 627ms (Views: 7.7ms | ActiveRecord: 1.7ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:22:48 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 5.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.0ms)
Completed 200 OK in 629ms (Views: 6.4ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:22:50 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:28
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.0ms)
Completed 200 OK in 612ms (Views: 4.0ms | ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:23:21 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:28
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 8.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | GC: 0.0ms)
Completed 200 OK in 737ms (Views: 14.1ms | ActiveRecord: 6.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:23:24 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 697ms (Views: 3.2ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:23:25 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 16.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.1ms | GC: 0.0ms)
Completed 200 OK in 746ms (Views: 15.7ms | ActiveRecord: 4.7ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:23:59 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 19.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 28.0ms | GC: 0.0ms)
Completed 200 OK in 693ms (Views: 30.5ms | ActiveRecord: 9.6ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-b53f2285.css" for 127.0.0.1 at 2024-12-28 20:24:00 +0300
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:24:03 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 750ms (Views: 3.8ms | ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:24:04 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:28
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 4.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.0ms)
Completed 200 OK in 759ms (Views: 6.0ms | ActiveRecord: 1.1ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:24:29 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.7ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:28
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 9.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | GC: 0.0ms)
Completed 200 OK in 910ms (Views: 22.1ms | ActiveRecord: 7.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-7b5d3008.css" for 127.0.0.1 at 2024-12-28 20:24:30 +0300
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:24:37 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 652ms (Views: 2.4ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:24:38 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (1.0ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 17.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | GC: 0.0ms)
Completed 200 OK in 691ms (Views: 15.5ms | ActiveRecord: 5.8ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:24:40 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 9.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 27.1ms | GC: 0.0ms)
Completed 200 OK in 653ms (Views: 27.7ms | ActiveRecord: 1.7ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-d3f0b380.css" for 127.0.0.1 at 2024-12-28 20:24:41 +0300
Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:24:57 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 23.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 24.9ms | GC: 0.0ms)
Completed 200 OK in 674ms (Views: 26.1ms | ActiveRecord: 10.1ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:25:15 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 20.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 22.5ms | GC: 0.0ms)
Completed 200 OK in 781ms (Views: 24.9ms | ActiveRecord: 10.6ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:25:18 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 738ms (Views: 3.1ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:25:19 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:28
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 3.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 0.0ms)
Completed 200 OK in 640ms (Views: 4.8ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:25:31 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:28
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 10.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 30.3ms | GC: 0.0ms)
Completed 200 OK in 792ms (Views: 34.0ms | ActiveRecord: 6.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-c681fd6d.css" for 127.0.0.1 at 2024-12-28 20:25:32 +0300
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:25:32 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | GC: 0.0ms)
Completed 200 OK in 720ms (Views: 7.4ms | ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:25:34 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.6ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 16.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | GC: 0.0ms)
Completed 200 OK in 754ms (Views: 15.0ms | ActiveRecord: 5.6ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:25:48 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | GC: 0.0ms)
Completed 200 OK in 634ms (Views: 8.7ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-28edcb1f.css" for 127.0.0.1 at 2024-12-28 20:25:49 +0300
Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:25:49 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 612ms (Views: 1.8ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:25:51 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:28
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 5.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.0ms)
Completed 200 OK in 617ms (Views: 6.0ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:26:41 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:28
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 8.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | GC: 0.0ms)
Completed 200 OK in 759ms (Views: 14.4ms | ActiveRecord: 6.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:26:44 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 722ms (Views: 2.5ms | ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:26:46 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 16.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | GC: 0.0ms)
Completed 200 OK in 647ms (Views: 15.8ms | ActiveRecord: 5.0ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:26:50 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 623ms (Views: 2.2ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:26:52 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:28
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.7ms | GC: 0.0ms)
Completed 200 OK in 640ms (Views: 20.8ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-c706d807.css" for 127.0.0.1 at 2024-12-28 20:26:52 +0300
Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:26:52 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:28
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.0ms)
Completed 200 OK in 660ms (Views: 4.1ms | ActiveRecord: 1.1ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:26:57 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 623ms (Views: 1.8ms | ActiveRecord: 4.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:26:59 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 9.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | GC: 0.0ms)
Completed 200 OK in 627ms (Views: 10.0ms | ActiveRecord: 1.3ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:29:30 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 19.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.6ms | GC: 0.0ms)
Completed 200 OK in 656ms (Views: 23.0ms | ActiveRecord: 8.6ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:29:37 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 625ms (Views: 2.6ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:29:38 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:28
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.0ms)
Completed 200 OK in 638ms (Views: 5.4ms | ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:30:52 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 651ms (Views: 9.6ms | ActiveRecord: 3.6ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:30:53 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.2ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 17.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.6ms | GC: 0.0ms)
Completed 200 OK in 653ms (Views: 15.0ms | ActiveRecord: 7.0ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:31:11 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.2ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 27.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 29.0ms | GC: 0.0ms)
Completed 200 OK in 797ms (Views: 30.9ms | ActiveRecord: 13.6ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:32:26 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.3ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 28.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 29.8ms | GC: 0.0ms)
Completed 200 OK in 681ms (Views: 31.4ms | ActiveRecord: 10.0ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/borrowed_books" for 127.0.0.1 at 2024-12-28 20:33:05 +0300
Processing by UserDashboardController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.3ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NULL /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/show.html.erb within layouts/application
  [1m[36mBook Load (0.5ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" IN (1, 2, 3) /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:27
  [1m[36mOperation Load (0.6ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 1 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.5ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 2 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."book_id" = 3 ORDER BY "operations"."returned" DESC LIMIT 1 /*action='show',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/show.html.erb:32
  Rendered user_dashboard/show.html.erb within layouts/application (Duration: 26.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 28.0ms | GC: 0.0ms)
Completed 200 OK in 814ms (Views: 29.1ms | ActiveRecord: 13.1ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:33:11 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 749ms (Views: 2.8ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/all_books" for 127.0.0.1 at 2024-12-28 20:33:13 +0300
Processing by UserDashboardController#all_books as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/all_books.html.erb within layouts/application
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE (count > 0) /*action='all_books',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/all_books.html.erb:28
  Rendered user_dashboard/all_books.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.0ms)
Completed 200 OK in 629ms (Views: 4.4ms | ActiveRecord: 1.1ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:33:16 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 656ms (Views: 2.3ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard/history" for 127.0.0.1 at 2024-12-28 20:33:17 +0300
Processing by UserDashboardController#history as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  [1m[36mOperation Pluck (0.4ms)[0m  [1m[34mSELECT "operations"."book_id" FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/user_dashboard_controller.rb:19:in `history'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/history.html.erb within layouts/application
  [1m[36mOperation Load (0.4ms)[0m  [1m[34mSELECT "operations".* FROM "operations" WHERE "operations"."user_id" = 1 AND "operations"."returned" IS NOT NULL ORDER BY "operations"."returned" DESC /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:31
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1 /*action='history',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:33
  [1m[36mCACHE Book Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = 1 LIMIT 1[0m
  ↳ app/views/user_dashboard/history.html.erb:34
  Rendered user_dashboard/history.html.erb within layouts/application (Duration: 10.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | GC: 0.0ms)
Completed 200 OK in 638ms (Views: 11.1ms | ActiveRecord: 1.7ms (6 queries, 2 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:33:22 +0300
Processing by UserDashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 616ms (Views: 2.7ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/logout" for 127.0.0.1 at 2024-12-28 20:33:25 +0300
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 616ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2024-12-28 20:33:26 +0300
Processing by HomeController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 633ms (Views: 7.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/register" for 127.0.0.1 at 2024-12-28 20:33:27 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 620ms (Views: 9.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2024-12-28 20:33:29 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 627ms (Views: 8.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/login" for 127.0.0.1 at 2024-12-28 20:33:34 +0300
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "session"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Войти"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'dimaeleckij2016@gmail.com' LIMIT 1 /*action='create',application='Onlibrary',controller='sessions'*/[0m
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://127.0.0.1:3000/user_dashboard
Completed 302 Found in 832ms (ActiveRecord: 0.8ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/user_dashboard" for 127.0.0.1 at 2024-12-28 20:33:35 +0300
Processing by UserDashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='index',application='Onlibrary',controller='user_dashboard'*/[0m
  ↳ app/controllers/application_controller.rb:11:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering user_dashboard/index.html.erb within layouts/application
  Rendered user_dashboard/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 619ms (Views: 1.9ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


